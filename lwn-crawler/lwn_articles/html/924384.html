        <!DOCTYPE html>
        <html lang="en">
        <head><title>The rest of the 6.3 merge window [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/924384/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/924892/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/924384/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>The rest of the 6.3 merge window</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>We're bad at marketing</b>
<p>
We can admit it, marketing is not our strong suit. Our strength is
writing the kind of articles that developers, administrators, and
free-software supporters depend on to know what is going on in the
Linux world. Please <a href="/Promo/nsn-bad/subscribe">subscribe today</a> to help us keep doing that, and so
we donâ€™t have to get good at marketing.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>March 6, 2023</br>
           </div>
Linus Torvalds <a
href="/ml/linux-kernel/CAHk-=wgr1D8hb75Z+nn+4LXUnosp0HM+gP+YJEcEav1DgTC=Cw@mail.gmail.com/">released
6.3-rc1</a> and closed the 6.3 merge window as expected on March&nbsp;5.
By that time, 12,717 non-merge commits (and 848 merges) had found their
way into the mainline kernel; nearly 7,000 of those commits came in after <a
href="/Articles/923846/">the first-half merge-window summary</a> was
written.  The second half of the 6.3 merge window was thus a busy time,
with quite a bit of new functionality landing in the mainline.
<p>
Some of the most significant changes merged during this time are:
<p>
<h4>Architecture-specific</h4>
<p>
<ul class="spacylist">

<li> RISC-V kernels can use the "ZBB" bit-manipulation extension, when
     present, to accelerate string operations.
<li> User-mode Linux (on x86-64 systems) now supports code written in Rust.
<li> LoongArch has gained support for kernel relocation, kernel
     address-space layout randomization, hardware breakpoints and
     watchpoints, and kprobes.
</ul>


<p>
<h4>Core kernel</h4>
<p>
<ul class="spacylist">

<li> It is now possible to <a href="/Articles/918106/">create a
     non-executable memfd</a> and prevent execute permission from being
     enabled thereafter.
<li> The <a href="/Articles/863753/">DAMOS</a> memory-management interface
     has a new "filters" option; there is some documentation in <a
     href="https://git.kernel.org/linus/9b7f9322a530">this commit</a>.
<li> The new <tt>PR_SET_MDWE</tt> <tt>prctl()</tt> operation will cause any
     attempts to enable both write and execute permissions on memory in the
     target process to be denied; see <a
     href="https://git.kernel.org/linus/b507808ebce2">this commit
     message</a> for more information.
</ul>

<p>
<h4>Filesystems and block I/O</h4>
<p>
<ul class="spacylist">

<li> The NFS filesystem (both the client and server sides) has gained
     support for AES-SHA2-based encryption.
<li> The filesystems in user space (FUSE) subsystem has a new <a
     href="https://git.kernel.org/linus/15d937d7ca8c">request extension</a>
     mechanism that can be used to put additional information onto a
     request.  The first use is to <a
     href="https://git.kernel.org/linus/8ed7cb3f279f">add supplementary
     groups</a> to a filesystem request.
<li> Christian Brauner <a
     href="https://git.kernel.org/linus/3304f18bfcf5">has been added</a> as
     a co-maintainer of the virtual filesystem (VFS) layer.
</ul>

<p>
<h4>Hardware support</h4>
<p>
<ul class="spacylist">
<li> <b>Clock</b>:
     MediaTek MT7981 basic clocks,
     Qualcomm SM6350 camera clock controllers,
     Qualcomm SM8550 TCSR clock controllers,
     Qualcomm SM8550 display clock controllers,
     Qualcomm SA8775 and QDU1000/QRU1000 global clock controllers, and
     NXP BBNSM realtime clocks.
<li> <b>Graphics</b>:
     Orise Technology ota5601a RGB/SPI panels,
     Visionox VTDR6130 1080x2400 AMOLED DSI panels,
     HIMAX HX8394 MIPI-DSI LCD panels,
     Intel "versatile processing unit" inference accelerators, and
     AUO A030JTN01 320x480 3.0" panels.
     Also, several ancient drivers (i810, mga, r128,
     savage, sis, tdfx, and via) have been removed; they were all marked as
     being obsolete in 2016.
<li> <b>Industrial I/O</b>:
     TI TMAG5273 low-power linear 3D Hall-effect sensors,
     TI LMP92064 and ADS7924 analog-to-digital converters,
     Maxim MAX5522 digital-to-analog converters, and
     NXP IMX93 analog-to-digital converters.
<li> <b>Media</b>:
     OmniVision OV8858 image sensors and
     Sony IMX296 and IMX415 sensors.
<li> <b>Miscellaneous</b>:
     Unisoc UFS SCSI host controllers,
     Intel MAX 10 board management controllers with PMCI,
     Kinetic KTZ8866 backlight controllers,
     Microchip 8250-based serial ports,
     Ultrasoc system memory buffers,
     CoreSight trace, profiling, and diagnostics monitors,
     Qualcomm SDM670 and SA8775P interconnects,
     Freescale i.MX6/7/8 PCIe controllers in endpoint mode,
     Richtek RT9471 and RT9467 battery chargers,
     Loongson LS2X I2C adapters,
     GXP I2C Interfaces,
     Xilinx DMA/Bridge subsystem DMA engines,
     StarFive JH71XX power-management units,
     Renesas RZ/V2M external power sequence controllers,
     Allwinner D1 PPU power domain controllers,
     MediaTek SoC regulator couplers,
     Qualcomm ramp controllers, and
     Qualcomm PMIC GLINK interfaces.
<li> <b>USB</b>:
     Renesas RZ/N1 USB function controllers,
     Renesas USB3.1 DRD controllers,
     Qualcomm SNPS eUSB2 PHYs, and
     Qualcomm SNPS eUSB2 repeaters.
<li> <b>Also</b>: there is a new <tt>pata_parport</tt> driver that can
     manage IDE drives connected by way of a parallel port.  With this
     driver, much of the work is done by the ATA layer, and the old PARIDE
     drivers have been removed.  In this new world, it is no longer
     possible to put both drives and a printer on the port; <a
     href="https://git.kernel.org/linus/246a1c4c6b7f">this commit</a> has
     some more information.  <p> (Ask your parents if you're unfamiliar
     with parallel ports and IDE drives.)  </ul>

<p>
<h4>Miscellaneous</h4>
<p>
<ul class="spacylist">

<li> The <a href="/Articles/920158/">Nolibc</a> library has gained support
     for the s390 architecture and the Arm Thumb1 instruction set.
<li> The new <tt>hwnoise</tt> tool can measure timing jitter caused by
     hardware; <a href="https://git.kernel.org/linus/5dc3750e747f">this
     commit</a> contains a man page describing its operation.
<li> The <tt>perf</tt> tool has seen a number of improvements; <a
     href="https://git.kernel.org/linus/0df82189bc42">this merge
     message</a> has details.
<li> The kernel now can feature <a
     href="https://git.kernel.org/linus/d5528cc16893">a built-in Dhrystone
     benchmark test</a>.
</ul>



<p>
<h4>Virtualization and containers</h4>
<p>
<ul class="spacylist">

<li> KVM on x86 has gained the ability to support <a
     href="https://learn.microsoft.com/en-us/virtualization/hyper-v-on-windows/tlfs/hypercall-interface#extended-hypercall-interface">Hyper-V
     extended hypercalls</a>.  These calls are implemented by passing them
     through to user space on the host side.
<li> Also on x86, KVM has made it easier to restrict the
     performance-measurement-unit events that are available to the guest;
     <a href="https://git.kernel.org/linus/14329b825ffb">this commit</a>
     has more information.

</ul>

<p>
<h4>Internal kernel changes</h4>
<p>
<ul class="spacylist">

<li> The internal <tt>__GFP_ATOMIC</tt> memory-allocation flag <a
     href="/Articles/920891/">has been removed</a>.  Almost nobody should
     notice the change.
<li> The (default) <tt>V=0</tt> make option has been removed.  The
     <tt>V=1</tt> (verbose mode) and <tt>V=2</tt> (show the reason why a
     target was rebuilt) can now be selected together as <tt>V=12</tt>.
<li> There has been <a href="https://git.kernel.org/linus/d4563201f33a">a
     minor change</a> to the developer's certificate of origin to make it
     clear that patches submitted using a nickname are acceptable.
<li> The internal representation of capabilities <a
     href="https://git.kernel.org/linus/f122a08b197d">has been changed</a>
     to a simple <tt>u64</tt> value.  The previous (array) representation
     had been designed to allow for more capabilities in the future, but as
     Torvalds noted in the changelog, "<q>the last thing we want to do is
     to extend the capability set any more</q>".
<li> Support for building with the Intel ICC compiler <a
     href="https://git.kernel.org/linus/95207db8166a">has been removed</a>.
     It has seemingly been broken for some time and nobody noticed.
</ul>
<p>
The next seven or eight weeks will be spent stabilizing this new code in
preparation for the 6.3 release, which should happen on April&nbsp;23
or&nbsp;30.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-6.3">Releases/6.3</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/924384/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor925357"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.3 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 6, 2023 17:45 UTC (Mon)
                               by <b>Cyberax</b> (<b>&#x272D; supporter &#x272D;</b>, #52523)
                              [<a href="/Articles/925357/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt;  There has been a minor change to the developer's certificate of origin to make it clear that patches submitted using a nickname are acceptable.</span><br>
<p>
Nice. I was worried that Asahi Lina's patches might be refused because of the requirement for the real name.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925357/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor925375"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.3 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 6, 2023 22:39 UTC (Mon)
                               by <b>flussence</b> (guest, #85566)
                              [<a href="/Articles/925375/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I wonder if the frequent complaints of subsystem maintainers obstructing that upstreaming work was what prompted this.<br>
<p>
On a side note, this move is the polar opposite of something Gentoo's quietly been doing the past few months, cracking down on contributors of every tenure and ability solely for not providing a government-verifiable identity. My cynicism says they're doing it to ape current US politics, because the distro has historically courted people like that.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925375/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor925400"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.3 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 7, 2023 9:33 UTC (Tue)
                               by <b>sima</b> (subscriber, #160698)
                              [<a href="/Articles/925400/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It's been brewing for a long time because there's been long-established confusion between maintainers that always handled it in the "known identity" sense that Linus explains in the commit message, and some others (I think mostly exceptions as far as I know) who treated it more in the "the name that's on your passport" sense that "real name policy" has become to stand for. At least if you search lore hard enough you find mutterings along these lines a long while back, but it never was very loud.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925400/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor925380"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.3 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 7, 2023 16:52 UTC (Tue)
                               by <b>Cyberax</b> (<b>&#x272D; supporter &#x272D;</b>, #52523)
                              [<a href="/Articles/925380/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I would guess that the level of review is different. Kernel patches typically flow through a network of maintainers and get at least some attention. With Gentoo most packages have exactly one maintainer who looks at changes.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925380/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor925527"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.3 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 7, 2023 17:41 UTC (Tue)
                               by <b>lfam</b> (subscriber, #127309)
                              [<a href="/Articles/925527/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; On a side note, this move is the polar opposite of something Gentoo's quietly been doing the past few months, cracking down on contributors of every tenure and ability solely for not providing a government-verifiable identity. My cynicism says they're doing it to ape current US politics, because the distro has historically courted people like that.</span><br>
<p>
Can you link to any context or discussion of this from Gentoo? I'm interested to learn more about it.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925527/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor926694"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.3 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 20, 2023 23:21 UTC (Mon)
                               by <b>flussence</b> (guest, #85566)
                              [<a href="/Articles/926694/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<a href="https://bugs.gentoo.org/900857">https://bugs.gentoo.org/900857</a> has been in filibuster purgatory until this year, and only because the kernel community's action here has pressured them into doing something. That's very much the tip of the iceberg, parts of the story are in 542498, 606562, 828973 and 895856 (and others, which I've long since lost track of).<br>
<p>
Unfortunately nobody's done a cohesive writeup of any of it, and to do so would require deep-diving ~5 years of bugzilla, the -project mailing list (which doesn't seem to be archived anywhere with a usable UI), andâ€¦ parts of the forums that were deleted outright a few years ago. That's another story entirely, but the short version is that a Large Corporate Sponsor decided it was a bad look for the distro to have no code of conduct or copyright attribution.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/926694/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor925377"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KVM hypercalls</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 6, 2023 23:31 UTC (Mon)
                               by <b>geofft</b> (subscriber, #59789)
                              [<a href="/Articles/925377/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I was curious what KVM had to do with Hyper-V hypercalls. The answer appears to be that it supports emulating Hyper-V's hypercalls for a guest OS - specifically Windows - that knows about Hyper-V but not about KVM paravirtualization. If you enable this feature, KVM identifies itself to the guest via CPUID as Hyper-V, not KVM. (That is, the new features have to do with Windows running under KVM, not with anything running under actual Hyper-V.)<br>
<p>
<a href="https://www.qemu.org/docs/master/system/i386/hyperv.html">https://www.qemu.org/docs/master/system/i386/hyperv.html</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925377/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor925389"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.3 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 7, 2023 7:06 UTC (Tue)
                               by <b>donald.buczek</b> (subscriber, #112892)
                              [<a href="/Articles/925389/">Link</a>] (13 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; The kernel now can feature a built-in Dhrystone benchmark test. </span><br>
<span class="QuotedText">&gt;  <a href="https://git.kernel.org/linus/d5528cc16893">https://git.kernel.org/linus/d5528cc16893</a></span><br>
<span class="QuotedText">&gt; &gt; author	Geert Uytterhoeven &lt;geert+renesas@glider.be&gt;	2022-12-08 15:31:28 +0100</span><br>
<span class="QuotedText">&gt; &gt; committer	Andrew Morton &lt;akpm@linux-foundation.org&gt;	2023-02-02 22:50:01 -0800</span><br>
<span class="QuotedText">&gt; &gt; [...]</span><br>
<span class="QuotedText">&gt; &gt; + *  Author:     Reinhold P. Weicker</span><br>
<span class="QuotedText">&gt; &gt; + *                      Siemens AG, AUT E 51</span><br>
<span class="QuotedText">&gt; &gt; + *                      Postfach 3220</span><br>
<span class="QuotedText">&gt; &gt; + *                      8520 Erlangen</span><br>
<span class="QuotedText">&gt; &gt; + *                      Germany (West)</span><br>
<span class="QuotedText">&gt; &gt; + *                              Phone:  [+49]-9131-7-20330</span><br>
<span class="QuotedText">&gt; &gt; + *                                      (8-17 Central European Time)</span><br>
<span class="QuotedText">&gt; &gt; + *                              Usenet: ..!mcsun!unido!estevax!weicker</span><br>
<p>
Nice bit of nostalgia to have something with a bang path email address merged in 2023.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925389/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor925394"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.3 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 7, 2023 7:32 UTC (Tue)
                               by <b>mb</b> (subscriber, #50428)
                              [<a href="/Articles/925394/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
*checking my calendar*.<br>
<p>
Yeah, kind of nice.<br>
The coding style is awful, though. And not very kernel like at all.<br>
I would have expected it to be cleaned up before getting merged.<br>
The kernel is not a museum for historic code dumps.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925394/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor925551"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.3 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 8, 2023 1:29 UTC (Wed)
                               by <b>edeloget</b> (subscriber, #88392)
                              [<a href="/Articles/925551/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; *checking my calendar*.</span><br>
<p>
<span class="QuotedText">&gt; Yeah, kind of nice.</span><br>
<span class="QuotedText">&gt; The coding style is awful, though. And not very kernel like at all.</span><br>
<span class="QuotedText">&gt;I would have expected it to be cleaned up before getting merged.</span><br>
<span class="QuotedText">&gt; The kernel is not a museum for historic code dumps.</span><br>
<p>
I guess the style has been kept in order to make sure that the code was doing exactly what it says it does, including the "I need to make sure that the output can be compared to all other DMIPS outputs out there". I haven't looked the whole patch, but this may even come with special compiler options in order to make sure the compiler is not doing some nasty optimization that would lead to non-comparable results.<br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925551/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor925558"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.3 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 8, 2023 9:13 UTC (Wed)
                               by <b>geert</b> (subscriber, #98403)
                              [<a href="/Articles/925558/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Indeed, I only changed whitespace and basic formatting to please scripts/checkpatch.pl, to avoid impact on the measurements:<br>
<a href="https://git.kernel.org/pub/scm/linux/kernel/git/geert/renesas-drivers.git/log/?h=topic/dhry-unsquashed">https://git.kernel.org/pub/scm/linux/kernel/git/geert/ren...</a><br>
In theory, a synthetic benchmark can be optimized away entirely by a sufficiently smart compiler. That's also why the benchmark is split in two source files.<br>
<p>
The figures cannot be compared accurately, as they depend heavily on compiler version and compiler options (some dictated by the kernel build system).  They do work fine for my intended usage (verifying CPU core clock speeds), as DMIPS/MHz is reliable.<br>
<p>
Typically, on e.g. arm32, I get 25% less DMIPS with the in-kernel version than with the userspace version (<a href="https://github.com/qris/dhrystone-deb.git">https://github.com/qris/dhrystone-deb.git</a>).<br>
Even with the latter, I saw differences up to 19% using gcc-4.9/6.3/7.4/8.3/9.3/10.2 (6.3 was worst, 10.2 was best).<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925558/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor925690"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.3 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 9, 2023 11:22 UTC (Thu)
                               by <b>Karellen</b> (subscriber, #67644)
                              [<a href="/Articles/925690/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <blockquote>*checking my calendar*</blockquote>

<code>Thu 10782 Sep 11:19:37 UTC 1993</code>

<p>Seems legit :-)</p>



      
          <div class="CommentReplyButton">
            <form action="/Articles/925690/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor925398"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.3 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 7, 2023 8:46 UTC (Tue)
                               by <b>Sesse</b> (subscriber, #53779)
                              [<a href="/Articles/925398/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I do feel like including Dhrystone is already nostalgia in itself! Now not only BogoMIPS, but actual, official MIPSâ€¦<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925398/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor925399"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.3 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 7, 2023 9:14 UTC (Tue)
                               by <b>geert</b> (subscriber, #98403)
                              [<a href="/Articles/925399/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Now we just need someone to try it on linux-vax ;-)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925399/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor925964"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.3 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 13, 2023 7:44 UTC (Mon)
                               by <b>anton</b> (subscriber, #25547)
                              [<a href="/Articles/925964/">Link</a>] 
      </p>
      
      </div>
      </summary>
      BogoMIPS are real MIPS (although for a pointless loop), while AFAIK Dhrystone MIPS are based on the idea that a VAX 11/780 executes the Dhrystone benchmark at 1 (VAX) MIPS; however, from what I read, the VAX 11/780 typically ran at 0.5MIPS (about 10 cycles/instruction at 5MHz clock rate), so DMIPS were not real MIPS even on the VAX.  These days we can determine the number of instructions executed by Dhrystone easily with <code>perf stat -e instructions</code>.



      
          <div class="CommentReplyButton">
            <form action="/Articles/925964/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor925419"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.3 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 7, 2023 13:30 UTC (Tue)
                               by <b>amw</b> (subscriber, #29081)
                              [<a href="/Articles/925419/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Not to mention the "Germany (West)".<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925419/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor925422"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.3 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 7, 2023 13:36 UTC (Tue)
                               by <b>timon</b> (subscriber, #152974)
                              [<a href="/Articles/925422/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
... and, more subtly, the 4-digit postal code.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925422/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor925425"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.3 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 7, 2023 13:43 UTC (Tue)
                               by <b>amw</b> (subscriber, #29081)
                              [<a href="/Articles/925425/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I was going to mention that, but then thought better of it.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925425/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor925538"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.3 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 7, 2023 19:50 UTC (Tue)
                               by <b>geert</b> (subscriber, #98403)
                              [<a href="/Articles/925538/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
OMG, Erlangen used to have a MOS Technology Complex Interface Adapter postal code ;-)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925538/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor925549"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.3 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 8, 2023 0:24 UTC (Wed)
                               by <b>Cyberax</b> (<b>&#x272D; supporter &#x272D;</b>, #52523)
                              [<a href="/Articles/925549/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
And now I've spent 2 hours reading about the postal system in Germany.<br>
<p>
I blame you.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925549/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor925539"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.3 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 7, 2023 20:46 UTC (Tue)
                               by <b>MarcB</b> (subscriber, #101804)
                              [<a href="/Articles/925539/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt;  Nice bit of nostalgia to have something with a bang path email address merged in 2023.</span><br>
<p>
It nicely matches the pre-1993, four-digit German postal code and the "Germany (West)" country designation :-)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925539/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2023, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
