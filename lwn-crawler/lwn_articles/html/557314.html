        <!DOCTYPE html>
        <html lang="en">
        <head><title>The 3.11 merge window opens [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/557314/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/556512/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/557314/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>The 3.11 merge window opens</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Ready to give LWN a try?</b>
<p>
With a subscription to LWN, you can stay current with what is happening in the Linux and free-software community and take advantage of subscriber-only site features.  We are pleased to offer you <b><a href="https://lwn.net/Promo/nst-trial/claim">a free trial subscription</a></b>, no credit card required, so that you can see for yourself.  Please, join us!
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>July 3, 2013</br>
           </div>
Once upon a time, Linus tried to limit merge window activity to roughly
1,000 commits in any given day.  On July&nbsp;2, the day he began pulling
changes for 3.11, over 3,000 commits made their way into the mainline.
Clearly, a lethargic 1,000 commits/day pace won't cut it in the 3.x era.
Expect this to be another busy development cycle.  
That said, the number of new features merged for 3.11 so far is relatively
small.  Much of the work pulled to date consists of code cleanups (in the
staging tree, for example), reworking of ARM architecture code to use
common abstractions, and the removal of board-file support for some ARM
subarchitectures. 
<p>
The user-visible changes that have been pulled so far include:
<p>
<ul>

<li> The f2fs filesystem now supports security labels, enabling it to be
     used with security modules.
<p>
<li> The <a href="http://wiki.lustre.org/index.php/Main_Page">Lustre</a>
     distributed filesystem has been merged into the staging tree.  It is
     disabled in the build system, though, since it has build problems on a
     number of architectures.
<p>
<li> The ARM architecture (both 32- and 64-bit) has gained better huge page
     support, in the form
     of both the hugetlbfs filesystem and transparent huge pages.
<p>
<li> The ARM64 architecture now supports virtualization with both KVM and
     Xen.
<p>
<li> The new <tt>O_TMPFILE</tt> option to the <tt>open()</tt> and
     <tt>openat()</tt> system calls allows filesystems to optimize the
     creation of temporary files â€” files which need not be visible in the
     filesystem.  When <tt>O_TMPFILE</tt> is present, the provided pathname
     is only used to locate the containing directory (and thus the
     filesystem where the temporary file should be).  So, among other
     things, programs using <tt>O_TMPFILE</tt> should have fewer concerns
     about vulnerabilities resulting from symbolic link attacks.
<p>
<li> New hardware support includes:
     <p>
     <ul>
     <li> <b>Systems and processors</b>:
     	  Freescale i.MX6 SoloLite processors,
	  Freescale Vybrid VF610 processors,
	  Samsung EXYNOS5420 processors,
	  Rockchip RK2928 and RK3xxx processors,
	  TI Nspire processors, and
	  STMicroelectronics STiH41x and STiH416 processors.
     <p>
     <li> <b>Miscellaneous</b>:
     	  Marvell EBU device bus controllers,
	  Marvell EBU PCIe controllers,
	  ARM cache-coherent interconnect controllers,
	  Microchip Technology MCP3204/08 analog-to-digital converters,
	  Analog Devices AD7303 digital-to-analog converters,
	  STMicroelectronics LPS331AP pressure sensors, and
	  Samsung S3C24XX SoC pin controllers.
     <p>
     <li> <b>Networking</b>:
     	  MTK USB Bluetooth interfaces.
     <p>
     <li> <b>USB</b>:
     	  Faraday FUSBH200 host controllers and
	  Cavium Networks Octeon host controllers.
     </ul>
</ul>
<p>
Changes visible to kernel developers include:
<p>
<ul>

<li> There is a new <tt>struct file_operations</tt> method:
     <p>
<pre>
    int (*iterate) (struct file *, struct dir_context *);
</pre>
     <p>
     Its job is to iterate through the contents of a directory.  This
     method is meant to serve as a replacement for the <tt>readdir()</tt> method that
     eliminates persistent race conditions associated with updating the
     current read position.  All internal users have been converted, and
     the <tt>readdir()</tt> method has been removed.
<p>
<li> There are a couple of new functions for working with atomic types:
<p>
<pre>
    int wait_on_atomic_t(atomic_t *val, int (*action)(atomic_t *), unsigned mode);
    void wake_up_atomic_t(atomic_t *p);
</pre>
     <p>
     A call to <tt>wait_on_atomic_t()</tt> will block the calling thread
     until the given <tt>val</tt> goes to zero.  Simply decrementing an
     <tt>atomic_t</tt> variable will not be sufficient to wake anybody
     waiting, though; an explicit call to <tt>wake_up_atomic_t()</tt> is
     required to do that.
<p>
<li> The <tt>CONFIG_HOTPLUG</tt> configuration option has been removed; all
     kernels are hotplug enabled these days.
<p>
<li> The <a href="/Articles/548909/">wait/wound mutex</a> locking primitive
     has been merged.
<p>
<li> As part of the <a href="/Articles/541037/">read-copy-update
     simplification effort</a>, the "tiny-preempt" version of RCU has been
     removed from the kernel.  From <a
     href="http://git.kernel.org/linus/127781d1ba1ee5bbe1780afa35dd0e71583b143d">the
     commit message</a>: "<q>People currently using TINY_PREEMPT_RCU can
     get much better memory footprint with TINY_RCU, or, if they really
     need preemptible RCU, they can use TREE_PREEMPT_RCU with a relatively
     minor degradation in memory footprint.</q>"
<p>
<li> The kernel now has the concept of power-efficient workqueues; these
     are simply marked as "unbound," so that jobs queued to them can run on
     any CPU in the system.  Per-CPU workqueues may perform better in some
     situations, but they can also cause sleeping CPUs to wake up; that
     wakeup can be avoided if work items can be run on CPUs that are not
     sleeping.  If the <tt>CONFIG_WQ_POWER_EFFICIENT_DEFAULT</tt>
     configuration option is set, a number of workqueues observed to impact
     power performance will be switched to the unbound mode.  
     <p>
     Kernel code can explicitly request power-efficient behavior by
     creating workqueues with the <tt>WQ_POWER_EFFICIENT</tt> flag or by
     using a couple of new systemwide workqueues:
     <tt>system_power_efficient_wq</tt> or
     <tt>system_freezable_power_efficient_wq</tt>. 
<p>
<li> The <tt>d_hash()</tt> and <tt>d_compare()</tt> methods in <tt>struct
     dentry_operations</tt> have lost their <tt>inode</tt> argument.
<p>
<li> A new per-CPU reference count mechanism has been added; see <a
     href="/Articles/557478/">this article</a> for details.
</ul>
<p>

A normal two-week merge window could be expected to close on July&nbsp;16,
but Linus has occasionally shortened the merge window in recent development
cycles.  If the development cycle as a whole lasts for the usual
70&nbsp;days, then the 3.11 kernel can be expected around
September&nbsp;10.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-3.11">Releases/3.11</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/557314/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor557608"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The 3.11 merge window opens</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 4, 2013 10:49 UTC (Thu)
                               by <b>alonz</b> (subscriber, #815)
                              [<a href="/Articles/557608/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <tt>O_TMPFILE</tt> is a really welcome enhancement to temporary file semantics&hellip; and when properly combined with <tt>linkat()</tt> support added in <tt>f4e0c30</tt>, this can really spell an end to many temp-file vulnerabilities.
      
          <div class="CommentReplyButton">
            <form action="/Articles/557608/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor557633"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The 3.11 merge window opens</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 4, 2013 14:01 UTC (Thu)
                               by <b>iq-0</b> (subscriber, #36655)
                              [<a href="/Articles/557633/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
90% of the problem with temporary file semantics is that you're still fighting an uphill battle against the oblivious and ignorant. Many developers don't know or care about temporary file semantics or their consequences.<br>
<p>
But I do agree that they can help in easier writing of safer code, when used.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/557633/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor558717"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The 3.11 merge window opens</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 12, 2013 17:53 UTC (Fri)
                               by <b>wtanksleyjr</b> (subscriber, #74601)
                              [<a href="/Articles/558717/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
"Linux 3.11 for Workqueues".<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/558717/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2013, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
