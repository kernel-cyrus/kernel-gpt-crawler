        <!DOCTYPE html>
        <html lang="en">
        <head><title>Sparse gets a maintainer [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/208312/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/207112/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/208312/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>Sparse gets a maintainer</h1>
<div class="Byline">[Posted November 8, 2006 by corbet]
               <p>
               </div>
</div>
<div class="ArticleText">
The "sparse" utility has long been one of Linux's best-kept secrets.  It is
a static analysis tool which can find a wide variety of bugs in the kernel
code base; sparse is a useful tool, but it can be surprisingly hard to
find.  It has never had a web page, and almost no distributions package
it.  Interested users must, instead, track down the git tree or Dave
Jones's <a
href="http://www.codemonkey.org.uk/projects/git-snapshots/sparse/">snapshot
directory</a>.  
<p>
Sparse was originally written by Linus Torvalds, but he has
not done much with it for a while, and he recently <a
href="/Articles/208314/">suggested</a> that somebody else should take it
over:
<p>
<div class="BigQuote">
	Anyway, I suspect it would be better if people didn't consider me
	the maintainer for sparse, simply because it does the things I
	really cared about, and as a result I'm not really very active.
</div>
<p>
As a result of this discussion, sparse has a new maintainer: Josh
Triplett.  Josh started things off with <a
href="http://lwn.net/Articles/208043/">sparse&nbsp;0.1</a>, the first-ever
 sparse release with a version number.  He has set up a new git tree
for sparse, and, even, a <a
href="http://kernel.org/pub/linux/kernel/people/josh/sparse/">sparse web
page</a>.
<p>

Josh was kind enough to answer some questions posed by your editor.  It
turns out that he has been working with sparse for a while; it was part of
his PhD work, where he enhanced it to be able to verify proper use of the
read-copy-update (RCU) primitives.  That work continued at IBM over the
summer, where he was able to work on RCU verification with Paul McKenney.
<p>
As a result, his first priority for sparse in the near future is the
continuation of the RCU work.  This effort is also expanding into locking
verification in general; some of the necessary annotations and resulting
fixes have gone into the 2.6.18 and 2.6.19-rc kernels.  Josh also plans to
work on the elimination of false positives and on noise reduction in
general.  Then, there's various patches from other developers which have
been floating around for a while and really need to be merged into the
sparse mainline.
<p>
In terms of project management, Josh says:
<p>
<div class="BigQuote">
	I plan to continue making regular Sparse releases, and I'd like to
	get Sparse packaged in various distributions, at least in their
	"experimental" sections or equivalent.  Any potential distribution
	packagers, feel free to join the linux-sparse list, and let me know
	what I can do to help or to get things going more smoothly.
</div>
<p>
Getting sparse into distributions could only help increase its use - and
bring about a corresponding reduction in bugs in shipped code.  This will
be especially true if Josh succeeds in another one of his goals: expanding
sparse usage beyond the kernel into user-space projects.  X.org seems like
it could be an early sparse adopter.
<p>
Longer-term, Josh wants to look at more advanced techniques which can look
at larger chunks of a program and find potential bugs.  Part of this effort
will require attracting other researchers interested in static analysis to
the sparse platform.  Says Josh:
<p>
<div class="BigQuote">
	I feel that several classes of bugs
	exist in the Linux kernel and in userspace code which simply should
	not exist, because the tools exist to find and eliminate almost all
	of them.  This includes bugs like "scheduling while atomic",
	__init-related bugs, errors on error paths, and many
	locking-related bugs.
</div>
<p>
One can only imagine that free software users all over are wishing Josh the
best of luck in his effort to track down and get rid of all those
unnecessary bugs.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Development_tools-Sparse">Development tools/Sparse</a></td></tr>
            <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#sparse">sparse</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/208312/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor208452"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Sparse gets a maintainer</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2006 2:55 UTC (Thu)
                               by <b>rahulsundaram</b> (subscriber, #21946)
                              [<a href="/Articles/208452/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <p>
Sparse has recently been submitted for review in Fedora. I guess the new developments cited here are responsible for the upsurge in interest<br>
<p>
<a href="https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=212513">https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=212513</a><br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/208452/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor208522"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Sparse gets a maintainer</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2006 14:08 UTC (Thu)
                               by <b>mdomsch</b> (guest, #5920)
                              [<a href="/Articles/208522/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Yes, it's in Fedora Extras for FC{5,6} and -development.<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/208522/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor208469"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Sparse gets a maintainer</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2006 6:50 UTC (Thu)
                               by <b>zhllg</b> (guest, #26587)
                              [<a href="/Articles/208469/">Link</a>] 
      </p>
      
      </div>
      </summary>
      It has been in Gentoo portage for at least more than one year.<br>
<p>
$ eix sparse<br>
[I] sys-devel/sparse <br>
     Available versions:  (~)2005.10.28 (~)2006.09.23<br>
     Installed:           2006.09.23(12:16:44 PM 09/29/2006)<br>
     Homepage:            <a href="http://kernel.org/pub/scm/devel/sparse/">http://kernel.org/pub/scm/devel/sparse/</a><br>
     Description:         C semantic parser<br>
<p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/208469/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor208493"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">License is DFSG-incompatible</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2006 10:43 UTC (Thu)
                               by <b>bgoglin</b> (subscriber, #7800)
                              [<a href="/Articles/208493/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      The license (OSL v1.1) seems to be considered non-free in Debian because of patent/reciprocity issues. So it cannot be included in Debian. Kind of sad...<br>
<p>
<a href="http://wiki.debian.org/DFSGLicenses#head-2b7e4b3507dcc5657dabaf145df20d6c7d41f159">http://wiki.debian.org/DFSGLicenses#head-2b7e4b3507dcc565...</a><br>
<p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/208493/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor208556"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">License is DFSG-incompatible</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2006 18:12 UTC (Thu)
                               by <b>branden</b> (guest, #7029)
                              [<a href="/Articles/208556/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <p>I agree that it's kind of sad, but it's also kind of intriguing.</p>

<p>Debian's problem is with the following clause, which is short enough to quote:</p>

<blockquote><em>10) Mutual Termination for Patent Action. This License shall terminate
automatically and You may no longer exercise any of the rights granted
to You by this License if You file a lawsuit in any court alleging
that any OSI Certified open source software that is licensed under any
license containing this "Mutual Termination for Patent Action" clause
infringes any patent claims that are essential to use that software.</em></blockquote>

<p>So, basically, anybody who asserts a patent claim in *any* court against *any* code under the OSL[1], loses their copyright license to modify/distribute sparse.</p>

<p>This is an interesting choice of license given the reception that most Linux kernel developers have given the GPLv3.</p>

<p>RMS and Linux kernel hackers agree that DRM is bad.</p>

<p>RMS and Linux kernel hackers agree that software patents are bad.</p>

<p>According to Linux kernel hackers, a software license is an inappropriate forum in which to fight the badness of DRM.  Hence his choice of the OSL for sparse.</p>

<p>However, according to Linus at least, a software license is <em>not</em> an inappropriate forum in which to fight the badness of software patents.</p>

<p>I'd be fascinated to hear why this is in no way inconsistent.  My guess would have to be that Linus (and perhaps other kernel hackers who signed on to the joint critique of GPLv3) feel that software patents restrict freedoms they care about, whereas DRM restricts freedoms they don't care about.</p>

[1] It's actually broader than that.  It's "any OSI Certified open source software that is licensed under <strong>any license containing this ... clause</strong>."  (Emphasis added.)
      
          <div class="CommentReplyButton">
            <form action="/Articles/208556/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor208619"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">License is DFSG-incompatible</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2006 21:25 UTC (Thu)
                               by <b>vonbrand</b> (subscriber, #4458)
                              [<a href="/Articles/208619/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <p>
Why are you assuming that Linus choose this license <em>specifically</em> because of this clause?
      
          <div class="CommentReplyButton">
            <form action="/Articles/208619/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor209951"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">License is DFSG-incompatible</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 17, 2006 0:39 UTC (Fri)
                               by <b>arcticwolf</b> (guest, #8341)
                              [<a href="/Articles/209951/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Why are you assuming that Linus didn't read/understand the license or didn't care about this clause?<br>
<p>
I think the question is a valid one: if Linus read the license carefully (and seriously, does anyone think he didn't?), why was he OK with this if he's not OK with similar provisions concerning DRM instead of patents in the GPLv3 drafts, for example?<br>
<p>
I'm actually pretty sure he's got a good answer (he *is* Linus, after all, and experience shows that he pretty much always has a good reason for what he does), but I'm rather curious what it could be.<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/209951/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor208915"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">License is DFSG-incompatible</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 12, 2006 15:33 UTC (Sun)
                               by <b>lool</b> (subscriber, #36299)
                              [<a href="/Articles/208915/">Link</a>] 
      </p>
      
      </div>
      </summary>
      (But it was uploaded to Debian's <i>non-free</i> component, and accepted today.)
      
          <div class="CommentReplyButton">
            <form action="/Articles/208915/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2006, Eklektix, Inc.<BR>
            
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
