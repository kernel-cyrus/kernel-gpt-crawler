        <!DOCTYPE html>
        <html lang="en">
        <head><title>2.6.29 merge window, part 1 [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/313521/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/313048/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/313521/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>2.6.29 merge window, part 1</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Did you know...?</b>
<p>
LWN.net is a subscriber-supported publication; we rely on subscribers
       to keep the entire operation going.  Please help out by <a
       href="/Promo/nst-nag4/subscribe">buying a subscription</a> and keeping LWN on the
       net.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>January 7, 2009</br>
           </div>
As of this writing, some 6500 non-merge changesets have been accepted for the
2.6.29 development cycle.  There is the usual set of new device drivers,
combined with a number of important core kernel changes.  
<p>
As of this writing, user-visible changes include:
<p>
<ul>

<li> New drivers for for SH-2A FPU based SH7201 processors,
     Palm T|X, T5 and LifeDrive audio devices,
     Gumstix Overo audio devices,
     Marvell Zylonite audio devices,
     Wolfson Micro TWL4030, UDA134x, WM8350 AudioPlus, and WM8728 codecs,
     Texas Instruments SDP3430 audio devices,
     OMAP3 Pandora audio devices,
     Intel G45 integrated HDMI audio codecs,
     Broadcom BCM50610 network PHYs,
     LSI ET1011C PHYs,
     KS8695 Ethernet devices,
     SMSC LAN9420 PCI Ethernet adapters,     
     SMSC LAN911x and LAN921x embedded Ethernet controllers,
     Solarflare 10Xpress SFT9001 network controllers,
     Atheros AR9285 chipsets,
     Solos ADSL2+ PCI Multiport cards,
     Nuvoton W90X900 CPUs,
     LG ATSC lgdt3304 video capture devices,
     Sharp s921 ISDB-T devices,
     ST Microelectronics STB6100 silicon tuners and STB0899 multistandard
     frontend devices,
     ST STV06XX-based cameras,
     TDA8261 8PSK/QPSK tuners,
     OmniVision ov772x cameras,
     Conexant CX24113/CX24128 tuners,
     Texas Instruments TVP514x video decoders,
     OMAP2 camera devices (as seen in Nokia Internet tablets),
     NXP TEA5764 I2C FM radio devices,
     Chelsio T3 ASIC based iSCSI adapters,
     Wolfson Microelectronics WM8350 power management units,
     Dialog DA9030 battery chargers,
     DaVinci DM355 EVM microcontrollers,
     Intel 5400 (Seaburg) memory controller chipsets,
     Walkera WK-0701 RC transmitters,
     Wacom W8001 penabled serial touchscreens,
     Dialog Semiconductor DA9034 touchscreens,
     TSC2007 based touchscreens,
     PXA930 trackball mice, and
     PXA930/PXA935 enhanced rotary controllers.
<p>

<li> A number of new drivers have also entered the kernel via the staging
     tree; these include drivers for Sensoray 2250/2251 video capture
     devices, Airgo AGNX00 wireless chips, a wide variety of data
     acquisition devices via the <a
     href="http://www.comedi.org/">Comedi</a> framework, ASUS laptop OLED
     displays, Ralink 2860 and 2870 wireless wireless interfaces ("<q>This is the
     Ralink RT2860 driver from the company that does horrible things like
     reading a config file from /etc.</q>"),
     RealTek RTL8187SE Wireless LAN NICs,
     HD44780 or KS-0074 parallel port LCD panels,
     ServerEngines BladeEngine (EC 3210) network interfaces,
     Princeton Instruments USB cameras,
     Mimio Xi interactive whiteboards,
     the openPOWERLINK network stack,
     Frontier Tranzport and Alphatrack devices, and
     several families of Meilhaus data acquisition boards.
     Also added, seemingly without help from Google, is a set of drivers
     for the Android platform, including 
     support for the <tt>/dev/binder</tt> IPC mechanism, timed GPIO
     operations, the RAM buffer console, 
     a special "low memory killer" device,
     and the logger device. 
     <p>
     Remember that "staging" drivers are not
     considered to be up to normal kernel code quality drivers; they are
     merged in the hope that developers will help to make them better.
     Quite a few improvements to these drivers were merged via the staging
     tree this time around, so this tree may be working as intended.

<p>

<li> The long-deprecated eepro100 driver has finally been removed; the 
     e100 driver should be used instead.
<p>
<li> The SCSI layer has acquired support for Fibre Channel over Ethernet
     (FCoE) devices.
<p>
<li> The GEM layer used for memory management in graphical processor unit
     (GPU) driver code has seen a number of improvements.  The big news in
     this area, though, is that the kernel mode setting code has finally
     been merged.  This change paves the way for the removal of a great
     deal of scary user-space code, better support for features like fast
     user switching, and the ability to run the X server without root
     privilege.  Kernel mode setting is still in an early state, though,
     and most people will not want to enable it unless they are sure they
     have a properly-prepared user space.
<p>
<li> Support for HP iPAQ h5000 systems,
     Samsung S3C64XX series based systems,
     and Pandora game consoles has been
     added to the ARM architecture code.
<p>
<li> The SuperH architecture has gained support for the ftrace tracing 
     framework.
<p>
<li> There is a new <tt>no_file_caps=</tt> boot option which can be used to
     disable file capabilities on kernels which have that feature enabled.
     From the changelog: "<q>This allows distributions to ship a kernel
     with file capabilities compiled in, without forcing users to use (and
     understand and trust) them.</q>"
<p>
<li> The CIFS filesystem supports a new <tt>forcemand</tt> mount option;
     when present, it causes CIFS to use mandatory locks rather than
     POSIX-style advisory locks.
<p>
<li> The CUBIC 2.3 TCP congestion control algorithm and the "backward
     congestion notification" feature are now supported in the
     networking layer.
<p>
<li> The network code has support for the "deficit round robin" packet
     scheduling algorithm, said to produce highly fair scheduling with
     minimal cost.
<p>
<li> A vast set of network namespace patches has been merged.  The
     namespace hackers have, so far, refrained from saying that this
     feature is ready for general use, but it must be getting closer.
<p>
<li> The devpts filesystem now supports the creation of multiple instances
     in different namespaces.
<p>
<li> The wireless regulatory domain code has been extended to provide <a
     href="http://en.wikipedia.org/wiki/IEEE_802.11d">802.11d</a> support.
<p>
<li> The <a href="http://lwn.net/Articles/305782/">Tree RCU</a> patch set,
     which should provide improved scalability on systems with "more than a
     few hundred CPUs," has been merged.
<p>
<li> Users of huge pages can now look in <tt>/proc/<i>pid</i>/smaps</tt>
     for a new <tt>KernelPageSize</tt> value giving the actual size of the
     pages in use.  Among other things, this information can be used to
     verify that a process is actually using large pages where expected.
<p>
<li> The eCryptfs filesystem now supports the encrypting of file names as
     well as their contents.
<p>
<li> The FUSE user-space filesystem mechanism can now support
     <tt>ioctl()</tt> and <tt>poll()</tt> calls.
<p>
<li> Support for unlabeled networks and hosts has been added to the SMACK
     security module.

</ul>
<p>
Changes visible to kernel developers include:
<p>
<ul>
<li> There is a new synchronous hash interface called "shash."  It 
     simplifies the use of synchronous hash operations while allowing the
     same tfm to be used simultaneously in different threads.  All in-tree
     users have been switched to the new API.
<p>
<li> The massive <a href="http://lwn.net/Articles/251469/">task credentials
     patch set</a> has been merged.  This code reorganizes the handling of
     process credentials (user ID, capabilities, etc.).  One of the
     immediate implications of this change is direct references to
     credential-oriented fields in the task structure need to be changed;
     for example, <tt>current-&gt;user-&gt;uid</tt> becomes
     <tt>current_uid()</tt>.  See <a
     href="/Articles/313616/">Documentation/credentials.txt</a> for a
     description of the new API.
<p>
<li> The ftrace code has seen a lot of internal changes.  The function
     tracing feature has seen a number of improvements, and the developers
     have added 
     mechanisms  to profile the behavior of <tt>if</tt> statements,
     provide function call graphs,
     obtain user-space stack traces, and
     follow CPU power-state transitions.
<p>
<li> Most of the callback functions/methods associated with the
     <tt>net_device</tt> structure have been moved out of that structure
     and into the new <tt>struct&nbsp;net_device_ops</tt>.  In-tree drivers
     have been converted to the new API.
<p>
<li> The <tt>priv</tt> field has been removed from <tt>struct
     net_device</tt>; drivers should use <tt>netdev_priv()</tt> instead. 
<p>
<li> The generic PHY layer now has power management support.  To that end,
     two new methods - <tt>suspend()</tt> and <tt>resume()</tt> - have been
     added to <tt>struct&nbsp;phy_driver</tt>.
<p>
<li> The networking layer now supports <a
     href="http://lwn.net/Articles/243949/">large receive offload</a> (or
     "generic receive offload") operation.
<p>
<li> The NAPI API has been cleaned up somewhat; in particular, functions
     like <tt>netif_rx_schedule()</tt>, <tt>netif_rx_schedule_prep()</tt>,
     and <tt>netif_rx_complete()</tt> have lost the unneeded <tt>struct
     net_device</tt> parameter.
<p>
<li> The hrtimer code has been simplified with the removal of variable
     modes for callback functions.  All processing is now done in hardirq
     context. 
<p>
<li> A new set of LSM hooks has been added; these support pathname-based
     security operations.  With the merging of these hooks, one major
     obstacle to the inclusion of security modules like AppArmor and TOMOYO
     has been removed.
<p>
<li> The kernel will now refuse to build with GCC 4.1.0 or 4.1.1; those
     versions have unfortunate bugs which prevent the building of a working
     kernel.  Versions 3.0 and 3.1 have also been deemed to be too old and
     will not be supported in 2.6.29.
<p>
<li> Video4Linux drivers now use a separate <tt>v4l2_file_operations</tt>
     structure to hold their VFS-like callbacks.  The prototypes of a
     number of these functions have been changed to remove the
     <tt>inode</tt> argument.
<p>
<li> Video4Linux2 has also acquired a new "subdevice" concept, meant to
     reflect the fact that video "devices" tend to be, in reality, a set of
     cooperating devices.  See <a href="/Articles/313784/">the new
     document</a> for a description of how this mechanism works.

<p>
<li> Two new functions - <tt>stop_machine_create()</tt> and
     <tt>stop_machine_destroy()</tt> - allow the independent creation of
     the threads used by <tt>stop_machine()</tt>.  That, in turn, lets
     those threads be created before trying to actually stop the machine,
     making that operation more resistant to failure.
<p>
<li> The <tt>poll()</tt> file operation is now allowed to sleep; see <a
     href="http://lwn.net/Articles/308426/">this article</a> for more
     information on this change.
<p>
<li> The CPU mask mechanism, used to represent sets of processors in the
     system, is in the middle of being massively reworked.  The problem is
     that CPU masks were often put on the stack, but, as the number of
     processors grows, the stack lacks room for the mask.  The new API is designed to
     get these masks off the stack, and to guard against anybody ever
     trying to put one back.  See <a
     href="http://ozlabs.org/~rusty/index.cgi/2009/01/07#2009-01-07">this
     posting by Rusty Russell</a> for details on this work.


</ul>
<p>

The merge window opened on December 28; if the usual two-week pattern holds,
changes should be accepted through January&nbsp;11.  Tune in next week for
an update on the final patches merged for the 2.6.29 kernel.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-2.6.29">Releases/2.6.29</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/313521/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor313946"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.29 merge window, part 1</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 8, 2009 4:17 UTC (Thu)
                               by <b>BenHutchings</b> (subscriber, #37955)
                              [<a href="/Articles/313946/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
There is no new driver for "Solarflare 10Xpress SFT9001 network controllers". The SFT9001 is actually a PHY for which support was added to the sfc driver.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/313946/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor313990"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.29 merge window, part 1</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 8, 2009 9:38 UTC (Thu)
                               by <b>Tuxie</b> (guest, #47191)
                              [<a href="/Articles/313990/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Will the CUSE patches be merged this time?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/313990/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor314513"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.29 merge window, part 1</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 12, 2009 16:26 UTC (Mon)
                               by <b>daenzer</b> (subscriber, #7050)
                              [<a href="/Articles/314513/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Isn't that<br>
<p>
* The FUSE user-space filesystem mechanism can now support ioctl() and poll() calls.<br>
<p>
?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/314513/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor314941"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.29 merge window, part 1</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 14, 2009 16:40 UTC (Wed)
                               by <b>sambo</b> (subscriber, #25831)
                              [<a href="/Articles/314941/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Just a small mistake: The TWL4030 is a TI piece of HW, not a Wolfson Micro one.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/314941/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor315350"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.29 merge window, part 1</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 16, 2009 3:13 UTC (Fri)
                               by <b>HalfMoon</b> (guest, #3211)
                              [<a href="/Articles/315350/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <p>Yes, TWL4030 is a TI part ... Kconfig will tell you that!

<p>Plus, it was supported in the 2.6.28 kernel.  What changed this time around is support for a few more of its many functions.  The USB OTG transceiver and the ASoC audio CODEC support are new to mainline, I think.

<p>Why is twl4030 particularly interesting?  It's used in essentially every OMAP3 board, like the <a href=http://www.beagleboard.org/hardware>Beagle</a> and <a href=http://gumstix.com/>Gumstix</a> Overo.  That's two of the more interesting crop of embedded ARM boards ... likely they'll be able to boot from mainline when 2.6.29-final ships.
      
          <div class="CommentReplyButton">
            <form action="/Articles/315350/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2009, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
