        <!DOCTYPE html>
        <html lang="en">
        <head><title>The end of the devfs story [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/139595/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/139208/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/139595/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>The end of the devfs story</h1>
<div class="Byline">[Posted June 13, 2005 by corbet]
               <p>
               </div>
</div>
<div class="ArticleText">
Almost one year ago, the kernel developers decided to formally recognize
the new development model, where large changes were welcome in the stable
2.6 series.  At that time, Greg Kroah-Hartman decided to test out the new
model by posting <a href="http://lwn.net/Articles/94518/">a patch to remove
devfs</a>.  The devfs filesystem, a virtual filesystem which provides a
dynamic <tt>/dev</tt> directory, had been unpopular with many kernel
developers since long before it was <a
href="http://lwn.net/2000/0217/kernel.php3">merged in 2.3.46</a>.  It was
never enabled by most distributions, and, in more recent times, had seen
little maintenance.  Meanwhile, the user-space <tt>udev</tt> utility had
developed to the point where it could fill in for devfs.  Since there was
no 2.7 on the horizon, and 2.6 was officially open to user-visible changes,
it seemed like a good time to close the devfs chapter forevermore.
<p>

Except that, as it turns out, the developers were not quite ready to
eliminate a user-visible feature on such short notice.  After some
discussion, it was decided that changes of this kind should happen after a
one-year warning period.  As a result, a file was created in the
Documentation directory (here's the <a
href="/Articles/139599/">almost-2.6.12 version</a>) which listed features
scheduled for removal and the target date.  Devfs went into the file, with
July, 2005 as the time for its ultimate demise.
<p>

July is nearly here, and Greg has not forgotten.  He has returned with <a
href="/Articles/139404/">a 22-part patch</a> which removes every trace of
devfs from a surprisingly large portion of the kernel.  It would seem that
devfs had gotten its fingers into just about everything.  In the absence of
some sort of surprise, this patch seems certain to be merged for 2.6.13.
If there are any devfs users out there, they have gotten their last
warning.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Development_model">Development model</a></td></tr>
            <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#devfs">devfs</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/139595/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor140023"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The end of the devfs story</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 16, 2005 7:22 UTC (Thu)
                               by <b>tao</b> (subscriber, #17563)
                              [<a href="/Articles/140023/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      ... and there was much rejoicement!<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/140023/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor140042"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The end of the devfs story</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 16, 2005 10:45 UTC (Thu)
                               by <b>Felix.Braun</b> (guest, #3032)
                              [<a href="/Articles/140042/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      I've always been a fan of a dynamic /dev directory. Maybe the approach taken by Richard Gooch with devfs to include this in kernel space was technically suboptimal because it included too many policy decisions ("disc" vs. "disk"). However, one has to note that sysfs, the user space interface that udev uses to manage the dynamic creation of device nodes, was non existant at the time devfs was created. In a way, the opposition against devfs probably sparked the creation of the technically superior solution using sysfs and udev we have nowadays.<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/140042/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor140055"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The end of the devfs story</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 16, 2005 11:33 UTC (Thu)
                               by <b>alex</b> (subscriber, #1355)
                              [<a href="/Articles/140055/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <em>In a way, the opposition against devfs probably sparked the creation of the technically superior solution using sysfs and udev we have nowadays.</em>
<p>
It is the way of things in the Open Source world ;-)
<p>
I must say my limited experience with udev so far has been a pleasent experience. I can only wish we had such a stable solution when I was hacking embedded linux a couple of years ago on 2.4...
      
          <div class="CommentReplyButton">
            <form action="/Articles/140055/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor140138"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The end of the devfs story</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 16, 2005 19:59 UTC (Thu)
                               by <b>NightMonkey</b> (subscriber, #23051)
                              [<a href="/Articles/140138/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Yay! UDEV works well on my systems, and it makes so much more sense than devfs, at least to me. Thanks, UDEV devs!<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/140138/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2005, Eklektix, Inc.<BR>
            
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
