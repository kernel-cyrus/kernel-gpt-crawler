        <!DOCTYPE html>
        <html lang="en">
        <head><title>4.10 Merge window part 2 [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/709556/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/709349/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/709556/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>4.10 Merge window part 2</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>This article brought to you by LWN subscribers</b>
<p>
Subscribers to LWN.net made this article &mdash; and everything that
       surrounds it &mdash; possible.  If you appreciate our content, please
       <a href="/Promo/nst-nag3/subscribe">buy a subscription</a> and make the next
       set of articles possible.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>December 21, 2016</br>
           </div>
Just before the 4.9 release, Linus Torvalds <a href="/Articles/708372/">said</a>
that the 4.10 development cycle was "<q>shaping up to be on the smaller
side</q>".  As of this writing, 11,087 non-merge changesets have been
pulled into the mainline for 4.10.  So this release isn't shaping up to be
all that small in the end.  It will not match 4.9 (which saw 14,308
changesets during 
the merge window), but it will be comparable with most other recent
development cycles.
<p>
Just over 4,000 of those changes have been pulled since <a
href="/Articles/709017/">last week's summary</a>.  Some of the more
interesting user-visible changes merged since then are:
<p>
<ul>
<li> <a href="/Articles/706865/">"Fail fast" support</a> has been added to
     the MD RAID subsystem.  If a 
     drive starts showing errors in a RAID&nbsp;1 or RAID&nbsp;10 array, it
     will be immediately marked bad and avoided, thus avoiding long delays
     while error recovery is attempted.
<p>
<li> The XFS <tt>barrier</tt> and <tt>nobarrier</tt> mount options don't
     actually do anything in current kernels; they have been deprecated
     with removal targeted for 4.15 or later.
<p>
<li> The UBIFS filesystem now supports encryption.
<p>
<li> Tracepoint filters have long supported simple wildcard matching; in
     4.10, that has been expanded to something closer to the file-name
     matching supported by shells.
<p>
<li> There is a new crypto device in the virtio subsystem, allowing the
     provision of cryptographic operations to virtualized guests.
<p>
<li> The PowerPC architecture has gained support for the
     <a href="/Articles/603116/"><tt>kexec_file_load()</tt></a> system call
     and for compilation with stack      protection. 
<p>
<li> The <a href="/Articles/234441/">logfs filesystem</a>, unmaintained for
     years and seemingly unused, has been removed from the kernel.
<p>
<li> The kernel's <a href="/Articles/137306/">integrity measurement</a>
     subsystem has been extended with the ability to carry the measurement
     list across a soft reboot of the system.  The measurement depends on
     TPM PCR registers, and those are only reset in a hard boot, so
     validation after a soft reboot requires this capability.
<p>
<li> New hardware support includes:
     <p>
     <ul>
     <li> <b>Audio</b>:
     	  Cirrus Logic CS35L34 and CS42L42 codecs,
	  Cirrus Logic wm8581 codecs,
	  Qualcomm MSM8916 WCD analog codecs,
	  Qualcomm MSM8916 WCD digital codecs,
	  Axentia TSE-850 transmitter station equipment,
	  Realtek rt5665 codecs, and
	  Allwinner sun8i codec analog controls.
     <p>
     <li> <b>Input</b>:
     	  ASUS I2C touchpads and
	  THQ PS3 uDraw tablets.
     <p>
     <li> <b>Miscellaneous</b>:
     	  HiSilicon BVT pulse-width modulators,
	  VMware paravirtualized RDMA adapters,
	  Mellanox CPLD-based I2C multiplexers,
	  IMX low-power I2C interfaces,
	  ARC 32-bit timers,
	  NVIDIA Tegra boot and power management processors,
	  NVIDIA Tegra generic memory interfaces,
	  Texas Instruments da8xx DDR2/mDDR memory controllers,
	  TI system control interfaces,
	  Renesas fine display processors,
	  Oxford Semiconductor OXNAS NAND controllers,
	  Tango NAND flash controllers, and
	  EPSON TOYOCOM RTC-7301SF/DG realtime clocks.
     </ul>

</ul>
<p>
Changes visible to kernel developers include:
<p>
<ul>

<li> The crypto layer includes a new "acomp" subsystem to perform
     asynchronous compression of data; several algorithms are supported.
     For the time being, the only documentation available is the kerneldoc
     comments in <a
     href="https://git.kernel.org/linus/2ebda74fd6c9d3fc3b9f0234fc519795e23025a5">this
     commit</a>. 
</ul>
<p>

At this point, the flow of changes into the mainline has slowed
significantly; most maintainers appear to have respected Linus's request to
get their pull requests in early.  The 4.10-rc1 release can be expected on
or before December&nbsp;25; chances are that there will be few additional
significant changes during that time.  Should any happen, though, they will
be summarized in the January&nbsp;5 edition.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-4.10">Releases/4.10</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/709556/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor710042"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">4.10 Merge window part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 23, 2016 6:51 UTC (Fri)
                               by <b>citypw</b> (guest, #82661)
                              [<a href="/Articles/710042/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
This commit should be treated as security mitigation like PaX/Grsecurity have done it for x86 back in 2011:<br>
arm64: split thread_info from task stack:<br>
<a href="http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=c02433dd6de32f042cf3ffe476746b1115b8c096">http://git.kernel.org/cgit/linux/kernel/git/torvalds/linu...</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/710042/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor710682"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">4.10 Merge window part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 5, 2017 5:53 UTC (Thu)
                               by <b>mst@redhat.com</b> (subscriber, #60682)
                              [<a href="/Articles/710682/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Also, commit 05de97003c773e7881e4df3f767b81a6508107f2<br>
enables endian-ness checks for all sparse builds. You no longer<br>
need to request it with __CHECK_ENDIAN__, and all drivers are<br>
expected to get endian tags correctly.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/710682/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor710990"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">4.10 Merge window part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 9, 2017 4:01 UTC (Mon)
                               by <b>jd</b> (guest, #26381)
                              [<a href="/Articles/710990/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I do use logfs, but I can't use an unmaintained filesystem.<br>
<p>
I use a wide range of filesystems. By using multiple mountpoints, old-style, I can choose a filesystem whose characteristics best match the requirements of a particular section of the directory tree.<br>
<p>
So, for example, I see no value in a journalled filesystem for /tmp - there's nothing in it that needs preserving between reboots. You want fast reads and writes on short files, but that's it.<br>
<p>
For database files, you want reliable recovery/fallback, database engines are a good deal slower than most filesystems, corruption affects way too much and can be difficult to impossible to recover from, and databases suffer from fragmentation so migration is not an issue and may even reduce the problem. Logfs is an obvious choice.<br>
<p>
Nilfs seems to be best for /var/log, as you can not only detect tampering but revert to what was there prior to the editing.<br>
<p>
So logfs is valuable, but because it's valuable only in critical situations, having it unmaintained is worse than not having it at all. Given I tend to use Linux for all kinds of freaky stuff, that's always going to be true for me.<br>
<p>
No, I'm not going to press for it to be added back. Partly because I'm a very minor nobody in Linux development, but also because if I'm the only one interested, I should maintain my own copy out-of-tree. Complexity is the enemy of stability and security. I care about technology getting showcased, but that's been done and the verdicts recorded.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/710990/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor710991"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">4.10 Merge window part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 9, 2017 4:06 UTC (Mon)
                               by <b>Cyberax</b> (<b>&#x272D; supporter &#x272D;</b>, #52523)
                              [<a href="/Articles/710991/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; For database files, you want reliable recovery/fallback, database engines are a good deal slower than most filesystems, corruption affects way too much and can be difficult to impossible to recover from, and databases suffer from fragmentation so migration is not an issue and may even reduce the problem. Logfs is an obvious choice.</font><br>
Except that most databases already have native transaction logs and recovery mechanisms. And log-structure filesystems slow down databases immensely.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/710991/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2016, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
