        <!DOCTYPE html>
        <html lang="en">
        <head><title>Moving the firmware out [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/284932/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/284241/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/284932/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>Moving the firmware out</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>We're bad at marketing</b>
<p>
We can admit it, marketing is not our strong suit. Our strength is
writing the kind of articles that developers, administrators, and
free-software supporters depend on to know what is going on in the
Linux world. Please <a href="/Promo/nsn-bad/subscribe">subscribe today</a> to help us keep doing that, and so
we donâ€™t have to get good at marketing.
</blockquote>
<div class="FeatureByline">
           By <b>Jake Edge</b><br>June 4, 2008</br>
           </div>
<p>
It seems that David Woodhouse had a bit of an ulterior motive when he recently
<a href="http://lwn.net/Articles/284104/">reworked the kernel firmware
loader</a>.  That is not to say the work is not useful in its own right,
but one of his goals is more apparent now: removing all of the firmware
from the 
kernel source tree.  By making it easy to separate the firmware
blobs&mdash;while still allowing them to be statically built into
kernels&mdash;he has provided a possible path for all firmware needed by
any Linux driver to live in a single place.
</p>

<p>
The firmware issue is somewhat contentious, with licensing and political
issues that tend to annoy the kernel developers.  Arguments about the
"legality" of distributing firmware with the kernel flare up from time to
time.  Separate from that, there are some good reasons why it makes sense
to keep the firmware in its own place: some distributions need or want to
distribute their kernels without firmware blobs and some hardware
manufacturers will not allow their firmware to be distributed with the
kernel because of concerns about the GPL.  The current situation makes it
harder for both users and distributors.
</p>

<p>
Woodhouse brought up the idea of pulling the firmware out of the kernel in
a <a href="/Articles/284967/">post to linux-kernel and
ksummit-2008-discuss</a>.  The agenda for this year's Kernel Summit is
under discussion, so he proposed that it be discussed there.  He is clearly
trying to anticipate the technical concerns that others might have:
<div class="BigQuote">
 By the time the kernel summit comes around, we should have made decent
progress on moving _all_ the firmware blobs to the firmware/ directory.
And at that point I'd like to remove them completely, to a separate git
tree and tarball. Those who really want to build them in to their static
kernel would still be able to, but it wouldn't be the default behaviour.
</div>
</p>

<p>
Unsurprisingly, there are some fairly strenuous objections.  David Miller
<a href="/Articles/284985/">is quite annoyed</a>:

<div class="BigQuote">
Sorry, that's taking things too far.  I've fought, like, forever, to
keep the tg3 driver with it's firmware in-tree.  I refuse to let the
driver get broken like that, it's staying working, and that means
in-tree and linked into the driver.
<p>
If debian or whoever else have these concerns and want to rip the
firmware out, it is one hundred percent their problem to patch things
out of the kernel tree they use.
</div>
</p>

<p>
But there are other reasons to collect firmware in one single place, as
Arjan van de Ven <a href="/Articles/284988/">notes</a>:
<div class="BigQuote">
Right now it's a royal pain for users to get all the right pieces of
firmware.... having ONE place to put all that would go a long way of making
that
side of things easier.
<p>
If you want to argue that that should be in the kernel tarball itself, you
won't
hear me complain. But others will... and for that a 2nd tarball might well
be the answer.
Just we shouldn't need 100 tarballs.</div>
</p>

<p>
There is a very real concern, though, that putting firmware without source
into the kernel is a GPL violation.  It is impossible to know for sure
without a court decision, which is something that no one wants to have to
deal with.  Companies&mdash;and their lawyers&mdash;tend to be very
conservative when it comes to inviting lawsuits, so removing unrelated,
possibly actionable code from the kernel sources is of great benefit to
them.  As Woodhouse <a href="/Articles/284990/">says</a>:
<div class="BigQuote">
And it isn't just the nutters. Fedora also wants to ship the firmware in
a separate package from the kernel -- since the alleged GPL violation is
such a _gratuitous_ risk given that we always use an initrd anyway, and
because people want to be able to do 'Free' spins which don't feature
the firmware at all, even in the source packages.
</div>
</p>

<p>
By making it easier to put all of the firmware in one non-GPL tree,
hardware vendors&mdash;and <i>their</i> lawyers&mdash;may be willing to
allow the firmware to be distributed.  If Woodhouse's plan for supporting
both compile-time and runtime loading of the firmware is successful and
reasonably transparent, there
should be little difference for kernel developers, but big improvements for
users and distributors.  It is unclear whether this is something that will
be resolved in email, as Woodhouse hopes, or will require a discussion at
the Kernel Summit in September, but it's an idea with a lot of merit that
may find its way into the mainline at some point.
</p><br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Firmware">Firmware</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/284932/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor285042"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">GPL violations threat is quite real</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 5, 2008 6:57 UTC (Thu)
                               by <b>khim</b> (subscriber, #9252)
                              [<a href="/Articles/285042/">Link</a>] (12 responses)
      </p>
      
      </div>
      </summary>
      <p>Actually legal aspect is quite real. Translation of English to English of <i>I refuse to let the driver get broken like that, it's staying working, and that means in-tree and linked into the driver</i> is <i>we have driver which contains GPLed software and non-GPLed software so closely intertwined that it's practically impossible to separate them</i> - and <b>THIS</b> is clearly GPL violation. <a href="http://article.gmane.org/gmane.linux.kernel/687477">Here</a> it explained quite well: <i>The more that people claim it would be such a burden to split the firmware from their driver because they're so closely interrelated, the more they are arguing against the 'mere aggregation' defence, which was tenuous enough in the first place</i>... and it's also <b>the only</b> defense for inclusion of said firmware in kernel in first place!</p>

<p>I <b>do not</b> believe tg3 is so closely intertwined with it's firmware blob that it's impossible to separate them but if it's actually the case - the whole thing should be ripped out. Firmware can be kept in tree for "convenience" but it's different then "necessity". There are only two choices:<br />
1. Driver and it's firmware are separate works - and then we can talk about separate distribution. It can be practical or impractical (certainly Linux distributions <b>DO</b> distribute unrelated things in one blob - and it's convenien), but it's <b>not</b> matter of necessity.<br />
2. Driver and firmware can not be practically separated - hopefully it's rare cases but it <b>this</b> case the only option is to remove driver from kernel. Firmware and all.</p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/285042/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor285118"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">GPL violations threat is quite real</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 5, 2008 16:39 UTC (Thu)
                               by <b>PaulMcKenney</b> (<b>&#x272D; supporter &#x272D;</b>, #9624)
                              [<a href="/Articles/285118/">Link</a>] (11 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
Hmmm...  I officially don't have an opinion about where firmware blobs should or should not
go, but I do believe that there are way more than two possibilities here.

To see this, let's consider an analogous situation with user programs and the Linux kernel.
Suppose that a given proprietary user program could only be run on specific versions of the
Linux kernel.  This could happen for any of the following reasons:

1.  The program relied on a new kernel feature.

2.  The program relied on a long-standing bug being fixed.

3.  The program relied on a bug -not- being fixed.

4.  The program could not operate without a performance improvement that was available only in
specific versions of the kernel.

Would any of these reasons imply that the program be licensed under GPL?  If not, couldn't
similar issues arise between drivers and firmware?

Thanx, Paul (my opinions, not necessarily those of my employer)
</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/285118/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor285127"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">GPL violations threat is quite real</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 5, 2008 17:00 UTC (Thu)
                               by <b>dwmw2</b> (subscriber, #2063)
                              [<a href="/Articles/285127/">Link</a>] (10 responses)
      </p>
      
      </div>
      </summary>
      <BLOCKQUOTE><I>"Would any of these reasons imply that the program be licensed under GPL?"</I></BLOCKQUOTE>

No, because the kernel explicitly grants an exception for userspace:

<PRE>
   NOTE! This copyright does *not* cover user programs that use kernel
 services by normal system calls - this is merely considered normal use
 of the kernel, and does *not* fall under the heading of "derived work".</PRE>

We have no such exception for firmware.


      
          <div class="CommentReplyButton">
            <form action="/Articles/285127/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor285144"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">GPL violations threat is quite real</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 5, 2008 18:51 UTC (Thu)
                               by <b>zlynx</b> (guest, #2285)
                              [<a href="/Articles/285144/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
Firmware is a bit weird.  You don't even know that it's code.  It could be FPGA config or a
particular set of switch settings just like setting registers but all in a lump.

It's always seemed a bit dishonest to me to claim firmware must be GPL'd or out while at the
same time accepting driver code that uses NDA provided or reverse engineered register
settings.  Those register settings could be in some way also code.

Just think of it as register settings and card state, no different than sending a mysterious
32 byte blob that you don't understand but the VGA output doesn't work without it.
</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/285144/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor285192"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">GPL violations threat is quite real</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 6, 2008 7:20 UTC (Fri)
                               by <b>njs</b> (guest, #40338)
                              [<a href="/Articles/285192/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
If a particular blob is just a bunch of switch settings, then it's unlikely that it's
copyrightable -- both because there's nothing expressive about it, and because it's required
to achieve a given functionality (there's no other way to set up the card except to send those
particular bytes).  Similarly, information provided under an NDA is not protected by copyright
(because information is never protected by copyright, only expression).  In this case, there's
no GPL issue.

Most firmware, though, is far more complex than that, and clearly copyrightable, and thus
copyrighted.  In this case, there may be a GPL issue.

Any particular blob falls into one or the other of these cases, and *which* case it falls into
is determined entirely by the law, the particular circumstances, and, ultimately, a judge.
The result may or may not be "dishonest", but it is what it is; how we decide to "think of it"
just doesn't matter, unfortunately...

</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/285192/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor285146"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">GPL violations threat is quite real</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 5, 2008 19:11 UTC (Thu)
                               by <b>PaulMcKenney</b> (<b>&#x272D; supporter &#x272D;</b>, #9624)
                              [<a href="/Articles/285146/">Link</a>] (7 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
So you are arguing that it is impossible for a driver to rely on a feature that is present
only in specific versions of the firmware?  Or that it is impossible that a driver might need
a workaround for a bug that is present only in specific versions of the firmware?

Or are we talking past each other here?

Please keep in mind that I am questioning the OP's assertion that there are only two possible
reasons why firmware and driver might be version-dependent.  As noted in my earlier comment, I
officially have no opinion on whether or not firmware blobs must be GPLed.

Sincerely, Paul E. McKenney (my opinions, not my employer's)
</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/285146/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor285168"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">GPL violations threat is quite real</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 5, 2008 23:43 UTC (Thu)
                               by <b>dwmw2</b> (subscriber, #2063)
                              [<a href="/Articles/285168/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      <BLOCKQUOTE><I>So you are arguing that it is impossible for a driver to rely on a feature that is present
only in specific versions of the firmware?  Or that it is impossible that a driver might need
a workaround for a bug that is present only in specific versions of the firmware?</I></BLOCKQUOTE>

Of course those things are possible. And while userspace has an explicit exception from GPL 'infection', firmware does not.

<BLOCKQUOTE><I>Or are we talking past each other here?</I></BLOCKQUOTE>

Perhaps. Sorry; I'm not entirely sure how to parse khim's post, or your response. The interesting question at the heart of the issue is whether the inclusion of the firmware is a violation of the GPL -- and you both seem to be either digressing or just losing me.<P>

I thought we were all operating the assumption that the firmware is an independent and separate work in its own right. If it's <em>not</em>, then the issues are fairly clear-cut anyway -- the only interesting case for debate is where it's independent, isn't it? So having made that assumption, we have other options:

<OL><LI>The firmware is distributed separately</LI>
<LI>The firmware is distributed as part of a collective work with GPL'd code</LI>
<LI>The firmware is merely aggregated onto a volume of a storage or distribution medium with the GPL'd code</LI>
</OL>

In case #2 we have to distribute the firmware under GPL too, with source code in the "preferred form for modification". But not in case #1 and #3.
<P>
I'm planning to get us to situation #1 where we distribute the firmware separately. Currently, I believe us to be in situation #2, where we are violating the GPL.
<P>
There are those who believe that actually we are in situation #3 -- where we're excused by the "mere aggregation on a volume of a storage or distribution medium" clause, which covers things like CDs of gratis or shareware software which might be found on magazine covers. Personally, I don't see any way that clause can cover the combination of driver and firmware into a vmlinux, when each of them is useless without the other. It's a collective work and not just a happy coincidence that they're sitting together on the CD. But that's just my opinion, not a court ruling.

<P>Shipping the firmware separately solves the probable GPL violation, while the work I've already done lets people continue to build arbitrary firmware blobs into the kernel if they really want to -- so it's not a regression for them. Normally we err on the side of caution when it comes to legal matters, and I see no reason why this should be the exception.
      
          <div class="CommentReplyButton">
            <form action="/Articles/285168/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor285178"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">We were in fact talking past each other</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 6, 2008 0:18 UTC (Fri)
                               by <b>PaulMcKenney</b> (<b>&#x272D; supporter &#x272D;</b>, #9624)
                              [<a href="/Articles/285178/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
OK, we were talking past each other.  I was responding to case 1 and 2 in your original
posting, pointing out that bugs, features, and performance issues might cause two independent
works to nevertheless be related -- not in the GPL/copyright derived-works sense, but rather
in the sense that not all possible pairs of versions of the two works could be expected to
work together correctly.

As I said before, I don't have an opinion on the placement of firmware blobs. If I was
attempting to argue for firmware blobs being placed in the kernel tree, I would likely use
analogies with (1) gcc, which is permitted to compile and link proprietary code, and (2) ftp,
where a proprietary client is permitted to interoperate with a GPLed server.  But I was not
attempting this argument, rather, I was probing your cases 1 and 2 in your original posting.

Sincerely, Paul E. McKenney (my opinions, not my employer's)
</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/285178/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor285179"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">We were in fact talking past each other</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 6, 2008 0:50 UTC (Fri)
                               by <b>dwmw2</b> (subscriber, #2063)
                              [<a href="/Articles/285179/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <BLOCKQUOTE><I>OK, we were talking past each other.  I was responding to case 1 and 2 in your original posting, ...
</I></BLOCKQUOTE>
Khim's original posting, not mine?

<BLOCKQUOTE><I>...pointing out that bugs, features, and performance issues might cause two independent works to nevertheless be related -- not in the GPL/copyright derived-works sense, but rather in the sense that not all possible pairs of versions of the two works could be expected to
work together correctly.</I></BLOCKQUOTE>

True, except where you say "not in the GPL sense". The GPL has implications which go further than just derived works -- it explicitly extends to sections of a combined work which, when distributed separately, would be considered independent and separate works in themselves.<P>

The only thing that lets you distribute that combination of non-GPL'd and GPL'd stuff is if it's "mere aggregation on a volume of a storage or distribution medium", like two programs which both happen to be on that shareware CD I mentioned earlier.<P>

The existence of a close relationship such as the one you hypothesise would tend to indicate that this is <em>not</em> "mere aggregation on a volume of a storage or distribution medium". And that, I think, is what Khim was talking about. It's certainly what I was talking about in the post he quotes.
      
          <div class="CommentReplyButton">
            <form action="/Articles/285179/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor285219"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">We were in fact talking past each other</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 6, 2008 14:35 UTC (Fri)
                               by <b>PaulMcKenney</b> (<b>&#x272D; supporter &#x272D;</b>, #9624)
                              [<a href="/Articles/285219/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
You are correct, I was indeed responding to khim's original comment.

And please note I did -not- say "not in the GPL sense", but rather "not in the GPL/copyright
derived-works sense".  The legal complexities and uncertainties alluded to by your response to
your modified version of my statement is indeed one reason why I don't have an opinion on how
drivers and firmware blobs should be distributed.

The main point I am trying to make -- which you appear to agree with -- is that there is good
and sufficient motivation to provide users with some mechanism that automatically matches up
the Linux-kernel driver with the corresponding device firmware.  This is I believe that point
that Dave Miller was getting at in the original article.

And -of- -course- we must do this automatic matching in a way that honors the GPL and other
relevant licenses and laws.  But we must do the automatic matching of driver and firmware, one
way or another.

Sincerely, Paul E. McKenney (my opinions, not those of my employer)
</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/285219/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor285221"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">We were in fact talking past each other</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 6, 2008 14:49 UTC (Fri)
                               by <b>dwmw2</b> (subscriber, #2063)
                              [<a href="/Articles/285221/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <BLOCKQUOTE><I>The main point I am trying to make -- which you appear to agree with -- is that there is good and sufficient motivation to provide users with some mechanism that automatically matches up the Linux-kernel driver with the corresponding device firmware.  This is I believe that point
that Dave Miller was getting at in the original article.</I></BLOCKQUOTE>

It's not particularly hard to do this -- and we get it right in many situations already, where the firmware is either in ROM/Flash or extracted from a Windows or other driver -- and thus we <em>have</em> to cope with the various versions we might encounter. You work out what version of the firmware you have, and you cope accordingly.
<P>
Alternatively, for firmware which can be shipped in the <TT>linux-firmware</TT> tree, we can actually ship both old and new versions simultaneously by appending a version number to the filename (think of it a bit like an soname in libraries). That makes it easier, because older kernels would continue to request and use the older firmware blobs.
<P>
I don't think it's a particularly serious concern. The firmware blobs just don't change that often -- they're a black box which we can't tweak for ourselves, and if we're <em>really</em> lucky the manufacturer might throw and improved version over the wall occasionally, but it isn't anywhere near as frequent as we'd like.

      
          <div class="CommentReplyButton">
            <form action="/Articles/285221/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor285255"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">We were in fact talking past each other</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 6, 2008 18:30 UTC (Fri)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/285255/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
If we're really lucky the firmware is generated at build time from the 
GPLed source :) I doubt you're moving the sym53c8xx firmware; it's not a 
blob (it has actual comments and everything).

</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/285255/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor285256"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">We were in fact talking past each other</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 6, 2008 18:41 UTC (Fri)
                               by <b>PaulMcKenney</b> (<b>&#x272D; supporter &#x272D;</b>, #9624)
                              [<a href="/Articles/285256/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
That is certainly the best case -- very nice when it works out this way!
</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/285256/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor285070"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Moving the firmware out</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 5, 2008 9:42 UTC (Thu)
                               by <b>tzafrir</b> (subscriber, #11501)
                              [<a href="/Articles/285070/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
Are there drivers in the kernel with firmwares and GPL-compliant source for the firmware?
</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/285070/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor285089"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Moving the firmware out</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 5, 2008 12:25 UTC (Thu)
                               by <b>cladisch</b> (<b>&#x272D; supporter &#x272D;</b>, #50193)
                              [<a href="/Articles/285089/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
drivers/usb/serial/keyspan_pda.S and xircom_pgs.S are the firmware source code files for the
keyspan_pda driver.
</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/285089/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor285134"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Moving the firmware out</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 5, 2008 17:27 UTC (Thu)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/285134/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
The Symbios 53c8xx firmware in drivers/scsi/sym53c8xx_2/sym_fw*.h is 
GPLed. (It even has a GPLed relocation engine :) )
</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/285134/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor285167"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Moving the firmware out</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 5, 2008 21:27 UTC (Thu)
                               by <b>iabervon</b> (subscriber, #722)
                              [<a href="/Articles/285167/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
I like the comment about getting the right assembler: "Get as31 from {URL}, and hack on it a
bit to make it build."

</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/285167/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor285257"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Moving the firmware out</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 6, 2008 18:58 UTC (Fri)
                               by <b>giraffedata</b> (guest, #1954)
                              [<a href="/Articles/285257/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <blockquote>
By making it easier to put all of the firmware in one non-GPL tree, hardware vendors&#8212;and their lawyers&#8212;may be willing to allow the firmware to 
be distributed.
</blockquote>
<p>
I just don't get this.  Under what possible theory based on the Linux copyright would the hardware vendor think it's a bad idea to permit people to distribute its firmware?
<p>
The implication I take is that some hardware vendors don't allow me take their firmware object code, bind it up with the Linux kernel, and give it to someone else.  While there's an obvious theory that I would be violating Linux authors' copyright doing that, how could it hurt the hardware vendor?

      
          <div class="CommentReplyButton">
            <form action="/Articles/285257/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor285297"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Firmware distribution</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 7, 2008 14:22 UTC (Sat)
                               by <b>man_ls</b> (guest, #15091)
                              [<a href="/Articles/285297/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      I can see strategic, logistic and practical considerations against distributing the firmware with the Linux kernel.
<p>
A hardware vendor may (misguidedly of maliciously) think that it is a bad idea that Linux distributions carry its firmware blob. One trivial cause might be that the vendor wants its users to upgrade to the latest hardware. We have seen something similar with proprietary graphics drivers which do not support older cards, and with Vista drivers too. Stupid (new customers would not exactly come running to our door), but possible.
<p>
Also, a malicious party (say, SCO) may buy the copyrights from a hardware vendor with the sole intent of bringing a copyright dispute against the kernel. While the firmware can be ripped out in a matter of hours from the current version, it would cause a logistic nightmare to take it out of all distributed kernels. No matter how stupid it is (since firmware is there to be distributed), but we have seen how meritless cases can drag on for years.
<p>
Even if all vendors agree, you need written permission to distribute copyrighted material. Linux contains a lot of firmware binary blobs. Now, are all permissions stored in the kernel tree? How can a distribution make sure that it has permission for all binary blobs? What about redistribution rights? This is even before considering the problem with GPL linking that others have pointed out.
<p>
These issues may not have a solid basis, but people have been known to do dumber things. Even we watching from the sidelines can surely understand how e.g. a Red Hat lawyer might be worried to see these gray blobs in their distribution.
      
          <div class="CommentReplyButton">
            <form action="/Articles/285297/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor285309"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Firmware distribution</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 7, 2008 15:55 UTC (Sat)
                               by <b>giraffedata</b> (guest, #1954)
                              [<a href="/Articles/285309/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <blockquote>
I can see strategic, logistic and practical considerations against distributing the firmware with the Linux kernel.
</blockquote>
<p>
Those are all good reasons, but they don't seem to have anything to do with the post to which you replied, which asks the question:

<blockquote>
Under what possible theory based on the Linux copyright would the hardware vendor think it's a bad idea to permit people to distribute its firmware?
</blockquote>

<p>
Some of the reasons you give are motiviations for people other than the hardware vendor to oppose having firmware distributed in the kernel.  The others are reasons not based on the Linux copyright.

<p>
The article implied that there are hardware vendors who don't want their firmware distributed with the Linux kernel, but would be OK with it being distributed in a package which is copyright-licensed more liberally.

      
          <div class="CommentReplyButton">
            <form action="/Articles/285309/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor285313"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Firmware distribution</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 7, 2008 16:32 UTC (Sat)
                               by <b>jake</b> (editor, #205)
                              [<a href="/Articles/285313/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
<font class="QuotedText">&gt; The article implied that there are hardware vendors who don't want their</font>
<font class="QuotedText">&gt; firmware distributed with the Linux kernel, but would be OK with it being</font>
<font class="QuotedText">&gt; distributed in a package which is copyright-licensed more liberally.</font>

The lkml thread seems to indicate there are some hardware vendors who are unwilling to let
their firmware be distributed with the kernel.  Perhaps they are concerned (rightly or
wrongly) that allowing that would subject _their_ code to the GPL.

jake
</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/285313/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor286142"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Firmware distribution</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 15, 2008 11:12 UTC (Sun)
                               by <b>Duncan</b> (guest, #6647)
                              [<a href="/Articles/286142/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
This would, from my (non-lawyer) understanding, be correct.  At least as I 
understand US law (other nations may be different), it would be impossible 
to force them to reveal sources, since you can't do that with someone 
else's code.  However...

It's entirely possible, even probable given enough time and the hair 
brained legal theories some come up with (the GPL is an anti-trust 
violation, riiiggghhttt, glad the Judge thought the same and threw out 
that case), that someone (say a competitor) claiming copyright interest in 
the kernel might decide to try to force the code out of these people based 
on it shipping with the kernel for so long.  As I said above, according to 
my understanding and by US law at least, that wouldn't be possible.  
However, should someone get the hair-brained idea to try it, given the 
right circumstances (see SCO), it could drag out forever, costing the 
hardware company in question all sorts of money it would certainly rather 
be spending elsewhere.  Not everyone has the resources of an IBM.

Thus, while it shouldn't be a legal danger in the end, it's enough of an 
economic risk thru exposure to simple legal threat, even if ultimately 
unsuccessful, that I can easily see a company's accountants and lawyers 
combining to veto any permission to ship firmware with the kernel.

But separate it into a non-GPL entangled tarball, and the legal threat 
gets much less.

All that said, the threat is really the reverse, as explained by others, 
that a SCO could ultimately hold the kernel (at least current and past 
shipping and supported versions, and thus everyone using them) hostage, 
with things as-is, due to the "if you can't ship it and comply, you can't 
ship it" wording), not anyone doing any more than tying up a few legal 
resources up for awhile trying to get the code out of the firmware folks.  
Thus, while it may be a bit of an economic risk for the firmware folks, 
it's a SERIOUS risk for those depending on the kernel, all the more reason 
to get the separation done as expeditiously as possible.  I'm glad 
someone's now attacking the issue, as it /is/ a danger, there are SCOs in 
the world, and as such, it needed addressed.

Duncan
</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/286142/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2008, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
