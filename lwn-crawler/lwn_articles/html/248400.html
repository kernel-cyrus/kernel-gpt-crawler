        <!DOCTYPE html>
        <html lang="en">
        <head><title>KS2007: Hardware support and the i386/x86_64 merger [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/248400/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/248400/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>KS2007: Hardware support and the i386/x86_64 merger</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Did you know...?</b>
<p>
LWN.net is a subscriber-supported publication; we rely on subscribers
       to keep the entire operation going.  Please help out by <a
       href="/Promo/nst-nag4/subscribe">buying a subscription</a> and keeping LWN on the
       net.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>September 6, 2007</br>
           <hr>
LWN.net <a href="/Articles/KernelSummit2007/">Kernel Summit 2007</a> coverage
</div>
Dirk Hohndel is an outspoken critic of how the kernel community is
currently dealing with uncooperative hardware vendors; his LCE talk on this
subject was recently <a href="http://lwn.net/Articles/248041/">covered in
LWN</a>.  As the leader of the session on hardware support, Dirk repeated
some of his points, made some new ones, and set the stage for a major
announcement.
<p>

The session started with a report from John Linville, the wireless
networking stack maintainer.  The now-famous reverse-engineered ath5k
driver for Atheros chipsets is in progress, though it does not yet work
reliably for all hardware.  There are, he says, going to be some
interesting developments with this software in the near future.
<p>

The only vendor who is putting any sort of development effort into free
drivers is Intel, unfortunately.  There are occasional process difficulties
with Intel's developers, but as a whole, things are going reasonably well.  One
remaining big issue is regulatory compliance.  Until the regulatory
situation eases, a number of vendors will continue not to cooperate with
the Linux community.
<p>

David Airlie talked about video drivers.  The Nouveau project continues to
work on a reverse-engineered driver for NVidia chipsets, but progress is
very slow.  Some chips can run glxgears, most cannot.  There is a new
memory management module which needs to get into the mainline before a
number of tasks (texturing, in particular) can be addressed.  On the other
hand, 2D support is getting better than the current (free) nv driver, at
least some of the time.  There are, it seems, a vast number of per-card
tweaks which must be applied, and those are still being discovered.  The
Nouveau driver is probably still a full year away from being usable.
<p>

On the ATI front, the Avivo effort has achieved decent 2D support, but no
3D so far.  There is also some conversations happening with Via which could
result, someday, in better support for those chipsets.
<p>

AMD manager Chris Schlaeger was then challenged to "give us some good
news."  According to Chris, Linux is very important to AMD; the company
believes that the Opteron processor would not have been anywhere near as
successful without Linux support.  The company's future plans lead to an
interesting problem, though.  The "Fusion" product line will feature a
central processor and a graphics processor on the same die.  Continuing to
support free software on the CPU while keeping the GPU closed leads to all
sorts of contradictions; it's really not an option.  So, to avoid losing
Linux support altogether, AMD has made an important decision.
<p>
Starting with the R500 chipset and going forward, AMD will fully support
free drivers for all of its graphics processors.  This support will
<i>not</i> take the form of a release of the current proprietary ATI
driver; that code is not considered to be something that anybody would
really want to look at.  So there will be a clean start.  AMD will release
specifications and a skeleton driver with the plan to have 2D support
working by the end of the year.  The company is clearly hoping that the
community will do much of the work on the driver, but it also plans to
participate actively in the process.  If AMD follows through - and there is no real
reason to believe that it will not - then driver problems for AMD/ATI
chipsets will soon be a distant memory.
<p>

Dirk then stood up to talk about the problems faced by companies which try
to work with the community; this talk repeated much of the material from <a
href="http://lwn.net/Articles/248041/">his LCE presentation</a>.  What was
different was that, for this audience, Dirk asked the development community
to push back harder against recalcitrant vendors.  We might not want to ban
binary-only modules altogether, but we should increase the amount of pain
associated with maintaining those modules.  It is time to actively make
life hard for binary-only vendors.
<p>

A fear was expressed that such a policy might drive away vendors
altogether.  Dirk responded that, in the current market, walking away from
Linux is no longer an option.  Vendors have to work with Linux in one way
or another.  Another developer suggested that making things harder would
mostly succeed in upsetting users.  According to Dirk, that is part of
creating pain for the vendors; upset users will eventually move to hardware
which presents fewer problems.
The amount of sympathy for this idea varied; some developers would rather
work in making life easier for cooperative companies.  The idea of making
it easier to integrate drivers into the mainline was raised again.
<p>

In the final moments of this session, Bdale Garbee stated that,
increasingly, HP is pushing its suppliers for components which are
supported by free software.  Intel, too, is doing that.  According to
Bdale, vendors need to hear one thing clearly: the days of selling closed
hardware are coming to an end, soon.  Such words were well received in this
room, to say the least.
<p>

The next session covered a related topic: how the x86 architecture is to be
supported in the future.  In particular, the idea of <a
href="http://lwn.net/Articles/243704/">merging the i386 and x86_64
architecture trees</a> was on the agenda.  Much of the discussion followed
the lines of LWN's previous coverage of the topic, so it won't be repeated
here. 
<p>

It did take some time to cover that ground again, though, before Linus made
a pronouncement: the current 32-bit/64-bit split does not work, and he
intends to merge the patch joining the two architectures regardless of what
maintainer Andi Kleen thinks.  Andi replied that this can certainly be
done, but that a new maintainer would have to be found for the combined
architecture; one hopes that he does not follow through with that statement.  Almost everybody else was behind the idea, though, with the
PowerPC and S/390 developers talking about what a big win it had been for
them.  So this merger would appear to be a done deal; the only open
question is whether it can be ready in time for the 2.6.24 merge window.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Device_drivers">Device drivers</a></td></tr>
            <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Nouveau">Nouveau</a></td></tr>
            <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#x86_64">x86_64</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/248400/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor248506"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2007: Hardware support and the i386/x86_64 merger</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 6, 2007 10:57 UTC (Thu)
                               by <b>vblum</b> (guest, #1151)
                              [<a href="/Articles/248506/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      Hm. Upset users already have the hardware, typically for use over a period of years. Especially new users will quickly move to SOFTWARE which creates fewer problems. <br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/248506/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor248631"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2007: Hardware support and the i386/x86_64 merger</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 6, 2007 17:50 UTC (Thu)
                               by <b>ckelso</b> (guest, #43128)
                              [<a href="/Articles/248631/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      Software can be a lot more expensive to change out, for a business, than hardware.  This is what gives the developers leverage.  A switch to windows (the only reasonable software change you could talk about when drivers are being discussed) is simply not viable for custom business code.  If you needed to spend 100k to migrate an application or 4k in new hardware, what would you choose?<br>
<p>
At the consumer level, embedded linux is already done in longstanding internal forks against 2.4.  They _don't_ have anything to offer the vanilla 2.6 tree.  The drivers that they do have are often incomplete or shoddy and aren't available at all to PC users.  There is no reason to worry about whether you will chase them off, because they don't contribute even in the binary sense.<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/248631/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor248655"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2007: Hardware support and the i386/x86_64 merger</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 6, 2007 21:00 UTC (Thu)
                               by <b>AJWM</b> (guest, #15888)
                              [<a href="/Articles/248655/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Yep, I've seen that in a couple of cases -- even in cases where it wasn't proven that the hardware/driver was the problem, just suspected.  Rip out all the cards and replace them with something we know works (or the 3rd party application vendor supports, whatever). <br>
<p>
Replacing a half-dozen fibre cards (HBAs) is cheap compared to what you're paying your SAN vendor, and if he says that card X isn't supported (by him) under the OS upgrade you want to do (or your DB vendor insists on) but card Y is, guess what's going to happen.<br>
<p>
(And in this particular case the drivers for both X and Y cards were GPL, so that wasn't even a factor.)<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/248655/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor248663"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2007: Hardware support and the i386/x86_64 merger</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 6, 2007 21:45 UTC (Thu)
                               by <b>vblum</b> (guest, #1151)
                              [<a href="/Articles/248663/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Yes, for specialized application needs that is true.<br>
<p>
I take it, though, that the graphics cards discussed here are intended for consumer / business desktop use? Very large businesses will probably not change their software setup, but change their hardware instead. Many people who have the choice, though, especially new users, will end up ditching the software that "didn't work" on their machine.<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/248663/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor248659"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2007: Hardware support and the i386/x86_64 merger</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 6, 2007 22:06 UTC (Thu)
                               by <b>amikins</b> (guest, #451)
                              [<a href="/Articles/248659/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      This doesn't really acknowledge the consumer end, which is where things like binary video drivers generally come into play. Business isn't much of a volatile market for Linux at this time; the major players already know what's offered, and so adoption is pretty much just a matter of vendors getting their sales. <br>
<p>
Consumer marketshare is still rather fragile when you look beyond the hobbyists, and consumers tend to develop negative opinions pretty easily. For them, they almost certainly already HAVE another OS which 'just works' with their hardware.. The cost of learning Linux is then added to the cost of new hardware, assuming there is supported hardware that does what they need, and they can easily determine what is supported.<br>
<p>
If 'winning' in that space is important, then this is an issue that warrants caution.<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/248659/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor248672"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2007: Hardware support and the i386/x86_64 merger</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 6, 2007 23:51 UTC (Thu)
                               by <b>ckelso</b> (guest, #43128)
                              [<a href="/Articles/248672/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      There are two markets for consumers as far as linux is concerned.  Embedded devices (DVR, routers, network storage, etc...) and low end walmart PCs.  Their is simply no demand outside of that.  Consumers have _zero_ influence on vendors, sorry.  They just don't care what runs on their systems, they only care that what the OS that came pre-installed works.  Anyone that does care about running an after market OS is what you call a hobbyist.<br>
<p>
Let's look about how hobbyists fair from a kernel perspective.  I have never had an issue with a disk controller on desktop box.  probably a total of about 10 different chipsets there.  I haven't had sound driver issues since ALSA came about.  I have had two systems that had XFree86 issues (not kernel per se, but without X I can't say that the kernel works for me either) and which were never solved by binary drivers anyway.  I have had two systems that required third party, out-of-tree but still not binary, drivers for network.<br>
<p>
Wireless has been and continues to be the biggest issue.  The reason it is an issue isn't because of out-of-kernel or binary drivers.  The reason it is an issue is because of software radio tuners.  Open source software tuners are banned, you just can't make them.  Worse yet, the big upgrade chip providers prefer the software tuners because the bulk of the market is a closed driver shop.<br>
<p>
All in all though, the binary module issue is a red herring.  The drivers that make up the bulk of the out-of-tree drivers available are simply enterprise.  This is exactly where the developers have leverage.  Why shouldn't they use it?<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/248672/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor248675"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2007: Hardware support and the i386/x86_64 merger</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 7, 2007 0:13 UTC (Fri)
                               by <b>amikins</b> (guest, #451)
                              [<a href="/Articles/248675/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <font class="QuotedText">&gt;There are two markets for consumers as far as linux is concerned. Embedded devices (DVR, routers, network storage, etc...) and low end walmart PCs. Their is simply no demand outside of that. Consumers have _zero_ influence on vendors, sorry. They just don't care what runs on their systems, they only care that what the OS that came pre-installed works. Anyone that does care about running an after market OS is what you call a hobbyist.</font><br>
<p>
I suspect there's little I can do to sway your opinion based on these statements, but I think it's worth noting that there's an increasing tendency for people to notice the sorts of things they're getting put through on their attempt to keep 'current' on their technology. People who are most definitely consumers -- not hobbyists by any stretch of the imagination -- are noticing that XP isn't coming on new computers anymore; Vista has started being noticed, and some people aren't liking it. This is causing regular people to start looking more and more at other options. <br>
<p>
I've had several individuals who historically would have been the 'well, it works, so whatever' type ask me if I know anything about this 'Linux' thing, because they don't like Vista and want to know if they can get their work done on something aside from what Microsoft is pushing. There isn't significant marketshare CURRENTLY occupied by Linux for consumers.. But there's potential of it. The end-user class of software is pretty close to ready.<br>
<p>
But there's a risk of a self-fulfilling prophecy. If something gets written off before it has a chance to happen, then that only ensures that it won't happen.<br>
<p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/248675/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
<a name="CommAnchor248706"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2007: Hardware support and the i386/x86_64 merger</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 7, 2007 9:26 UTC (Fri)
                               by <b>modernjazz</b> (guest, #4185)
                              [<a href="/Articles/248706/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Hooray about the AMD/ATI announcement! This is long hoped-for news.<br>
<p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/248706/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor249306"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2007: Hardware support and the i386/x86_64 merger</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 11, 2007 23:49 UTC (Tue)
                               by <b>MisterIO</b> (guest, #36192)
                              [<a href="/Articles/249306/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Now the real big problem remains Nvidia.There are still no commercial games for Linux,but if Linux starts to give the possibility to create good 3d games ,then I don't know who will start(customers or software houses),but it's highly  probable that we'll see a big jump on the Linux use.I hope that the AMD/ATI case will be the first big step in that direction.<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/249306/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2007, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
