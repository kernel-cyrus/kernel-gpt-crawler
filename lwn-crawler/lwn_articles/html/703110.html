        <!DOCTYPE html>
        <html lang="en">
        <head><title>4.9 Merge window part 2 [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/703110/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/703019/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/703110/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>4.9 Merge window part 2</h1>
</div>
<div class="ArticleText">
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>October 12, 2016</br>
           </div>
As of this writing, Linus has pulled 13,488 non-merge changesets into the
mainline repository for the 4.9 development cycle.  That suggests that not
only will 4.9 be the busiest cycle in the kernel's history, but that it
will surpass the previous record (3.15, at 13,722 changesets) before the
merge window closes.  The merging of the greybus driver code has a lot to
do with that but, even without greybus, there is a lot going on this time
around.
<p>
Among the user-visible changes merged since <a
href="/Articles/702590/">last week's summary</a> are:
<p>
<ul>

<li> The system calls for the memory protection keys feature have been
     merged.  The <tt>pkey_alloc()</tt>, <tt>pkey_free()</tt>, and
     <tt>pkey_mprotect()</tt> calls are as described in <a
     href="/Articles/689395/">this article</a>, but the <tt>pkey_set()</tt>
     and <tt>pkey_free()</tt> calls, which can be implemented purely in
     user space, were not included.  See <a
     href="/Articles/703208/">Documentation/x86/protection-keys.txt</a> for
     details. 
<p>
<li> The <a href="/Articles/701165/">bottleneck bandwidth and RTT</a> (BBR)
     congestion control algorithm has been merged.
<p><blockquote class="ad">
<b><tt>$ sudo subscribe today</tt></b>
<p>
Subscribe today and elevate your LWN privileges. You’ll have
access to all of LWN’s high-quality articles as soon as they’re
published, and help support LWN in the process.  <a href="https://lwn.net/Promo/nst-sudo/claim">Act now</a> and you can start with a free trial subscription.
</blockquote>
<p>
<li> The BATMAN mesh networking subsystem has a new netlink-based
     configuration mechanism that will, over time, supersede and replace
     the older, debugfs-based interface.
<p>
<li> The netfilter module supports a new "quota" mechanism designed to
     enable the enforcement of byte quotas.  There's also a new
     random-number generation module intended to enable the random
     distribution of packets (across multiple queues, for example).
<p>
<li> There is a new just-in-time BPF compiler that can be used to load BPF
     programs for execution within Netronome network interfaces.  In 4.9,
     only the <tt>cls_bpf</tt> classifier module will take advantage of
     this capability.
<p>
<li> The filesystems in user space (FUSE) module now supports POSIX
     access-control lists.
<p>
<li> The <a href="/Articles/648400/">Greybus</a> subsystem has been
     merged.  This bus was intended for the "Project Ara" phone, which has
     since been canceled, but Greg Kroah-Hartman successfully <a
     href="/Articles/703353/">argued for</a> its inclusion
     anyway.  This merge includes the entire development history
     for this code, some 2,400 changesets in total.
<p>
<li> There is a new set of resource limits controlling how many namespaces
     may be created within any given user namespace.  See <a
     href="/Articles/703128/">Documentation/sysctl/user.txt</a> for
     details. 
<p>
<li> The hardware latency tracer (which seeks to flush out latencies caused
     by the hardware itself) has moved into the mainline from the realtime
     tree.  See <a
     href="/Articles/703129/">Documentation/trace/hwlat_detector.txt</a>
     for details and usage information.
<p>
<li> The ubifs filesystem now supports overlayfs and the <tt>O_TMPFILE</tt>
     file-creation option.
<p>
<li> New hardware support includes:
     <p>
     <ul>
     <li> <b>Systems and processors</b>:
     	  Broadcom BCM53573-based processors.
     <p>
     <li> <b>Audio</b>:
     	  Nuvoton NAU8810 audio codecs,
	  Realtek RT5660/RT5663/RT5668 audio codecs,
	  X-Powers AC100 audio codecs, and
	  Samsung Exynos SoC low power audio subsystems.
     <p>
     <li> <b>Industrial I/O</b>:
       	  Maxim thermocouple sensors,
	  Measurement Computing CIO-DAC digital-to-analog converters,
	  Asahi Kasei AK8974 3-axis magnetometers,
	  Domintech DMARD05/DMARD06/DMARD07 accelerometers,
	  Texas Instruments ADC161S626 1-channel differential
     	  analog-to-digital converters,
	  Texas Instruments' ADC12130/ADC12132/ADC12138 analog-to-digital
     	  converters, 
	  MediaTek mt65xx analog-to-digital converters,
	  Linear Technology LTC2485 analog-to-digital converters,
	  Analog Devices AD8801/AD8803 digital-to-analog converters,
	  Apex Embedded Systems STX104 analog-to-digital converters,
	  mCube MC3230 digital accelerometers, and
	  Murata ZPA2326 pressure sensors.
     <p>
     <li> <b>Media</b>:
	  Atmel image sensor controllers,
	  Analog Devices AD5820 lens voice coils,
	  Techwell TW5864 video/audio grabber/encoders,
	  STMicroelectronics HVA multi-format video encoders,
	  STMicroelectronics STiH4xx HDMI CEC interfaces, and
	  Gennum GS1662 HD/SD-SDI serializers.
     <p>
     <li> <b>Miscellaneous</b>:
     	  Rockchip RK818 power-management chips,
	  Elan eKTF2127 touchscreen controllers,
	  Microsemi PQI SCSI controllers,
	  Intel integrated sensor hubs,
	  Cavium ThunderX I2C buses,
	  Cavium ThunderX random number generators,
	  APM X-Gene SoC performance monitoring units,
	  Qualcomm external bus interfaces (version 2),
	  JDI LT070ME05000 WUXGA DSI panels, and
	  Amlogic Meson PWM controllers.
     <p>
     <li> <b>Networking</b>:
     	  Microsemi VSC85xx PHYs,
	  Amazon Elastic Network adapters,
	  Thunder RGX/RGMII MAC interfaces,
	  Chelsio crypto coprocessors,
	  Qualcomm EMAC gigabit Ethernet controllers, and
	  Qualcomm Atheros QCA8K Ethernet switches.
     <p>
     <li> <b>Pin Control / GPIO</b>:
     	  Aspeed G4/G5 pin and GPIO controllers,
	  NextThing GR8 pin controllers,
	  X-Powers AXP209 PMIC GPIO controllers,
	  Intel Whiskey Cove PMIC GPIO controllers,
	  Diamond Systems GPIO-MM controllers,
	  Technologic Systems FPGA I2C GPIO controllers, and
	  TI LP873X PMIC GPIO controllers.
     <p>
     <li> <b>Thermal</b>:
	  Qualcomm TSENS temperature sensors,
	  QorIQ thermal monitoring units, and
	  Intel Broxton PMIC thermal monitors.
     </ul>
</ul>
<p>
Changes visible to kernel developers include:
<p>
<ul>

<li> The handling of messages printed with <tt>printk()</tt> has changed for
     the case of single-line messages created with multiple
     <tt>printk()</tt> calls.  The rule has long been that the continuation
     lines should be marked with the <tt>KERN_CONT</tt> pseudo log level,
     but that requirement has not been enforced for several years.  As of
     <a
     href="https://git.kernel.org/linus/4bcc595ccd80decb4245096e3d1258989c50ed41">this
     commit</a>, the use of <tt>KERN_CONT</tt> is again mandatory; without
     it, output will be garbled.  Many places in the kernel will need
     fixing; for the short term, expect some ugly output from 4.9-rc
     kernels. 
<p>
<li> The "kthread_worker" API has seen a number of changes.  These include
     the <a
     href="https://git.kernel.org/linus/3989144f863ac576e6efba298d24b0b02a10d4bb">renaming
     of most functions</a> to start with "<tt>kthread_</tt>"
     (e.g. <tt>init_kthread_worker()</tt> becomes
     <tt>kthread_init_worker()</tt>), the addition of <a
     href="https://git.kernel.org/linus/fbae2d44aa1df72d0154be77eb4d71e1e34c0f8f"><tt>kthread_create_worker()</tt></a>
     and <a
     href="https://git.kernel.org/linus/35033fe9cbbf18415dfeb7e27f0d4228dfc7458a"><tt>kthread_destroy_worker()</tt></a>,
     support for <a
     href="https://git.kernel.org/linus/22597dc3d97b1ead2aca201397415a1a84bf2b26">delayed kthread
     work</a>, and support for <a
     href="https://git.kernel.org/linus/dbf52682cb02863d22b15e3742988c7c6e3f1710">freezable
     kthreads</a>. 
<p>
<li> The network subsystem has added a module called "strparser"; its job
     is to parse (in-kernel) application-layer protocol messages from a TCP
     connection.  See <a
     href="/Articles/703116/">Documentation/networking/strparser.txt</a>
     for details.
<p>
<li> The handling of extended attributes in filesystems has changed.
     Filesystems that support extended attributes should create an
     <tt>xattr_handlers</tt> structure with its low-level methods and
     attach it to the <tt>superblock</tt> structure.  The
     <tt>setxattr()</tt>, <tt>getxattr()</tt> and <tt>removexattr()</tt>
     inode operations are no longer used and have been removed.
<p>
<li> The <tt>rename()</tt> inode operation has gained a <tt>flags</tt>
     argument.  In truth, <tt>rename()</tt> was removed and the
     <tt>rename2()</tt> operation was, well, renamed; all in-kernel filesystems
     have been updated to reflect the change.
<p>
<li> The new function <tt>current_time()</tt> returns the current time at
     the proper resolution for storage in a specific filesystem; it
     replaces the old <tt>CURRENT_TIME()</tt> macro.  Among other things,
     the new API is year-2038 safe.
</ul>
<p>

At this point, it seems likely that things will slow down considerably as
the 4.9 merge window approaches its scheduled closing on October&nbsp;16.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-4.9">Releases/4.9</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/703110/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2016, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
