        <!DOCTYPE html>
        <html lang="en">
        <head><title>The MD roadmap [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/428220/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/427232/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/428220/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>The MD roadmap</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>LWN.net needs you!</b>
<p>
Without subscribers, LWN would simply not exist.  Please consider
       <a href="/Promo/nst-nag2/subscribe">signing up for a subscription</a> and helping
       to keep LWN publishing.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>February 16, 2011</br>
           </div>
Users of the MD (multiple disk or RAID) subsystem in Linux may be
interested in the <a href="/Articles/428206/">MD roadmap</a> posted by
maintainer Neil Brown.  It discusses a number of things he has planned for
MD in quite a bit of detail; as Neil put it:
<p>
<div class="BigQuote">
	A particular need I am finding for this road map is to make
	explicit the required ordering and interdependence of certain
	tasks.  Hopefully that will make it easier to address them in an
	appropriate order, and mean that I waste less time saying "this is
	too hard, I might go read some email instead".
</div>
<p>
There are a lot of enhancements in the pipeline.  A bad block log would
allow RAID arrays to continue functioning in the presence of bad blocks
without needing to immediately eject the offending drive.   There is a
variant on "hot replace" which would allow a new drive to be inserted
before removing the old one, thus allowing the array to continue with a
full complement of drives while the new one is being populated.  Tracking
of areas which are known not to contain useful data would reduce
synchronization costs.  A number of proposed enhancements to the "reshape"
functionality would make it more robust and flexible and allow operations
to be undone.  A number of other changes are contemplated as well; see
Neil's post for the full list.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Block_layer-RAID">Block layer/RAID</a></td></tr>
            <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#RAID">RAID</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/428220/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor429098"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The MD roadmap</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 21, 2011 22:15 UTC (Mon)
                               by <b>PhracturedBlue</b> (subscriber, #4193)
                              [<a href="/Articles/429098/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I thought there was an effort to merge the 'md-raid' capabilities into the device-mapper system so that it would be possible to manage raid and virtual-partitioning through LVM.<br>
I searched and couldn't find the status of that implementation, and am not sure if it is independent of Neil's work or if the change already happened/is not going to happen and Neil's work is on the 'one true software raid' driver.<br>
<p>
I am definitely interested in the hot-replace capability.  Each time I upgrade the size of my raid, i get scared at having the array downgraded for so long while recomputing all data.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/429098/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor429114"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The MD roadmap</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 22, 2011 0:08 UTC (Tue)
                               by <b>neilbrown</b> (subscriber, #359)
                              [<a href="/Articles/429114/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The status of that effort is that there will be a 'raid' target available to dm devices in 2.6.38 which will provide access the md raid5 implementation.<br>
<p>
It is likely that this will be extended to cover md raid1 as well in due course.<br>
<p>
As features are added to md-raid they would then become available to dm-raid once the dm-raid configuration interface is enhanced to understand them.<br>
<p>
i.e. once hot-replace is implemented for md, all that would be required for it to be available under dm would be a mechanism in the dm interface to request it.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/429114/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor432441"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The MD roadmap</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 9, 2011 17:37 UTC (Wed)
                               by <b>Terra</b> (guest, #73487)
                              [<a href="/Articles/432441/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Does anyone know when the Linux kernel will support RAID/MD version 1.x superblock autodetecting during bootup?<br>
<p>
Ref:  <a rel="nofollow" href="https://raid.wiki.kernel.org/index.php/RAID_superblock_formats#A_Note_about_kernel_autodetection_of_different_superblock_formats">https://raid.wiki.kernel.org/index.php/RAID_superblock_fo...</a><br>
<p>
The new mdadm tools default to version 1.x, and we found our newly deployed servers unable to boot, so we got bit by this issue the hard way and had to go back and recreate them with superblock version 0.90<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/432441/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor432453"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The MD roadmap</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 9, 2011 17:52 UTC (Wed)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/432453/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
As far as I know, there are no plans ever to implement this, though Neil is not averse to someone else doing the work. But you don't need it: it took me three hours to come up with an initramfs that could boot my RAID arrays, and after that I didn't care what the kernel's built-in /-mounting code did. (Virtually every distro already has initramfses / initrds that do this.)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/432453/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2011, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
