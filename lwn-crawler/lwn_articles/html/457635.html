        <!DOCTYPE html>
        <html lang="en">
        <head><title>Upcoming DSP architectures [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/457635/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/457315/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/457635/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>Upcoming DSP architectures</h1>
</div>
<div class="ArticleText">
<div class="GAByline">
           <p>September 7, 2011</p>
           <p>This article was contributed by Arnd Bergmann</p>
           </div>
The Linux-3.2 merge window may be the first time that two new CPU
architectures get merged at the same time: the <a
href="http://linux-c6x.org">c6x  
architecture</a> from Texas Instruments and the <a
href="http://lwn.net/Articles/455342/">Hexagon architecture</a>
from Qualcomm.
Following the recently merged <a
href="http://opencores.org/openrisc,linux">OpenRisc</a>
platform, the two submissions look very solid and should see no major
obstacles getting merged into Linux after the usual review comments have
been resolved, but there is still <a
href="http://www.spinics.net/lists/linux-arch/msg14597.html">some
debate</a> over how to best add glibc 
support for the architectures.
<p>
Interestingly, there is a lot that these two architectures have in common,
far beyond <a
href="http://www.spinics.net/lists/linux-arch/msg14558.html">coincidentally
implementing the same bugs</a>.
Both are not regular CPU cores designed to run an operating systems but
instead are essentially <a
href="http://en.wikipedia.org/wiki/Digital_signal_processor">digital signal
processors</a>,
similar to the Blackfin architecture that was merged into linux-2.6.22
a few years ago. Further, both Hexagon and c6x are already widely available
in systems running Linux on the ARM core of a TI OMAP or Qualcomm MSM
system-on-a-chip, where they are used for offloading CPU intensive work
such as that required for video codecs.
<p><blockquote class="ad">
<b><tt>$ sudo subscribe today</tt></b>
<p>
Subscribe today and elevate your LWN privileges. You’ll have
access to all of LWN’s high-quality articles as soon as they’re
published, and help support LWN in the process.  <a href="https://lwn.net/Promo/nst-sudo/claim">Act now</a> and you can start with a free trial subscription.
</blockquote>
<p>
It will be interesting to see how Linux can coexist in the long run when
the same SoC can run Linux on either of the two CPU architectures. The
ARM architecture is currently transitioning to probing based on the
<a href="/Articles/447918/">dts device tree format</a> and all new
architectures merged into Linux will have to use that format as well
when they have devices that cannot be automatically detected. If the device
tree vision comes true, a single board will actually be able to use
the same device tree binary on either one, independent of which CPU
actually runs the kernel.
<p>
Another intriguing scenario is running Linux on both architectures
(ARM and DSP) simultaneously, using shared memory to communicate between
them. Ohad Ben-Cohen has recently posted <a href="/Articles/448562/">a
framework based on virtio</a> 
to allow just that on the TI platform.
While virtio was intended to be used for communication between a virtual
machine and the host operating system, it turns out to be flexible enough
to allow the same drivers for communication between operating system
instances on the same hardware.
<p>
Looking closer at the actual DSP architectures, there are some major
differences between Hexagon and C6x. The former is quite capable,
with support for symmetric multiprocessing, a memory management
unit and even a hypervisor. It can be seen as a competitor to
established CPU architectures like ARM, x86 or powerpc, at least in
the embedded space. In contrast, C6x is a rather minimalistic architecture
dating back to the TMS320 introduced in 1983. So far, its kernel supports
neither SMP nor an MMU, which means it is restricted to running <a
href="http://uclibc.org/">&mu;Clibc</a> 
instead of glibc, and it has a very limited set of
applications that can be supported as long as it is missing the MMU.
<p>
Beyond Linux 3.2, there are still more architectures that have been
around for a long time and could get merged if the respective maintainers
were interested. FPGA-based <a href="http://gitorious.org/linux-nios2">Nios2</a> is
apparently close to getting submitted, while the similar <a
href="http://www.theobroma-systems.com/uclinux-lm32/">lm32 architecture</a>
saw a lot 
of activity in 2010 but does not seem to be actively worked on now.
<a href="http://openlinux.amlogic.com/wiki/index.php/Arc">Synopsys ARC</a>
and <a href="http://www.imgtec.com/meta/meta.asp">Imagination META</a> are
both claimed 
to have Linux and Android support, but there is no indication that the
authors are actively working on upstream submission or even on making
the patches for current kernels easily available.
Finally, Donald Knuth's <a
href="http://www007.upp.so-net.ne.jp/eiji-y/vmmmix/vmmmix.html">MMIX
architecture</a>  has seen some occasional work in
the past but
now appears to be stalled, the latest kernel source version being 2.6.18.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Architectures">Architectures</a></td></tr>
            <tr><td><a href="/Archives/GuestIndex/">GuestArticles</a></td><td><a href="/Archives/GuestIndex/#Bergmann_Arnd">Bergmann, Arnd</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/457635/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor458259"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Upcoming DSP architectures</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 9, 2011 18:42 UTC (Fri)
                               by <b>larsc</b> (guest, #54300)
                              [<a href="/Articles/458259/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
"[...] while the similar lm32 architecture saw a lot of activity in 2010 but does not seem to be actively worked on now [...]"<br>
<p>
As part of the Milkymist project[1] we did some serious rework of the lm32 linux port[2]. It now actually works and doesn't crash due to some race conditions after ~3 minutes anymore. It also has device tree support and uses generic code where possible which allowed us to roughly cut the code size for the architecture support in half.<br>
<p>
So while Theobroma Systems doesn't really seem to do any work on it anymore, there is still some activity in regards to porting linux to the lm32 architecture.<br>
<p>
[1] <a href="http://milkymist.org">http://milkymist.org</a><br>
[2] <a href="https://github.com/milkymist/linux-milkymist/">https://github.com/milkymist/linux-milkymist/</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/458259/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor458285"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Upcoming DSP architectures</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 9, 2011 21:02 UTC (Fri)
                               by <b>arnd</b> (subscriber, #8866)
                              [<a href="/Articles/458285/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Ah, very nice. I tried very hard to find an up-to-date tree some time ago and although I did find the milkymist project, I could not find a pointer to a recent kernel tree. It's great to see it in such a good shape, so maybe we are going to see two FPGA based architectures (lm32 and nios2) getting merged in 3.3 then?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/458285/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor461368"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Upcoming DSP architectures</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 3, 2011 6:09 UTC (Mon)
                               by <b>jcm</b> (subscriber, #18262)
                              [<a href="/Articles/461368/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I do wonder what it'll take to finally see MMIX merged, that would be pretty damned sweet.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/461368/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor475123"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synopsys Arc latest versions</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 12, 2012 7:14 UTC (Thu)
                               by <b>gby</b> (guest, #23264)
                              [<a href="/Articles/475123/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Synopsys actually has an official Sourceforge page with more recent versions of the Linux Arc port and toolchain at <a href="http://sourceforge.net/projects/arc-linux/files/">http://sourceforge.net/projects/arc-linux/files/</a><br>
<p>
The latest update is from the 10/2012 and the kernel version there is 2.6.35.<br>
<p>
If someone needs an unofficial port to 3.2, drop me a note :-)<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/475123/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2011, Eklektix, Inc.<BR>
            
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
