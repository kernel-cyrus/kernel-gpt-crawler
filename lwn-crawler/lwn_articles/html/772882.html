        <!DOCTYPE html>
        <html lang="en">
        <head><title>Toward a kernel maintainer's guide [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/772882/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/772149/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/772882/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>Toward a kernel maintainer's guide</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>LWN.net needs you!</b>
<p>
Without subscribers, LWN would simply not exist.  Please consider
       <a href="/Promo/nst-nag2/subscribe">signing up for a subscription</a> and helping
       to keep LWN publishing.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>November 26, 2018</br>
           <hr>
<a href="/Archives/ConferenceByYear/#2018-Linux_Plumbers_Conference">Linux
Plumbers Conference</a>
</div>
"Who's on Team Xmas Tree?" asked Dan Williams at the beginning of his talk
in the Kernel Summit track of the 2018
<a href="https://linuxplumbersconf.org/">Linux Plumbers Conference</a>.  He
was referring to a rule for the ordering of local variable declarations
within functions that is enforced by a minority of kernel subsystem
maintainers — one of many examples of "local customs" that can surprise
developers when they submit patches to subsystems where they are not
accustomed to working.  Documenting these varying practices is a small part
of Williams's project to create a kernel maintainer's manual, but it seems
to be where the effort is likely to start.
<p>
In theory, Williams said, kernel maintenance is a straightforward task.
All it takes is accumulating patches and sending a pull request or two to
Linus Torvalds during the merge window.  In this ideal world, subsystems
are the same and 
there is plenty of backup to provide continuity when a maintainer takes a
vacation.  In the real world, though, the merge window is a stressful time
for maintainers.  It involves a lot of work juggling topic branches, a lot
of talking to people (which is an annoying distraction), and the fact that
Torvalds can instinctively smell a patch that is not yet fully cooked.
Maintenance practices vary between subsystems, and there is no backup for
the maintainers in many of them.  It is hard for a maintainer to take a
break.
<p>
Kernel maintainers, he said, are a gang of opinionated people.  They don't
always agree on things, but the good news is they don't have to.  So why
would we want a maintainer's handbook?  The idea is to create a reference

<a href="/Articles/772883/"><img
src="https://static.lwn.net/images/conf/2018/lpc/DanWilliams-sm.jpg" alt="[Dan Williams]"
title="Dan Williams" class="lthumb"></a>

manual for both maintainers and contributors, a collection of "tribal
knowledge" and best practices rather than a set of rules.  There is a lot
of good advice for maintainers to be found in email discussions, but nobody
has, yet, gone to the effort to capture that information and present it in
a useful form.
<p>
Another way of putting it, he said, is that there is a fair amount of pain
in the community, and he would like to try to alleviate it.  Contributors
feel the pain of trying to get a maintainer to do something; maintainers,
instead, feel the pain of simply trying to hold everything together.  He
noted that he, too, is guilty of doing things as a maintainer that have
caused him stress as a contributor; it is easy to unintentionally make the
process harder for others.  By
addressing some of those pain points, Williams hopes he can help to create
a better experience for all involved.
<p>
For example, one painful experience for contributors is getting silence in
response to patches sent to a maintainer.  Different maintainers exhibit
different latencies, so it is hard to know when to press further.  One way
to address this problem might be for maintainers to advertise an equivalent
to a service-level agreement (SLA) documenting the response time they agree
to provide.  Associated with the SLA could be information like  a set of
trusted reviewers who 
could stand in for the maintainer for many review tasks, the location of
the subsystem's test suite, and more.  By setting the
contributor's expectations, the guide should make their life easier; they
will know when to resend a patch.
<p>

Another part of the guide would concern itself with preventable maintainer
mistakes.  There have been a lot of lectures on the proper use of Git
posted by Torvalds (and others) over the years; it should be collected and
put into a place where maintainers can find it before they make a mistake.
Torvalds, Williams said, provides great explanations of how things should
be done "after the storm passes"; he does so patiently, repeatedly, as the
same mistakes are discovered anew.  Why, Williams asked, isn't this
information written down anywhere?
<p>
As Williams looked into the creation of a kernel maintainer's guide, he
discovered that <a
href="https://www.kernel.org/doc/html/v4.19/maintainer/index.html">one
already exists</a>; it was created by Tobin Harding in 2017 and hasn't been
changed since.  His first objective is to <a href="/ml/linux-kernel/154225759358.2499188.15268218778137905050.stgit@dwillia2-desk3.amr.corp.intel.com/">add
subsystem profiles</a> to this guide; the profile is meant to tell
contributors how to work with the subsystem.  It would include information
like:
<p>
<ul class="spacylist">
<li> Whether the subsystem accepts pull requests or, instead, requires that
     all submissions be posted as patches to a mailing list.
<li> The last day before the merge window that new features can be posted
     and the last day that any new features could actually be merged.  This
     "last day" is likely to be expressed in terms like "when -rc5 comes
     out".
<li> What the requirements are for Reviewed-by or Acked-by tags on
     patches and whether the maintainer is allowed to merge unreviewed
     patches.
<li> Whether the subsystem has a test suite and where it can be found.
<li> A list of trusted reviewers for the subsystem.
<li> The "resend cadence" for the subsystem — how long should a contributor
     wait before resending a patch?
<li> The time zone(s) in which the maintainers operate, which would be
     a hint for when contributors could expect a response to an email.
<li> The maintainer's opinion on trivial cleanup patches.
<li> Whether the maintainer trusts off-list patch reviews.  These often
     take the form of a Reviewed-by tag from somebody who works for the
     same company as the submitter; not all maintainers put much faith in
     such tags.

</ul>
<p>
If nothing else, this list is an interesting overview of how different
kernel maintainers approach their job.  It drew the obvious question ("why
do we have these differences in the first place?") from the audience, but
there isn't really an answer beyond "it has always been that way".
<p>
The session wound down with some unfocused discussion on the details of the
subsystem profiles.  Should they be listed in the MAINTAINERS file?  Should
they include the maintainer's expectations on the documentation of new
features?  Answers to those questions will have to await the conclusion of
the wider discussion, which is ongoing as of this writing.  But, as Mel
Gorman noted at the end of the talk, the work that has been done so far is
a useful enumeration of the problem space, which is a good start.
<p>
[Thanks to the Linux Foundation, LWN's travel sponsor, for supporting my
travel to the event.]<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Documentation">Documentation</a></td></tr>
            <tr><td><a href="/Archives/ConferenceIndex/">Conference</a></td><td><a href="/Archives/ConferenceIndex/#Linux_Plumbers_Conference-2018">Linux Plumbers Conference/2018</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/772882/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor772961"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Toward a kernel maintainer's guide</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 26, 2018 19:59 UTC (Mon)
                               by <b>l1k</b> (subscriber, #112260)
                              [<a href="/Articles/772961/">Link</a>] 
      </p>
      
      </div>
      </summary>
      FWIW, a document that might be called a "subsystem profile" <a href="https://marc.info/?l=linux-pci&m=150905742808166">exists for the PCI subsystem</a>, but isn't part of the tree yet, it was only posted to the list so far.
      
          <div class="CommentReplyButton">
            <form action="/Articles/772961/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor772991"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Toward a kernel maintainer's guide</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 27, 2018 2:54 UTC (Tue)
                               by <b>unixbhaskar</b> (guest, #44758)
                              [<a href="/Articles/772991/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Sounds interesting though. But, in practice "that's the way it is" is very difficult to get rid of and it will take way more time than one can imagine. And if it does, it will be a damn good thing to happen too.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/772991/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor773006"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Toward a kernel maintainer's guide</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 27, 2018 10:25 UTC (Tue)
                               by <b>k3ninho</b> (subscriber, #50375)
                              [<a href="/Articles/773006/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt;"why do we have these differences in the first place?"</font><br>
...should always draw the answer that we're adults working together in the varied ways that different people do. <br>
<p>
Even if you find a common structure to the workflow, each person will deliver it in their own unique way, from their perspective on the tasks at hand or their understanding of the problem and its solutions to how they work through each task -- the challenge is to share enough information among a team responsible for common success so that people can make progress.<br>
<p>
Cat herding teaches us that cats are going to be cats, so let's work with that to communicate and interact in ways which get the best from each kitteh.<br>
<p>
K3n.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/773006/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor772999"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Toward a kernel maintainer's guide</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 27, 2018 7:28 UTC (Tue)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/772999/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Torvalds, Williams said, provides great explanations of how things should be done "after the storm passes"; he does so patiently, repeatedly, as the same mistakes are discovered anew. Why, Williams asked, isn't this information written down anywhere?</font><br>
<p>
Why indeed?<br>
<p>
I almost never answer generic questions directly; I just hate repeating myself too much. I update or submit a documentation update instead and answer with a one-line pointer to the update.<br>
<p>
<a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">https://en.wikipedia.org/wiki/Don%27t_repeat_yourself</a><br>
<p>
<font class="QuotedText">&gt; It would include information like:</font><br>
<p>
As a (former) "consumer" of code freshly merged by maintainers, I would recommend adding the following information:<br>
<p>
- where is the git repo where maintainer X shares code he or she just merged, on its way up(stream)<br>
- short "map" of said git repo, notably which git branches are "volatile" versus not (in other words: does using the cherry-pick "-x" option make sense or not)<br>
<p>
These seem to be highly maintainer-dependent.<br>
<p>
<a href="https://chromium.googlesource.com/chromiumos/docs/+/master/kernel_faq.md#UPSTREAM_BACKPORT_FROMLIST_and-you">https://chromium.googlesource.com/chromiumos/docs/+/maste...</a><br>
<a href="https://public-inbox.org/git/70ccb8fc-30f2-5b23-a832-9e470787a945@intel.com">https://public-inbox.org/git/70ccb8fc-30f2-5b23-a832-9e47...</a><br>
<p>
<font class="QuotedText">&gt; It drew the obvious question ("why do we have these differences in the first place?") from the audience, but there isn't really an answer beyond "it has always been that way".</font><br>
<p>
"awareness" is always the first step and documentation achieves that (and more)<br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/772999/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor774975"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Toward a kernel maintainer's guide</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 15, 2018 5:12 UTC (Sat)
                               by <b>djbw</b> (subscriber, #78104)
                              [<a href="/Articles/774975/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
"Don't Repeat Yourself" (DRY) is a good principle, but when the document is not written yet, please do repeat until someone takes the initiative and writes it down.<br>
<p>
The details on the git repo and a repo map are a good idea. They also dovetail with the recent addition of a kernel.org patchwork-bot that uses a map of the maintainer's git repo to determine when to mark patches "Accepted" vs "Mainline".<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/774975/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor775014"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Toward a kernel maintainer's guide</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 16, 2018 1:24 UTC (Sun)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/775014/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; "Don't Repeat Yourself" (DRY) is a good principle, but when the document is not written yet, please do repeat until someone takes the initiative and writes it down.</font><br>
<p>
The point I tried to make: it's barely more effort to wrap an email answer / "upgrade" it to a documentation patch (submitted by... email?). So little more that it pays off as soon as the second time the same question comes again.<br>
<p>
Now of course I forgot the whole documentation system has to be implemented in the first place: <a href="https://xkcd.com/974/">https://xkcd.com/974/</a> <br>
Cheap shot sorry, I can imagine there's a real effort to get all this started and fair play Dan.<br>
<p>
PS: I'm considering my next Linux distro to be Arch purely based on their... wiki.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/775014/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor775016"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Toward a kernel maintainer's guide</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 16, 2018 2:06 UTC (Sun)
                               by <b>djbw</b> (subscriber, #78104)
                              [<a href="/Articles/775016/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Ah, it's a fair point, especially how long it has taken to find time to get this going, i.e. just start collecting links to lore.kernel.org archives of these examples. I do think there is some value to writing a preface, but probably less than I think. I'll start with that with some rough categories to gather the links I know about and worry about longer winded curation later.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/775016/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor773007"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Toward a kernel maintainer's guide</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 27, 2018 11:21 UTC (Tue)
                               by <b>mfuzzey</b> (subscriber, #57966)
                              [<a href="/Articles/773007/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I think not all differences are equal.<br>
<p>
Having different coding style rules for different parts of the kernel seems to be mostly a pain for everyone involved and I don't see any reasonable justification other than inertia.<br>
<p>
On the other hand having somewhat different *processes* in terms of git trees, review rules, cycle time etc for different subsystems makes a lot more sense since maintainers do have different workflows and the "best" workflow is certainly also very dependent on the size of the subsystem (in terms of patch volume and number of developers).<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/773007/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor773015"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Toward a kernel maintainer's guide</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 27, 2018 15:29 UTC (Tue)
                               by <b>bfields</b> (subscriber, #19510)
                              [<a href="/Articles/773015/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <em>Having different coding style rules for different parts of the kernel seems to be mostly a pain for everyone involved and I don't see any reasonable justification other than inertia.</em>

<p>I can think of a few.

<p>It takes effort to reach consensus: is a flame war on Christmas-tree declaration ordering really such a high priority?

<p>People have more fun if they're given a little leeway.

<p>The original Documentation/CodingStyle was 193 lines.  Looks like currently Documentation/process/codingstyle.rst is 1079 lines.  I wonder if people read it.
      
          <div class="CommentReplyButton">
            <form action="/Articles/773015/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor773393"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Toward a kernel maintainer's guide</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 30, 2018 11:30 UTC (Fri)
                               by <b>ale2018</b> (guest, #128727)
                              [<a href="/Articles/773393/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Questions about reasons for doing x or y should always be welcome.  In practice, they sound so marginal that readers just skip.  Walking through the code together seems to be gone for good, or perhaps it's just not supported by the tools?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/773393/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor773020"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Toward a kernel maintainer's guide</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 27, 2018 16:01 UTC (Tue)
                               by <b>rweikusat2</b> (subscriber, #117920)
                              [<a href="/Articles/773020/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Having different coding style rules for different parts of the kernel seems to be mostly a pain for everyone involved and I don't see &gt; any reasonable justification other than inertia.</font><br>
<p>
Empirically, this model has worked exceedingly well for a long time, hence, there's no reasonable justification to change it now just because that's  unfamiliar to certain people. The only "pain" involved here is if style conventions are being enforced (or sometimes enforced, depending on the social situation) which aren't documented anywhere: There's no way someone who isn't already familiar with whatever petty regulations are considered important can divine knowledge about them. Hence, trainwrecks are guaranteed to occur: Someone's being annoyed that things were done differently despite "everybody knows that THIS is the proper colour for a bikeshed!", someone else finds himself suddenly stepping on hidden landmines despite painstakingly trying to do everything "in the right way".<br>
<p>
As the paragraph above probably does (and certainly should) suggest, ideally, there would be no (or at least as few as possible) petty regulations at all. That different conventions about these can successfully coexist suggests that they aren't really necessary. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/773020/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor773101"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Toward a kernel maintainer's guide</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 27, 2018 16:56 UTC (Tue)
                               by <b>mfuzzey</b> (subscriber, #57966)
                              [<a href="/Articles/773101/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Empirically, this model has worked exceedingly well for a long time, hence, there's no reasonable justification to change it now just because that's unfamiliar to certain people.</font><br>
<p>
Yes, that's what I meant by inertia<br>
<p>
<font class="QuotedText">&gt;The only "pain" involved here is if style conventions are being enforced (or sometimes enforced, depending on the social situation) which aren't documented anywhere</font><br>
<p>
Obviously if they aren't being enforced there is no pain :)<br>
But if they are enforced, even if documented, it is a pain to those that work in multiple subsystems whereas those that only work in one probably never notice.<br>
<p>
<font class="QuotedText">&gt;As the paragraph above probably does (and certainly should) suggest, ideally, there would be no (or at least as few as possible) petty regulations at all. That different &gt;</font><br>
<font class="QuotedText">&gt;conventions about these can successfully coexist suggests that they aren't really necessary. </font><br>
<p>
Indeed, I completely agree with this. I wasn't suggesting that there should be a great "christmas tree debate" kernel wide. But that a rule should either be considered sufficiently important to be in the global CodingStyle or it should not exist. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/773101/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor773119"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Toward a kernel maintainer's guide</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 27, 2018 22:59 UTC (Tue)
                               by <b>rweikusat2</b> (subscriber, #117920)
                              [<a href="/Articles/773119/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Indeed, I completely agree with this. I wasn't suggesting that there should be a great "christmas tree debate" kernel wide. </font><br>
<font class="QuotedText">&gt; But that a rule should either be considered sufficiently important to be in the global CodingStyle or it should not exist.</font><br>
<p>
I don't think that's realistic, especially considering that some maintainers enforce coding style regulations which contradict what's written in the CodingStyle text (Patrick "This function is used only once. Get rid of it" McHardy being an example I personally encountered). OTOH, expecting outside contributors (or prospective outside contributors) to read throuhg a few years of a large number of high-volume mailing lists in order to discover "undocumented preferences" of over 1000 people is also not realistic. That's nothing but a camouflaged and guarded "No entry"-sign.<br>
<p>
There must be a way for someone to determine which guidelines to follow, ie, a document listing them. Otherwise, one can only try to imitate how the other code is written and that's not a trusty guide: Some "style regulations" are actually not about style at all, they mandate functional differences, even to the point of requiring that code works in an unlogical way. Eg, some people are strongly convinced that all loops ought to be pre-test loops. I don't think so because the initial state is often known and testing a condition known be either true or false seems absurd to me. Nevertheless, I'd gladly follow such a rule if someone considered it important. But there's no way to infer this from code.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/773119/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor773017"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Toward a kernel maintainer's guide</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 27, 2018 15:31 UTC (Tue)
                               by <b>kdave</b> (subscriber, #44472)
                              [<a href="/Articles/773017/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I've written 2 wiki pages about process and good practices, and another oriented to coding practices, regarding the btrfs development. They're incomplete, there are namely the recurring topics or things that I'd like people to know before contributing. This should supplement the well known CodingStyle and SubmittinPatch documents, yet many of style or subsystem coding practices get pointed out way too often. This makes me think that nobody reads the pages, unless pointed to. I for one welcome the initiative to gather and document the maintainers' pracitces and preferences so it's more discoverable.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/773017/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor773111"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Toward a kernel maintainer's guide</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 27, 2018 19:19 UTC (Tue)
                               by <b>nilsmeyer</b> (guest, #122604)
                              [<a href="/Articles/773111/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Since the wiki is disconnected from the code, it may be better to add this Documentation to the source tree. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/773111/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor773193"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Toward a kernel maintainer's guide</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 28, 2018 21:41 UTC (Wed)
                               by <b>ncm</b> (guest, #165)
                              [<a href="/Articles/773193/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The problem with most coding conventions is that many entries legislate superstitions, often long-debunked ones.<br>
<p>
The most pervasive and harmful of these is that programmers get confused by seeing more than one style. Appeals to this myth block improvements. In fact it is always easy to tell which of two styles in a file is the new one, and which is legacy. The useful unit of consistency is the equivalent of a paragraph -- a function, or a block in a bigger function.<br>
<p>
The second is that any rule is as good as any another -- that all that matters is consistency. Not having objective evidence for one or other is not the same as that no such evidence is possible. Usually it would be way more work to collect than the difference is worth to one project, but there are plenty of projects conducting the experiment. So, sometimes any rule is better than no rule, but then comes time to step to a better rule. Take it, because it will make a difference.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/773193/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor773319"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Toward a kernel maintainer's guide</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 29, 2018 16:44 UTC (Thu)
                               by <b>bored</b> (subscriber, #125572)
                              [<a href="/Articles/773319/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
If the goal is to remove the no trespassing signs, and reduce the amount of bikesheding, then the solution is an authoritative automated style test and appropriate shaming of people complaining about style violations not enforced by said test.<br>
<p>
Humans are error prone, and don't generally enforce rules consistently ("do as I say, not as I do"), no amount of subsystem specific style guides/etc is going to change that unless its programmatically enforced.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/773319/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor773331"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Toward a kernel maintainer's guide</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 29, 2018 17:53 UTC (Thu)
                               by <b>karkhaz</b> (subscriber, #99844)
                              [<a href="/Articles/773331/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yes, I felt like I was missing something during this whole discussion. The example that keeps coming up is reverse Christmas tree, but that's surely something that can be added to checkpatch.pl or a similar per-subsystem script. Why do maintainers ever need to think about this stuff? Same thing for the suggestion of a maintainer SLA, which will immediately go out-of-date as soon as it's written down---why not an automatic tool that displays maintainers' mean email response time over the past few months, the variance, as well as any recent break in responses that might indicate that they're currently on holiday or otherwise indisposed?<br>
<p>
There are probably a few tiny cases where an automated tool wouldn't suffice or should be overridden, but I don't see why a lot of this work can't be replaced with a very small shell script.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/773331/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor773677"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Local customs as signalling mechanism</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 3, 2018 19:20 UTC (Mon)
                               by <b>ecree</b> (guest, #95790)
                              [<a href="/Articles/773677/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I have long suspected that the reverse xmas tree rule is a "no brown M&amp;Ms clause"⁽¹⁾.  I.e. it's there to give maintainers an easy way to tell whether a submitter has taken the effort to learn and follow the subsystem's rules and practices.  One could also look at this as a kind of shibboleth.<br>
If this theory is correct, then making these "local customs" more publicly visible could undermine their purpose, and drive maintainers to impose ever more obscure requirements in an arms race against the people documenting them.<br>
<p>
[1] <a href="https://en.wikipedia.org/wiki/Van_Halen#Contract_riders">https://en.wikipedia.org/wiki/Van_Halen#Contract_riders</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/773677/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor775009"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Local customs as signalling mechanism</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 16, 2018 0:05 UTC (Sun)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/775009/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; If this theory is correct, then making these "local customs" more publicly visible could undermine their purpose, </font><br>
<p>
I doubt Dan or anyone else will ever surface a "reverse Christmas tree rule" at the very *top* of any new documentation, it'll be buried somewhere in the middle as it should. So gathering and structuring this sort of documentation will only make it look *more* like a [Van Halen] contract that is finally possible to read entirely and will make complying with some "brown M&amp;Ms clause" easier if any.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/775009/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor775011"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Local customs as signalling mechanism</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 16, 2018 0:47 UTC (Sun)
                               by <b>excors</b> (subscriber, #95769)
                              [<a href="/Articles/775011/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Surely the position of the rule in the document should depend entirely on the length of the rule, rather than attempting any sort of logical ordering based on the meanings of the rules.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/775011/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor775013"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Local customs as signalling mechanism</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 16, 2018 1:12 UTC (Sun)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/775013/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I normally refrain from posting this type of comments on LWN but sorry can't resist this time: ROFL.<br>
<p>
Lame excuse: the previous comment "forgot" a smiley.<br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/775013/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor775051"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Local customs as signalling mechanism</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 17, 2018 11:02 UTC (Mon)
                               by <b>sdalley</b> (subscriber, #18550)
                              [<a href="/Articles/775051/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Well, yes indeed. Absence of the smiley amplified the LOL by enhancing the image of the rule being uttered with the utmost seriousness by some po-faced pompous twit.<br>
[pauses to collect myself]<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/775051/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2018, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
