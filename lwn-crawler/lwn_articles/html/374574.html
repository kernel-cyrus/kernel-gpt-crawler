        <!DOCTYPE html>
        <html lang="en">
        <head><title>How old is our kernel? [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/374574/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/373989/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/374574/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>How old is our kernel?</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Did you know...?</b>
<p>
LWN.net is a subscriber-supported publication; we rely on subscribers
       to keep the entire operation going.  Please help out by <a
       href="/Promo/nst-nag4/subscribe">buying a subscription</a> and keeping LWN on the
       net.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>February 17, 2010</br>
           </div>
April 2005 was a bit of a tense time in the kernel development community.
The BitKeeper tool which had done so much to improve the development
process had suddenly become unavailable, and it wasn't clear what would
replace it.  Then Linus appeared with a new system called git; the current
epoch of kernel development can arguably be dated from then.  The opening
event of that epoch was commit 1da177e4, the changelog of which reads:
<p>
<div class="BigQuote">
	Initial git repository build. I'm not bothering with the full
    	history, even though we have it. We can create a separate
    	"historical" git archive of that later if we want to, and in the
    	meantime it's about 3.2GB when imported into git - space that would
    	just make the early git days unnecessarily complicated, when we
    	don't have a lot of good infrastructure for it.
<p>    
	Let it rip!
</div>
<p>
The community did, indeed, let it rip; some 180,000 changesets have been
added to the repository since then.  Typically hundreds of thousands of
lines of code are changed with each three-month development cycle.  A while
back, your editor began to wonder how much of the kernel had actually been
changed, and how much of our 2.6.33-to-be kernel dates back to 2.6.12-rc2,
which was tagged at the opening of the git era?  Was there anything left of
the kernel we were building in early 2005?
<p>
Answering this question is a simple matter of bashing out some ugly scripts
and dedicating many hours of processing time.  In essence, the
"<tt>git&nbsp;blame</tt>" command can be used to generate an annotated
version of a file which lists the last commit to change each line of code.
Those commit IDs can be summed, then associated with major version
releases.  At the end of the process, one has a simple table showing the
percentage of the current kernel code base which was created for each major
release since 2.6.12.  Here's what it looks like:
<p>
<blockquote>
<img src="https://static.lwn.net/images/ns/kernel/age/age.full-kernel.png" width=540 height=302
alt="[Pretty bar chart]" border=0>
</blockquote>
<p>
In summary: just over <strike>41%</strike> 31% of the kernel tree dates
back to 2.6.12, and has not been 
modified since then.  Our kernel may be changing quickly, but parts of it
have not changed at all for nearly five years.  Since then, we see a steady
stream of changes, with more recent kernels being more strongly represented
than the older ones.  That curve will partly be a result of the general
increase in the rate of change over time; 2.6.13 had fewer than 4,000
commits, while 2.6.33 will have almost 11,000.  Still, one has to wonder
what happened with 2.6.20 (5,000 commits) to cause that
release to represent less than 2% of the total code base.
<p>
Much of the really old material is interspersed with newer lines in many
files; comments and copyright notices, in particular, can go unchanged for
a very long time.  The 2.6.12 top-level makefile set <tt>VERSION=2</tt> and
<tt>PATCHLEVEL=6</tt>, and those lines have not changed since; the next
line (<tt>SUBLEVEL=33</tt>) was changed in December.  
<p>

There are interesting conclusions to be found at the upper end of the graph
as well.  Using this yardstick, 2.6.33 is the smallest development cycle we
have seen in the last year, even though this cycle will have replaced some
code added during the previous cycles.  4.2% of the code in 2.6.33 was
last touched in the 2.6.33 cycle, while each of the previous four kernels
(2.6.29 through 2.6.32) still represents more than 5.5% of the code to be
shipped in 2.6.33. 
<p>
Another interesting exercise is to look for entire files which have not
been touched in five years.  Given the amount of general churn and API
change which has happened over that time, files which have not changed at
all have a good chance of being entirely unused.  Here is <a
href="/Articles/374663/">a full 
list of files which are untouched since 2.6.12</a> - all 1062 of them.
Some conclusions:
<p>
<ul>

<li> Every kernel tarball carries around drivers/char/ChangeLog, which is
     mostly dedicated to documenting the mid-90's TTY exploits of Ted
     Ts'o.  There is only one change since 1998, and that was in 2001.
     Files like this may be interesting from a historical point of view,
     but they have little relevance to current kernels.
<p>
<li> Unsurprisingly, the documentation directory contains a great deal of
     material which has not been updated in a long time.  Much of it need
     not change; the means by which one configures an ISA Sound Blaster
     card is pretty much as it always was - assuming one can find such a
     card and an ISA bus to plug it into.  Similarly, Klingon language
     support (Documentation/unicode.txt), Netwinder support, and such have
     not seen much development activity recently, so the documentation can
     be deemed to be current, if not particularly useful.  All told,
     41% of the documentation directory dates back to 2.6.12.  There was a
     big surge of 
     documentation work in 2.6.32; without that, a larger percentage of
     this subtree would look quite old.
<p>
<li> Some old interfaces haven't changed in a long time, resulting in a lot
     of static files in <tt>include/</tt>.
     <tt>&lt;linux/sort.h&gt;</tt> declares <tt>sort()</tt>, which is used
     in a number of places.  <tt>&lt;include/fcdevice.h&gt;</tt> declares
     <tt>alloc_fcdev()</tt>, and includes a warning that "<q>This file
     will get merged with others RSN.</q>"  Much of the sunrpc interface
     has remained static for a long time as well.
<p>
<li> Ancient code abounds in the driver tree, though, perhaps
     unsurprisingly, old header files are much more common than old C
     files.  The ISDN driver tree has been quite static.
<p>
<li> Much of <tt>sound/oss</tt> has not been touched for a long time 
     and must be nicely filled with cobwebs by now; there hasn't been much
     of a reason to touch the OSS code for some time.
<p>
<li> <tt>net/decnet/TODO</tt> contains a "<q>quick list of things that need
     finishing off</q>"; it, too, hasn't been changed in the git era.  One
     wonders how the DECnet hackers are doing on that list...

</ul>
<p>

So which subsystem is the oldest?  This plot looks at the kernel subsystems
(as defined by top-level directories) and gives the percentage of 2.6.12
code in each:
<p>
<blockquote>
<img src="https://static.lwn.net/images/ns/kernel/age/age-subsystems-fixed.png" width=468 height=304
alt="[Oldest subsystems]" border=0>
</blockquote>
<p>
The youngest subsystem, unsurprisingly, is <tt>tools/</tt>, which did not
exist prior to 2.6.29.  Among subsystems which <i>did</i> exist in 2.6.12,
the core kernel, with about 13% code dating from that release, is the newest.
At the other end, the sound subsystem is more than
45% 2.6.12 code - the highest in the kernel.  For those who are curious about
the age distribution in specific subsystems, <a
href="/Articles/374622/">this page</a> contains a chart for each.
 
<p>
In summary: even in a code base which is evolving as rapidly as the kernel,
there is a lot of code which has not been touched - even by coding style or
white space fixes - in the last five years.  Code stays around for a long
time.
<p>
(For those who would like to play with this kind of data, the scripts used
have been folded into the gitdm repository at git://git.lwn.net/gitdm.git).
<p>
<b>Note</b>: this article has been edited to fix an error which overstated
the amount of 2.6.12 code remaining in the full kernel.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Git">Git</a></td></tr>
            <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-2.6.33">Releases/2.6.33</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/374574/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor374778"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How old is our kernel?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 16:30 UTC (Wed)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/374778/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I find myself wondering how much blank lines throw this off. Whether they are considered to have changed or not often depends on the internals of 'git blame' and how much surrounding code changed -- and blank lines are common.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374778/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor374885"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Blank lines</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 23:04 UTC (Wed)
                               by <b>xoddam</b> (guest, #2322)
                              [<a href="/Articles/374885/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The measurement is entirely relative -- LOCs ain't LOCs, except in the special case where the code is written in the same language, in the same style, even in the same codebase.<br>
<p>
If it is a valid, apples-to-apples comparison to compare the line count without blank lines (debatable, but I think it is in this case : it's all Linux kernel code after all), I reckon it's equally valid to compare it with them.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374885/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor374962"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Blank lines</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 18, 2010 10:16 UTC (Thu)
                               by <b>hummassa</b> (guest, #307)
                              [<a href="/Articles/374962/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
This seems to me a speculative, rather than a factual, answer.<br>
I'd suggest cleaning all and anyy comments, blank lines and strings from the <br>
measurements, and comparing. Does not seem too difficult to do.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374962/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor375022"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Blank lines</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 18, 2010 14:11 UTC (Thu)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/375022/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I'd call comment and string changes significant. The only reason I singled out blank lines is because they really *cannot* change in a meaningful manner.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/375022/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor375217"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Blank lines</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 19, 2010 10:33 UTC (Fri)
                               by <b>hummassa</b> (guest, #307)
                              [<a href="/Articles/375217/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
From the POV of the development process, yes, you are right.<br>
But if you are measuring the age of the code, I would weed out anything that <br>
ends up generating the same object code. Just my opinion there.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/375217/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor376290"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Blank lines</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 26, 2010 8:51 UTC (Fri)
                               by <b>efexis</b> (guest, #26355)
                              [<a href="/Articles/376290/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Unless the blank lines were proportionally evenly distributed, in which case the effect would simply be cancelled out, but even so... a character changed in a long line of code counts the same as the whole line changing, but it's enough to give a feel for what's going on, as long as it's understood that these types of stats serve to guide towards reality rather than define it.<br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/376290/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor374775"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Documentation</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 16:31 UTC (Wed)
                               by <b>dw</b> (guest, #12017)
                              [<a href="/Articles/374775/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I've been wanting to try and volunteer to help in Documentation/ for almost 10 years. That's slightly depressing in itself. Now that the system interfaces are thoroughly covered by Michael Kerrisk &amp; Co. through the manpages, is there any prevailing opinion on what should happen to the docs directory, should anyone dedicate time to the task?<br>
<p>
David<br>
(once upon a time, a youth who found it therepeutic to sit up all night reformatting "t-philes" :))<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374775/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor374793"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How old is our kernel?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 17:03 UTC (Wed)
                               by <b>joey</b> (guest, #328)
                              [<a href="/Articles/374793/">Link</a>] (18 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It would certainly be interesting to stitch together the git trees of <br>
historical kernel versions and rerun the analysis on that to see where the <br>
code in the big spike on your graph really comes from.<br>
<p>
(<a href="http://kerneltrap.org/node/13996">http://kerneltrap.org/node/13996</a>)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374793/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor374795"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Older trees</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 17:09 UTC (Wed)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/374795/">Link</a>] (17 responses)
      </p>
      
      </div>
      </summary>
      I've thought about doing that; clearly, there would be more work involved, and I was interested in the five-year horizon for now.
<p>
We have good history through the BitKeeper era, which could easily extend the view back a few years.  Prior to that, of course, it's a big mess, though we do have per-release resolution for the most part.
<p>
But, yes, wouldn't it be interesting to know how much of 2.4.x we're still running?
      
          <div class="CommentReplyButton">
            <form action="/Articles/374795/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor374808"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Older trees</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 17:57 UTC (Wed)
                               by <b>eli</b> (guest, #11265)
                              [<a href="/Articles/374808/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I think pulling in additional history could prove very interesting, so when you get a bit of free time.... ;)<br>
<p>
I am picturing a different graph that I think might tell us more about kernel development than the bar graphs above.<br>
<p>
The Y-axis would be the absolute number of lines of code, and the X-axis would be kernel releases.<br>
<p>
Each kernel release would have a line that started at its release number.  You'd have the total number of lines in the kernel marked for 2.6.12.<br>
Then you'd draw a line to the 2.6.13 release to show how many lines of 2.6.12 remained in 2.6.13, and you'd start a new line for 2.6.13 showing the total number of lines in 2.6.13.  Each new release would add a new line on the graph.  It should look a bit like strata layers or something.<br>
<p>
Over time, you should see some patterns in how the releases get replaced over time.  If one release was particularly badly done, we'd see it start out with a large number of lines of code at its release, and see it rapidly squeezed to a small number of lines of code by later releases.<br>
<p>
I wonder if there is such a thing as a "code half-life"...<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374808/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor375301"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Older trees</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 19, 2010 22:32 UTC (Fri)
                               by <b>aegl</b> (subscriber, #37581)
                              [<a href="/Articles/375301/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The current git history looks too short to tell whether the speed of code <br>
removal follows a "half-life" curve. We still have 58.6% of the git origin <br>
(2.6.12-rc2) code present in the current kernel (it only makes up 30.5% of <br>
the current code because the kernel is almost twice as large now).<br>
<p>
Here's a graph showing growth of the kernel, and decline of the original <br>
code:<br>
<p>
<a href="http://www.kernel.org/pub/linux/kernel/people/aegl/codedecay.png">http://www.kernel.org/pub/linux/kernel/people/aegl/codede...</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/375301/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor375550"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Older trees</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 22, 2010 17:04 UTC (Mon)
                               by <b>aegl</b> (subscriber, #37581)
                              [<a href="/Articles/375550/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Here's the "strata" picture you asked for:<br>
<p>
<a href="http://www.kernel.org/pub/linux/kernel/people/aegl/codestrata.jpg">http://www.kernel.org/pub/linux/kernel/people/aegl/codest...</a><br>
<p>
The lowest line is the 2.6.12-rc2 git origin. Count up from there<br>
to 2.6.32 at the top.  Scripts were run with current tip of "linus"<br>
tree at v2.6.33-rc8-113-gf8b55f2 so it doesn't take into account the<br>
320 lines of code added and 149 deleted over the weekend.<br>
<p>
Visually there does seem to be an inflection point around 2.6.27<br>
where we slowed down at deleting old code (perhaps because there<br>
was so much new code to be deleted instead?)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/375550/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor375560"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Older trees</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 22, 2010 17:40 UTC (Mon)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/375560/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Oh, that's a lovely graph.<br>
<p>
I wonder if the inflection point can be attributed to the staging tree? <br>
(That's certainly a lot of new crap^Wcode to be deleted...)<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/375560/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor376256"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Older trees</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 26, 2010 0:26 UTC (Fri)
                               by <b>robert_s</b> (subscriber, #42402)
                              [<a href="/Articles/376256/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
With this graph, sir, you have read my mind.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/376256/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor376316"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Older trees</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 26, 2010 14:44 UTC (Fri)
                               by <b>eli</b> (guest, #11265)
                              [<a href="/Articles/376316/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Thank you, sir!<br>
<p>
'Course, now I need to stare at it for an hour looking for all the interesting things it's trying to tell me. ;)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/376316/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor374823"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Older trees</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 18:31 UTC (Wed)
                               by <b>alex</b> (subscriber, #1355)
                              [<a href="/Articles/374823/">Link</a>] (10 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I'm sure I've seen a git tree that goes all the way back to 0.* series. The <br>
best I could Google today though an archive of discussions about it: <br>
<a href="http://kerneltrap.org/node/13996">http://kerneltrap.org/node/13996</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374823/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor374827"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Older trees</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 18:35 UTC (Wed)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/374827/">Link</a>] (9 responses)
      </p>
      
      </div>
      </summary>
      Such things exist, yes.  And, indeed, I've grabbed copies of them over time.  Lots of old stuff in git://git.kernel.org/pub/scm/linux/kernel/git/davej/history.git, for example.  Eventually I'll see what I can do about trawling through it all.
      
          <div class="CommentReplyButton">
            <form action="/Articles/374827/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor374835"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">WoPDaSD 2010</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 18:57 UTC (Wed)
                               by <b>PO8</b> (guest, #41661)
                              [<a href="/Articles/374835/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <p>I'm on the Program Committee for the 5th Workshop on Public Data about Software Development (<a href="http://libresoft.es/activities/wopdasd-2010-5th-workshop-on-public-data-about-software-development">WoPDaSD 2010</a>), and the paper deadline is coming up in March.  I would really love to see you and/or other readers of LWN get this kind of data and analysis together as a workshop paper and submit it there.  We don't get so many submissions from outside academia, and that's a shame&mdash;I'm confident that this work would be quite well-received.</p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/374835/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor374861"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">WoPDaSD 2010</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 20:50 UTC (Wed)
                               by <b>ajross</b> (guest, #4563)
                              [<a href="/Articles/374861/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Were all the pronouncable acronyms already taken?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374861/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor374907"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">WoPDaSD 2010</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 18, 2010 0:02 UTC (Thu)
                               by <b>felixfix</b> (subscriber, #242)
                              [<a href="/Articles/374907/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It's related to INTERCAL ...<br>
<p>
"The full name of the compiler is "Compiler Language With No Pronounceable Acronym", which is, for obvious reasons, abbreviated "INTERCAL"."<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374907/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor374931"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">WoPDaSD 2010</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 18, 2010 7:48 UTC (Thu)
                               by <b>PO8</b> (guest, #41661)
                              [<a href="/Articles/374931/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The acronym is kind of awkward, but the workshop is pretty cool.  It works that way sometimes. :-)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374931/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor374841"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Older trees</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 19:25 UTC (Wed)
                               by <b>marineam</b> (guest, #28387)
                              [<a href="/Articles/374841/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I started a rebase of the current linux-2.6 on top of old-2.6-bkcvs to see if your little findoldfiles finds anything that hasn't changed since 2.4 but this could take a loooooong time, rebase is going at about two patches a second on my machine.<br>
<p>
I'm guessing writing a smarter script would be faster. :-P<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374841/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor374877"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Older trees</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 22:24 UTC (Wed)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/374877/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
there is a historical git archive that can be grafted onto the current 2.6.12 archive.<br>
<p>
once this is done the combined archive can be treated as a single archive and I expect that the scripts used for this report could be used as-is (although it will obviously take longer)<br>
<p>
IIRC, the historical git archive goes all the way back to the 0.0x days (although not without gaps)<br>
<p>
David Lang<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374877/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor374880"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Older trees</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 22:31 UTC (Wed)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/374880/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      That's davej's repository, yes.  I have it.  The tools will require some  tweaks to work well with that data source, but it's all certainly doable.
      
          <div class="CommentReplyButton">
            <form action="/Articles/374880/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor374881"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Older trees</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 22:38 UTC (Wed)
                               by <b>viro</b> (subscriber, #7872)
                              [<a href="/Articles/374881/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
FWIW, I've got a slightly more complete tree (several versions missed by davej added to his) plus the CVS-exported 2.4 BK tree; need to convert the latter to git, then we'll get full tree with all branches (right now there's stuff up to 2.4.0 + 2.4.0--2.6.12 + 2.4.31--2.4.current + 2.6.12--2.6-current, with gap between 2.4.15 and 2.4.31).<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374881/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor375727"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Older trees</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 23, 2010 0:34 UTC (Tue)
                               by <b>Aissen</b> (subscriber, #59976)
                              [<a href="/Articles/375727/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Is your tree online? How does this compare to  <a href="http://lwn.net/Articles/285366/">http://lwn.net/Articles/285366/</a> ? <br>
I contacted the original author about 3 months ago and built a tree using his ocaml program. It seems to gather data from dave, tglx and linus' tree. <br>
<p>
If anyone is interested, I can forward the ~210k archive of the program building the tree.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/375727/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor374798"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How old is our kernel?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 17:26 UTC (Wed)
                               by <b>jzbiciak</b> (guest, #5246)
                              [<a href="/Articles/374798/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Wow!  I must admit I was rather surprised by the per-subsection numbers.  Intuitively, I would have expected more churn in the drivers section (ie. as new drivers get added, old ones removed (ok, that's pretty rare) and wide-spread API refreshes) than in, say, the core kernel.<br>
<p>
Quite the opposite is true, though.  The core kernel has the lowest percentage, weighing in at 13%!  The drivers directory, on the other hand, is way out at about 30%.<br>
<p>
The math doesn't work for me, though.  How can the whole kernel be at 41% if only one of the subsystems (sound) is noticeably above 41%, Documentation is tied at 41%, and the rest are below?  Even fs, net and include (which are near 40%, but below it) should bring the average down.  And isn't drivers (which weighs in at ~30%) pretty much where the vast majority of code lives?<br>
<p>
Is there some other half-million line dreadnaught hiding that's not captured in the subsystem graph, anchoring the average at 41%?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374798/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor374847"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How old is our kernel?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 19:58 UTC (Wed)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/374847/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Hmm...something may have confused the full-kernel numbers.  I'm checking (again) now.  I'm quite convinced about the individual subsystem numbers, though.  Stay tuned.
      
          <div class="CommentReplyButton">
            <form action="/Articles/374847/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor374848"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Yep, I blew it</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 20:18 UTC (Wed)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/374848/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      The 41% number was wrong; the article has been edited with the correct data.
<p>
For the curious: the bug was a combination of the tool descending into the .git directory (which has no history of its own) and it attributing unknown lines to the oldest release.  That essentially inflated the number of "old" lines in the full kernel by about 2 million - enough to make a big difference.
<p>
Please accept my apologies for the screwup.  I'd taught the program to avoid .git a while back, but I thought it was an efficiency improvement only; I didn't realize it had messed up the full-kernel numbers.  Embarrassing.
      
          <div class="CommentReplyButton">
            <form action="/Articles/374848/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor374864"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Yep, I blew it</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 21:30 UTC (Wed)
                               by <b>jcm</b> (subscriber, #18262)
                              [<a href="/Articles/374864/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Nah, you obviously didn't blow anything - awesomely informative stats, thanks Jon :)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374864/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor374874"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">No worries!</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 22:10 UTC (Wed)
                               by <b>jzbiciak</b> (guest, #5246)
                              [<a href="/Articles/374874/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
No worries!  The new number makes much more sense.  Since I've seen elsewhere that drivers seem to make up a pretty big portion of the tree, it makes sense that the center of gravity for change-rate would land near there too.<br>
<p>
I guess I wasn't too far off (in orders of magnitude) on the number of unaccounted-for lines in the data, although I did undercall it by a factor of 4.  <br>
<p>
Man, the kernel's gotten huge!   I actually tried to download the latest kernel and untar it in a 300MB partition, and it b0rked out, filling the disk only part-way into the "drivers/" directory.  Next time I'll do it on a machine with a more generous disk space allotment.  :-)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374874/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor374811"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How old is our kernel?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 17:48 UTC (Wed)
                               by <b>gouyou</b> (guest, #30290)
                              [<a href="/Articles/374811/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
What would also be interesting is how long code survives.<br>
<p>
I'm expecting that there is a much better chance to have some changes made on new code from the last release than on code introduced 5 releases ago.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374811/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor374834"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How old is our kernel?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 18:51 UTC (Wed)
                               by <b>creemj</b> (subscriber, #56061)
                              [<a href="/Articles/374834/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yes, like what is the half-life of code life expectancy in the kernel?  And has that figure changed much over the life of the kernel?  I suspect this analysis would require going back much more than five years of kernel history currently analysed.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374834/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor374829"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Don't knock old ISA cards!</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 18:39 UTC (Wed)
                               by <b>cruff</b> (subscriber, #7201)
                              [<a href="/Articles/374829/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <blockquote>Much of it need not change; the means by which one configures an ISA Sound Blaster card is pretty much as it always was - assuming one can find such a card and an ISA bus to plug it into.</blockquote>
<p>Funny you mentioned ISA SoundBlaster cards.  I just powered up my 16 year old Alpha AXPpci33 based system to see if a newer releases of a Linux distribution would still run on it.  It contains an SoundBlaster 64 ISA card.  This system is a real monster! :-)  166 MHz CPU, 96 MBytes memory.  It feels pathetically slow these days.</p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/374829/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor374845"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How old is our kernel?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 17, 2010 19:53 UTC (Wed)
                               by <b>Hanno</b> (guest, #41730)
                              [<a href="/Articles/374845/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Thanks, this is fascinating.<br>
<p>
Will these results lead to removal of old cruft?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374845/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor374914"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How old is our kernel?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 18, 2010 2:23 UTC (Thu)
                               by <b>neilbrown</b> (subscriber, #359)
                              [<a href="/Articles/374914/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Now that these numbers have been published, we risk the XKCD effect - developers will check which of "their" files appear to still be "old" and find an excuse to change them, just to make "their" subsystem seem more current, cool, hip, and up-to-date.<br>
Further proof that you cannot observe a system without changing it....<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374914/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor374934"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How old is our kernel?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 18, 2010 7:57 UTC (Thu)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/374934/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yeah! An excuse to refactor floppy.c!<br>
<p>
(there are some things not even kudos can do)<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374934/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor375226"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How old is our kernel?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 19, 2010 12:11 UTC (Fri)
                               by <b>hmh</b> (subscriber, #3838)
                              [<a href="/Articles/375226/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<a href="http://lkml.org/lkml/2010/1/21/426">http://lkml.org/lkml/2010/1/21/426</a><br>
<p>
 drivers/block/floppy.c<br>
 1 files changed, 618 insertions(+), 601 deletions(-)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/375226/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor374939"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How old is our kernel?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 18, 2010 8:40 UTC (Thu)
                               by <b>awils1</b> (guest, #48857)
                              [<a href="/Articles/374939/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
David, I'd definitely be interested!<br>
<p>
(Heh, and here I was thinking I was the only crazy-reformatter -- it may have not been t-philes, but I'm guilty of reformatting some of the GNU documentation.)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374939/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor374983"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How old is our kernel?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 18, 2010 11:22 UTC (Thu)
                               by <b>error27</b> (subscriber, #8346)
                              [<a href="/Articles/374983/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It would be interesting to see how much of the original SCO kernel is still included.<br>
<p>
He he.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/374983/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor375050"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How old is our kernel?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 18, 2010 15:28 UTC (Thu)
                               by <b>mezcalero</b> (subscriber, #45103)
                              [<a href="/Articles/375050/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Listing sound/ here is not entirely fair. The fact that sound/ is in the kernel top directory makes it show up in the stats here, although drivers/sound/ would be a much more appropriate place for it.<br>
<p>
It would be really interesting to see the directories beneath drivers/ showing up in these stats at the same level as sound/.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/375050/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor375170"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How old is our kernel?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 19, 2010 0:34 UTC (Fri)
                               by <b>jengelh</b> (subscriber, #33263)
                              [<a href="/Articles/375170/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Interestingly, the full history currently takes one CD (my repo is 652M), much less than Linus's projected 3.2GB (perhaps that was a worse deltification back then?).<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/375170/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor375175"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Size</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 19, 2010 0:49 UTC (Fri)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/375175/">Link</a>] 
      </p>
      
      </div>
      </summary>
      The early git repositories - one file per object - were truly huge.  There was a lot of griping at the time.  Obviously, things have gotten a lot better since.
      
          <div class="CommentReplyButton">
            <form action="/Articles/375175/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor376236"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How old is our kernel?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 25, 2010 22:15 UTC (Thu)
                               by <b>ariveira</b> (guest, #57833)
                              [<a href="/Articles/376236/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
There was no deltification at all iirc<br>
<p>
Argument from Linus back in git early days was that disk space<br>
is cheap.<br>
<p>
 Others come up with the whole xdelta pack thing later.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/376236/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor376671"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Loose objects, packfile, deltification and the cost of disk space</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 2, 2010 1:10 UTC (Tue)
                               by <b>jnareb</b> (subscriber, #46500)
                              [<a href="/Articles/376671/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <blockquote><i>
There was no deltification at all iirc

Argument from Linus back in git early days was that disk space is cheap.

Others come up with the whole xdelta pack thing later.
</i></blockquote>

Actually packfiles and deltification (LibXDiff, not xdelta) was, from what I remember and understand, originally because of <b>network bandwidth</b> (which is much more costly than disk space), and <b>I/O performance</b> of using single mmapped file instead of very large number of loose objects.
      
          <div class="CommentReplyButton">
            <form action="/Articles/376671/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor375193"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How old is our kernel?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 19, 2010 5:03 UTC (Fri)
                               by <b>aegl</b> (subscriber, #37581)
                              [<a href="/Articles/375193/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
There have only been about 169000 non-merge commits since git time began (the 180,000 figure quoted in the article includes all the merges).<br>
<p>
All of the code in the current tree is attributed to just 131,681 commits by "git blame". So, not counting the merges, it would appear that about 23% of all commits are ultimately completely superceeded (or just plain reverted).<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/375193/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor376054"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Changing Licence </h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 25, 2010 0:54 UTC (Thu)
                               by <b>Felix_the_Mac</b> (guest, #32242)
                              [<a href="/Articles/376054/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Back when GPL3 was being worked on, and it was a (slightly) open question whether the kernel would adopt it, it seemed to me that this type of historical analysis of code history was exactly what was required.<br>
<p>
With the ownership of each line of code traced to its author, and an agreed definition of what constitutes original work (rather than just a minor change to somebody else's work) it would be possible to determine who held rights in each file.<br>
<p>
If, for example, the GPL2 became unenforceable in China or India, and it was decided that a license change to GPL2++ was required, then permission could be sought from identified license holders and the code belonging to those who were unavailable or unwilling to give assent could be rewritten.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/376054/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor376207"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Any chance of increasing the resolution?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 25, 2010 19:46 UTC (Thu)
                               by <b>KGranade</b> (guest, #56052)
                              [<a href="/Articles/376207/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
How difficult would it be to increase the resolution to -rc releases?  I think it would be very interesting to see what kind of pattern there is for them, if any.  I would assume that late rcs, while smaller would have better longevity percentage-wise than early rcs.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/376207/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor376291"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How were the moved/renamed files accounted for ?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 26, 2010 8:46 UTC (Fri)
                               by <b>phdm</b> (guest, #56884)
                              [<a href="/Articles/376291/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Just a question : did you count moved or renamed files as changed or unchanged lines ?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/376291/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor376307"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How were the moved/renamed files accounted for ?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 26, 2010 14:28 UTC (Fri)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/376307/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      Git tracks renames nicely and retains the history for the moved files.  So no, a rename does not, alone, cause any lines in the file to be considered to be changed.
      
          <div class="CommentReplyButton">
            <form action="/Articles/376307/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor376322"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How were the moved/renamed files accounted for ?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 26, 2010 16:33 UTC (Fri)
                               by <b>phdm</b> (guest, #56884)
                              [<a href="/Articles/376322/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I didn't know that 'git blame' did such a good job.  Does 'git log' also do such a nice job now (following moves and renames) ?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/376322/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor376341"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How were the moved/renamed files accounted for ?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 26, 2010 18:31 UTC (Fri)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/376341/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I believe that there is a -M flag that tells these tools to follows moves and renames (and IIRC you can give it an argument to tell it how hard to look for moves and renames)<br>
<p>
this can also track when parts of a file are copied to another file.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/376341/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor376532"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How were the moved/renamed files accounted for ?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 1, 2010 3:42 UTC (Mon)
                               by <b>phdm</b> (guest, #56884)
                              [<a href="/Articles/376532/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
In my experience, 'git log -M' did never give the full log of a single file.<br>
I have now discovered that 'git log --follow' does.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/376532/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor376673"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How were the moved/renamed files accounted for ?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 2, 2010 1:13 UTC (Tue)
                               by <b>jnareb</b> (subscriber, #46500)
                              [<a href="/Articles/376673/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <blockquote><i>In my experience, 'git log -M' did never give the full log of a single file.
I have now discovered that 'git log --follow' does.</i></blockquote>

Actually the problem is that in "git log -M <i>filename</i>" the <i>filename</i> part is path limiter, and is applied (for history simplification) before rename detection, and that is why you need "git log --follow <i>filename</i>".  "git log -M" (no pathspec), or "git log -M <i>directory</i>" should work as expected.
      
          <div class="CommentReplyButton">
            <form action="/Articles/376673/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor376730"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">How were the moved/renamed files accounted for ?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 2, 2010 12:47 UTC (Tue)
                               by <b>nye</b> (subscriber, #51576)
                              [<a href="/Articles/376730/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
So -M (detect renames) seems from a user's point of view to act differently depending on whether you're trying to log a file or the whole project.<br>
<p>
This seems like a good, specific example of one of those usability issues people are always handwaving about.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/376730/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2010, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
