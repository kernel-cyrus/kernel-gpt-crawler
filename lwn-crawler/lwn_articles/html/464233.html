        <!DOCTYPE html>
        <html lang="en">
        <head><title>KS2011: Kernel.org report [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/464233/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/464233/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>KS2011: Kernel.org report</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>This article brought to you by LWN subscribers</b>
<p>
Subscribers to LWN.net made this article &mdash; and everything that
       surrounds it &mdash; possible.  If you appreciate our content, please
       <a href="/Promo/nst-nag3/subscribe">buy a subscription</a> and make the next
       set of articles possible.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>October 24, 2011</br>
           <hr>
<a href="/Articles/KernelSummit2011/">2011 Kernel Summit</a> coverage
</div>
One of the biggest events overshadowing the 2011 kernel summit was the
compromise of kernel.org and its slow recovery, so it was fitting that
kernel.org was the first topic to be discussed.  A bit more information on
what happened was on offer and future directions were considered.  The
future version of kernel.org will be rather more secure than its
predecessors.
<p>
H. Peter Anvin started with a history of kernel.org, which was initially
set up when Linus moved to California and started working for Transmeta.
It was split off as a standalone nonprofit organization in 2002.  Running
kernel.org had never been anybody's full-time job; it was an all-volunteer
effort until 2008, when the Linux Foundation hired John Hawley as its first
full-time administrator.
<p>
When it was set up, kernel.org was envisioned entirely as a distribution
point, not as a place where development got done.  The transition to git
changed things, but nobody appreciated the implications at the time.  There
was also a lot of time put into a growing list of web-driven services.  The
kernel.org folks had to maintain their own version of gitweb, which would
not have functioned in that environment without the caching layer they
added.  Kernel.org also ended up supporting a bugzilla installation,
patchwork, various wikis, the kerneloops.org site, and more.  Running
kernel.org had turned into a big, complex job.
<p>
On the morning of August 28, 2011, Peter discovered that his personal
server had been compromised.  As he dug into the situation, it became clear
that kernel.org had been hit as well.  The attack turns out to have been
part of a widespread 
credential-stealing network that has been operating for some years now; it
is clear that the site had been owned by this network for some time before
it was discovered.  What also seems to be clear is that this was not a
targeted attack; kernel.org was just another on a long list of broken
machines.  
<p>The attackers operated quietly; the site was not used for
activities like spamming.

What the attackers <i>did</i> do was to snoop operations on ttys and record
usernames and passwords.  They installed trojan ssh and sshd binaries and,
seemingly, were able to exploit ssh agent forwarding to move on to new
machines.  What they did not do was to mess with the data on kernel.org;
after an extensive investigation, no data tampering has been found.  Even
so, kernel.org is coming back without all the old data; developers are
asked to carefully review anything they care about before re-uploading it.  
<p>
Kernel.org is being rebuilt from the beginning with a much greater
separation of services; it will also be moving fully into the
Linux Foundation.  Peter noted that, over the years, the Linux Foundation
has built a lot of credibility; there is a lot of faith in how they serve
the development community.  The Linux Foundation is also a lot better at
raising funds to support operations like kernel.org.  There will be
additional staff to do the job properly, and no more volunteer
administrators.  Only full-time administrators will have root access to the
systems involved; Peter, who is keeping his current day job, will not have
that access.
<p>
Peter also talked about the building of the new PGP/GPG web of trust.  It
is, he said, something that we have needed for a long time.  We are past
the time where kernel developers are all able to identify each other.
Locking down kernel.org to the inner core of the development community
would not be a good thing; the site is there for the whole community.  That
means there needs to be a way to deal with mundane issues like lost
credentials without actually knowing the people involved.
<p>
The old kernel.org would automatically sign tarballs and other files after
they were uploaded.  The signature was good for exactly one thing:
verifying that the file involved did, indeed, come from kernel.org.  But
people had been reading more than that into kernel.org signatures, which
were seen as some sort of guarantee that the data could be trusted.
Central signing
will not be happening anymore; developers will need to sign files - with
their own keys - before uploading them.  The new web of trust will allow
those signatures to be verified by others.
<p>
The new git service will be built on gitolite, a mature package that has
been deployed in a number of places and which has been through a number of
security audits.  Access to gitolite will be secured with ssh keys.  For
the uploading of tarballs and such, a new tool called "kup" has been
developed.  The use of both SSH and GPG keys will be required; the
uncompressed file will be signed, then the tool will manage the creation of
the various compressed formats.  The old automatic compression on
kernel.org used a daemon running as root, something that just doesn't seem
like a good idea on the new kernel.org.
<p>
For email, only forwarding will be supported.  Most mailing lists that were
hosted there will move to vger.kernel.org; only a few, like
<tt>security@kernel.org</tt>, will remain.  Somebody asked if vger would
remain separate or be pulled into the new site.  The answer to that was
clear: vger is maintained by Red Hat's IT group, they know how to deal with
high-bandwidth mailing lists, it all works, and the kernel.org folks are
more than happy to let them keep it.  If nothing else, the thought of what
would have happened had all the mailing lists gone down with the rest of
kernel.org was enough to put an end to that discussion.
<p>
Other things like web services, will be restored eventually, but the
process of hiring an additional administrator needs to run its course first.
<p>
Greg Kroah-Hartman talked briefly about what kernel.org users should be
concerned about.  In summary, any credential that touched kernel.org -
passwords typed on that system, or keys stored there - should be considered
to be compromised.  He has a list of what may have been exposed for each
user; he will be contacting those users with that information in the near
future.
<p>
<a href="/Articles/464310/"><img
src="https://static.lwn.net/images/conf/2011/lc-europe/JohnHawley-sm.jpg" width=125 height=173
alt="[John Hawley]" border=0 align="right" hspace=2 vspace=2></a>

John Hawley, the current full-time administrator, talked about the design
of the new site.  The old kernel.org had a single system, called "hera,"
that was at the center of everything.  The new version will be much more
distributed, with hera's functions split out to a number of separate boxes
(some of which will be virtual machines).  The site is currently being
built on machines that had originally been delivered to the Linux
Foundation for other purposes; he noted that the firewall box has 24 CPUs
and 32GB of memory, which ought to be enough for the task.  Currently only
John has access to the new systems; until somebody else is hired, the
community needs to cross its fingers against the possibility of bus-related
accidents.
<p>
John asked what else the community needs from the new site.  The ability to
run hooks attached to git repositories was at the top of the list; a lot of
people miss the mailing lists that carry notifications of new commits.  The
lists may 
come back; the more general hook capability may not.  There was also talk
of a new server for shell accounts, though it's not clear what that would
be needed for.  Shell accounts will never be returning to the systems that
matter; if a box were set up for that purpose it would likely be, as Ted
Ts'o put it, a "honeypot server."
<p>
Ted also talked about a security working group being created within the
Linux Foundation.  That group will look at the security of the kernel code
and the processes that create it in the hope of coordinating
security-related efforts and tightening things up.
<p>
With regard to processes, Dave Airlie asked if a kernel.org account would
be required to push patches into the mainline.  Or will GPG-signed emails
be required?  Linus answered that he'll not require signatures; the tools
for checking them are still too painful to use.  He would like automatic
checking of signatures on git pulls; that feature may show up at some point
in the future, and he may use it.  Linus will also accept pull requests
from hosts other than kernel.org, but with some constraints.  He does not
like public hosting services like github; it served well as an emergency
fallback, but he ended up checking every single patch he pulled from there,
a process which isn't going to happen during the merge window.  So, he
said, do not send github-based pull requests.  Requests from other hosts
known to be trusted - freedesktop.org was named - are OK.  But they have to
use the git protocol - no HTTP-based pulls will be considered.
<p>
In response to a question about the upcoming merge window, Stephen Rothwell
noted that he is currently sitting on the second-largest linux-next
repository ever seen.  There are over 11,000 commits waiting to flood into
the mainline once Linus starts pulling.  And that is with a lot of old
trees that may not have found their way back to kernel.org before Stephen
went on vacation in mid-October.
<p>
In summary, it has been a difficult time for kernel.org, and the people
involved are looking very tired.  But we have been lucky in a sense: it was
not a targeted attack that could have done us some real damage.  But it
<i>was</i> a wakeup call that has led to a much-needed redesign of the
system and its support.  Kernel.org in the future should be a much stronger
and better-supported resource for the community.

<p>
Next: <a href="/Articles/464268/">Tracing for large data centers</a><br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Development_tools-Infrastructure">Development tools/Infrastructure</a></td></tr>
            <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Security">Security</a></td></tr>
            <tr><td><a href="/Security/Index/">Security</a></td><td><a href="/Security/Index/#Free_software_infrastructure">Free software infrastructure</a></td></tr>
            <tr><td><a href="/Security/Index/">Security</a></td><td><a href="/Security/Index/#Kernel.org">Kernel.org</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/464233/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor464376"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2011: Kernel.org report</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2011 9:30 UTC (Tue)
                               by <b>Trou.fr</b> (subscriber, #26289)
                              [<a href="/Articles/464376/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
As sad as it may be, the Linux kernel is no different from other organisations : "everything's ok, no need to worry about security" until they get owned to the core.<br>
<p>
At least now security people will *maybe* be listened to a bit more carefully, at least I hope so.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/464376/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor464381"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2011: Kernel.org report</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2011 10:01 UTC (Tue)
                               by <b>dgm</b> (subscriber, #49227)
                              [<a href="/Articles/464381/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
God try. But you're wrong.<br>
<p>
Kernel developers care a great deal about security, only not of the circus variety. CVE numbers and stuff do not make systems more secure, less bugs do.<br>
<p>
And for what I can tell, people that say reasonable things do get listened to. Those just whoring for attention do tend to get ignored, though. <br>
<p>
That language about "security people" is part of the problem. You're a contributor, or you're not. If you're soo cool that you need to distinguish yourself from the rest of the pack, maybe you should consider a career as a designer instead. The LKML will not give you the kind of reward you expect.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/464381/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor464883"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2011: Kernel.org report</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 28, 2011 20:12 UTC (Fri)
                               by <b>giraffedata</b> (guest, #1954)
                              [<a href="/Articles/464883/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <p>
Your implication is that they were wrong to ignore the security vulnerabilities in kernel.org before and right to worry about them now.  The opposite could be true too.  As the risk is not greater now than before this compromise, aren't kernel.org people overreacting?
<p>
This is the same thing that always perplexes me when a person starts wearing a seat belt because a celebrity died by not wearing one.  It's hard to believe the person has significantly more information about the risks of driving beltless after that one death, but there's a lot of psychology involved.

      
          <div class="CommentReplyButton">
            <form action="/Articles/464883/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor464398"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Git hooks</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2011 13:22 UTC (Tue)
                               by <b>jnareb</b> (subscriber, #46500)
                              [<a href="/Articles/464398/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Besides sending announcements to mailing lists and whatnot (IRC channel, maybe?), the important issue IMHO is (partial) continuous build, e.g. building documentation, and e.g. RPMs on push.<br>
<p>
I wonder if it would be possible to have this back, securely...<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/464398/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor464464"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Git hooks</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2011 21:02 UTC (Tue)
                               by <b>gregkh</b> (subscriber, #8)
                              [<a href="/Articles/464464/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
If you want something like this, do it on your own servers, not on the kernel.org servers, sorry.  We will work on mail integration for git hooks, but that is going to be it.<br>
<p>
If you strongly object to this, let me know, through email, and we can discuss it there.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/464464/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor464405"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Public Git hosting</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2011 15:31 UTC (Tue)
                               by <b>bgilbert</b> (subscriber, #4738)
                              [<a href="/Articles/464405/">Link</a>] (10 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
What is the concern regarding sites like github?  If the fear is commit tampering, shouldn't it be sufficient to include the tip SHA-1 in the pull request?<br>
<p>
And the prohibition against HTTP makes no sense to me at all.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/464405/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor464430"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Public Git hosting</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2011 16:31 UTC (Tue)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/464430/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
the issue is that the e-mail requesting the pull can be forged, and since anyone can get a github account, how do you know the pull request is really from the trusted person?<br>
<p>
if someone is requesting a pull from a place that is known to have done user verification this isn't an issue.<br>
<p>
note that this is not saying that you have to have an account on one of these trusted places to participate in kernel development. it's just the final layer (the lieutenants and maintainers sending their pull requests to Linus) that is has this requirement. This is so that Linus can trust the source he is pulling from, at the lower levels the patches are supposed to be validated more directly so there is less need for trust. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/464430/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor464455"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Public Git hosting</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2011 19:38 UTC (Tue)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/464455/">Link</a>] (8 responses)
      </p>
      
      </div>
      </summary>
      As dlang said, it's a matter of authentication; how do you know that the repository really belongs to the person named in the pull request?
<p>
About http, that's purely a performance thing.  The git:// protocol is far more bandwidth-efficient than the git-over-http protocol.
      
          <div class="CommentReplyButton">
            <form action="/Articles/464455/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor464458"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Public Git hosting</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2011 20:13 UTC (Tue)
                               by <b>obrakmann</b> (subscriber, #38108)
                              [<a href="/Articles/464458/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Well, they are setting up this neat GPG web of trust, so why not make use of it? Signing the pull request with said GPG key should be enough to verify the requester's identity, shouldn't it?  Sure, at this time, it wouldn't fly yet, but half a year down the road?  Or am I missing something?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/464458/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor464465"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Public Git hosting</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2011 21:09 UTC (Tue)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/464465/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Linus commented on this by pointing out that the GPG related validation tools are still to cumbersome to use.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/464465/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor464475"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Public Git hosting</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 26, 2011 0:46 UTC (Wed)
                               by <b>neilbrown</b> (subscriber, #359)
                              [<a href="/Articles/464475/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
GPG signing in git is possibly cumbersome, partly because you can only sign a tag, and I don't think we want to be creating tags for every pull request (though it they don't propagate by default that might be OK).<br>
<p>
All you really need to sign is the email requesting the 'pull' and make sure the hash of the commit is in that email and easy for Linus to either use directly or check.<br>
<p>
Unfortunately I cannot ask Linus to<br>
   git pull git://myhost/path  hash-tag-goes-here<br>
<p>
because git doesn't want a hash-tag, it wants a refspec.<br>
<p>
However if git-pull were changed to accept that, and git-request-pull were changed to output exactly the right 'git pull' command, then Linus could just verify the signature on the email (which I hope is email client is up to!) and use the command that is in it.  Then it doesn't matter how secure the hosting provider is - if the pull succeeds, it can be trusted as much as the person who signed the email.<br>
<p>
So yes: a little bit cumbersome, but not much.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/464475/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor464885"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Public Git hosting - pull request in signed email</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 28, 2011 20:19 UTC (Fri)
                               by <b>giraffedata</b> (guest, #1954)
                              [<a href="/Articles/464885/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <blockquote>
All you really need to sign is the email requesting the 'pull' and ...
</blockquote>
<p>
Isn't that (verifying that email signature) the part Linus says is too cumbersome?
<p>
I haven't personally ever known anyone to verify an email signature, and I'm pretty sure my email reader (Emacs Rmail) can't do it, so I don't know what's involved.

      
          <div class="CommentReplyButton">
            <form action="/Articles/464885/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor464896"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Public Git hosting - pull request in signed email</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 28, 2011 21:16 UTC (Fri)
                               by <b>neilbrown</b> (subscriber, #359)
                              [<a href="/Articles/464896/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
If someone can do DNS spoofing, or break in to my server, then Linus can have no guarantee that what he pulled is what I wanted him to pull.  Adding the SHA1 of the commit can give him that guarantee.<br>
<p>
The mail reader I use (clawsmail) verifies email signatures quite nicely, and will even fetch keys for me.  I don't think it warns me when someone changes keys which is something I would like.<br>
<p>
Even emacs/vm can check mail signing...<br>
<p>
I assumed that the bits that were too cumbersome were the signing and verification built in to git-tag.<br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/464896/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor465419"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Public Git hosting</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 3, 2011 1:06 UTC (Thu)
                               by <b>slashdot</b> (guest, #22014)
                              [<a href="/Articles/465419/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
How so?<br>
<p>
As far as I can tell, most mail clients support GPG and will tell you whether an e-mail is signed by a trusted key.<br>
<p>
If using a custom mail client, it should be very easy to invoke GPG appropriately to do that check.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/465419/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor464466"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Public Git hosting</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2011 21:12 UTC (Tue)
                               by <b>jimparis</b> (guest, #38647)
                              [<a href="/Articles/464466/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; About http, that's purely a performance thing. The git:// protocol is far &gt; more bandwidth-efficient than the git-over-http protocol.</font><br>
<p>
Surely the smart HTTP transport is fine?<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/464466/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor464467"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Public Git hosting</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2011 21:14 UTC (Tue)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/464467/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Linus did mention the smart protocol and say it was better.  Unless the developer says that the server uses smart http, though, it's not evident from the pull request and Linus is likely to ignore it.
      
          <div class="CommentReplyButton">
            <form action="/Articles/464467/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor464478"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2011: Kernel.org report</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 26, 2011 1:01 UTC (Wed)
                               by <b>kjp</b> (guest, #39639)
                              [<a href="/Articles/464478/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Any coincidence between this breakin and the new commit signing being put into git... I am looking forward to commit signing wrt github use.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/464478/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor464485"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2011: Kernel.org report</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 26, 2011 2:09 UTC (Wed)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/464485/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
no coincidence, remember that features go into git as they are needed (by someone needing it badly enough to write the code to implement it)<br>
<p>
it's been long enough since the kernel.org exploit for this process to have worked it's natural course.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/464485/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor465244"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2011: Kernel.org report</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 2, 2011 1:32 UTC (Wed)
                               by <b>junkio</b> (guest, #5743)
                              [<a href="/Articles/465244/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yes, see recent discussion on the kernel/git mailing list, or see my small write-up at <a href="http://git-blame.blogspot.com/2011/11/helping-kernel-workflow.html">http://git-blame.blogspot.com/2011/11/helping-kernel-work...</a> for some context.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/465244/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor464559"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2011: Kernel.org report</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 26, 2011 16:49 UTC (Wed)
                               by <b>tialaramex</b> (subscriber, #21167)
                              [<a href="/Articles/464559/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
"seemingly, were able to exploit ssh agent forwarding to move on to new machines"<br>
<p>
This definitely seems like an argument for working on tools to help users notice when this happens. Something relatively unintrusive would do the job, e.g. an icon like the "new mail" icon which blinks or something when your agent acts, and ideally provides information about when it last acted on behalf of a remote connection, which one, and using which key. This information about when the agent was used, and which key was used is definitely available internally, the rest I am less certain of.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/464559/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor464803"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2011: Kernel.org report</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 28, 2011 11:26 UTC (Fri)
                               by <b>josh</b> (subscriber, #17465)
                              [<a href="/Articles/464803/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
One question I have yet to see an answer to: why does the new kernel.org account procedure include entirely new SSH keys generated by the kernel.org admins, rather than allowing the use of existing SSH keys after careful checking?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/464803/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor464805"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2011: Kernel.org report</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 28, 2011 11:28 UTC (Fri)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/464805/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      Because a lot of existing keys were compromised and nobody wants to make guesses about which ones might be OK.  SSH keys are cheap, why not replace them?
      
          <div class="CommentReplyButton">
            <form action="/Articles/464805/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor464811"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2011: Kernel.org report</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 28, 2011 11:43 UTC (Fri)
                               by <b>josh</b> (subscriber, #17465)
                              [<a href="/Articles/464811/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; SSH keys are cheap, why not replace them? </font><br>
<p>
Replacing the SSH key doesn't seem crazy.  However, maintaining a completely separate SSH key just for use on kernel.org causes quite a bit of additional complication and annoyance.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/464811/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor464859"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">configure ssh identity by host</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 28, 2011 17:16 UTC (Fri)
                               by <b>dmarti</b> (subscriber, #11625)
                              [<a href="/Articles/464859/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
You can always make a separate Host section in your .ssh/config with an IdentityFile line.  Should then be used by everything that runs over ssh including git. (man ssh_config for more info)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/464859/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor464890"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">configure ssh identity by host</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 28, 2011 20:36 UTC (Fri)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/464890/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Does that work if you use an agent? Last time I tried, -i and IdentityFile were both ignored if an agent was in use.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/464890/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor465005"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">configure ssh identity by host</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 31, 2011 10:54 UTC (Mon)
                               by <b>mp</b> (subscriber, #5615)
                              [<a href="/Articles/465005/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Even with IdentitiesOnly? Never tried it but looks like the option to set.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/465005/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor465062"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">configure ssh identity by host</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 31, 2011 17:50 UTC (Mon)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/465062/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I'm not sure that even existed in the fairly old version of OpenSSH I last encountered this problem in, five years ago. I should retest...<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/465062/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor464886"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2011: Kernel.org report</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 28, 2011 20:24 UTC (Fri)
                               by <b>giraffedata</b> (guest, #1954)
                              [<a href="/Articles/464886/">Link</a>] (8 responses)
      </p>
      
      </div>
      </summary>
      <blockquote>
Central signing will not be happening anymore; developers will need to sign files - with their own keys - before uploading them. The new web of trust 
will allow those signatures to be verified by others.
</blockquote>
<p>
I don't get this part.  Does the web of trust let one verify that the file was signed by a particular individual, or that it was signed by a trustworthy kernel developer?  If it's just the former, it seems less valuable than the former automatic kernel.org signature.

      
          <div class="CommentReplyButton">
            <form action="/Articles/464886/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor466305"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2011: Kernel.org report</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 8, 2011 17:25 UTC (Tue)
                               by <b>wookey</b> (guest, #5501)
                              [<a href="/Articles/466305/">Link</a>] (7 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yes the WOT allows you to verify that it was signed by a particular individual (so long as the key they used has been signed by someone else and thus is part of the WOT). This is how Debian has been operating for a very long time (more than 12 years to my knowledge).<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/466305/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor466334"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">kernel.org no longer centrally signs submissions</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 8, 2011 19:52 UTC (Tue)
                               by <b>giraffedata</b> (guest, #1954)
                              [<a href="/Articles/466334/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      Then am I right that the new system wherein developers sign files with their own keys is less valuable than the old one where they were signed by kernel.org automatically?  I'm skeptical, but where am I wrong?
<p>
With the new system, when I look at a file I know it came from some identifiable individual I don't know anything about.  With the old one, I know it came from kernel.org.  I know something about kernel.org.  I know it's set up (and always has been) to tend not to accept garbage.

      
          <div class="CommentReplyButton">
            <form action="/Articles/466334/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor466346"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">kernel.org no longer centrally signs submissions</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 8, 2011 20:56 UTC (Tue)
                               by <b>raven667</b> (subscriber, #5198)
                              [<a href="/Articles/466346/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <blockquote>With the new system, when I look at a file I know it came from some identifiable individual I don't know anything about. With the old one, I know it came from kernel.org. I know something about kernel.org. I know it's set up (and always has been) to tend not to accept garbage.</blockquote>
<p>
If I understand correctly you don't have any reason to trust the old style kernel.org signature as it doesn't say anything about where the code came from or whether it is garbage or not since everything was automatically signed.  All it told you is that the person who uploaded it had legitimate or illicit access to the kernel.org server, nothing more.
<p>
You could just assume trust for anything signed, which would be the same security posture as before.  It'd be great if there were more easily accessible, clear and accurate documentation on how to do useful signature verification.  I just checked the kernel.org signature page and it looked like it hasn't been updated in a decade.
      
          <div class="CommentReplyButton">
            <form action="/Articles/466346/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor466361"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">kernel.org no longer centrally signs submissions</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 8, 2011 21:56 UTC (Tue)
                               by <b>giraffedata</b> (guest, #1954)
                              [<a href="/Articles/466361/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <blockquote>
All it told you is that the person who uploaded it had legitimate or illicit access to the kernel.org server, nothing more.
</blockquote>
<p>
It told me significantly more, because I know between those two possibilities, the legitimate access one is far more likely than the illicit access one.  (If I didn't believe that, I never would have run anything I got directly from kernel.org on my computer).

      
          <div class="CommentReplyButton">
            <form action="/Articles/466361/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor466387"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">kernel.org no longer centrally signs submissions</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 8, 2011 23:41 UTC (Tue)
                               by <b>raven667</b> (subscriber, #5198)
                              [<a href="/Articles/466387/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Then to truncate the point, the only thing you know is that the file passed through the kernel.org server.  Now you know both that it came from a kernel developer and which one it came from.  More is more than less, right?  8-)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/466387/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor466394"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">kernel.org no longer centrally signs submissions</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2011 0:24 UTC (Wed)
                               by <b>jimparis</b> (guest, #38647)
                              [<a href="/Articles/466394/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It seems the argument is that, as far as trust goes, "you downloaded this from kernel.org" is exactly the same assurance as the old "this was signed by kernel.org".  That may be true (if SSL was used for the download), but it still seems that no harm would be done by also adding that automatic signature.  Then SSL wouldn't be necessary, and you could verify that it passed through kernel.org even if you downloaded it from another site or mirror.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/466394/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor466404"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">kernel.org no longer centrally signs submissions</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2011 2:49 UTC (Wed)
                               by <b>giraffedata</b> (guest, #1954)
                              [<a href="/Articles/466404/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <p>
Thanks; that's exactly what I was thinking.  The great advantage of a digital signature is that it gives you a basis for trusting something regardless of how it got to you.  If I found a kernel by the side of the road, I'd say, "Hell yes, I'll put that on my server.  I can see that kernel.org blessed this particular arrangement of bits at some point."  But it would be ridiculous to say, "This looks OK.  Somebody signed it."
<p>
The developer signature appears to serve an entirely different purpose from the kernel.org automatic signature (I suppose it is what tells kernel.org, which <em>does</em> know all the individuals, it's OK to take the code), but the article makes it sound like it is a replacement of -- and improvement on -- it.

      
          <div class="CommentReplyButton">
            <form action="/Articles/466404/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor466406"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">kernel.org no longer centrally signs submissions</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2011 3:11 UTC (Wed)
                               by <b>raven667</b> (subscriber, #5198)
                              [<a href="/Articles/466406/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Just to be clear, an automatic signature _only_ tells you that the bits passed through kernel.org. If you download from kernel.org then it tells you exactly nothing. I'm not sure why you mention ssl, it seems that ssl provides a higher level of assurance and what ssl provides is pretty lame. <br>
<p>
Auto signing doesn't provide any more verification than an md5sum file which would probably be a better choice. When signatures are used people often assume a higher level of verification than really exists.   Usually when releases are signed the private key is not publicly accessible and is on a separate device that only release approvers have access to, an offline workstation or smart card for example.  That procedure can be a higher level of assurance that the bits you have are the right ones<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/466406/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
</details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2011, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
