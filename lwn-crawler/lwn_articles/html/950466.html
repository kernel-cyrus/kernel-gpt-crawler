        <!DOCTYPE html>
        <html lang="en">
        <head><title>The push to save Itanium [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/950466/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/950830/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/950466/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>The push to save Itanium</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Benefits for LWN subscribers</b>
<p>
The primary benefit from <a href="/Promo/nst-nag5/subscribe">subscribing to LWN</a>
       is helping to keep us publishing, but, beyond that, subscribers get
       immediate access to all site content and access to a number of extra
       site features.  Please sign up today!
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>November 9, 2023</br>
           </div>
It is (relatively) easy to add code to the kernel; it tends to be much
harder to remove that code later.  The most recent example of this dynamic
can be seen in the story of the ia64 ("Itanium") architecture, support for
which was removed during the 6.7 merge window.  That removal has left a
small group of dedicated ia64 users unhappy and clinging to a faint hope
that this support could return in a year's time.
<p>
At the end of the 1990s, it had become clear that 32-bit processors were
approaching the end of their useful life for many applications; in
particular, 32&nbsp;bits is not enough to address the memory sizes that
were beginning to show up on higher-end systems.  In response, Intel
launched into a program that it called "Merced" to create the successor to
the x86.  It was a RISC architecture, wholly incompatible with anything
that Intel had sold before.  But it was going to be the Next Big Thing
because that was what Intel was doing.
<p>
At the time, information about this new architecture was being held under
nondisclosure agreements, and it was far from clear when Linux developers
would be able to port the kernel to Merced, if ever.  This was before
Intel's <a href="/1998/1001/">investment in Red Hat</a> that signaled the
beginning of the arrival of big money into Linux.  It seemed entirely
possible that Linux would be cut out of the processor that, we were all
reliably informed, would be the future of computing; choices would be
limited to Windows and proprietary Unix.
<p>
That, of course, is not how things worked out.  Intel became one of the
earliest corporate supporters of Linux and ensured, under a project known
as <a
href="https://www.redhat.com/en/about/press-releases/35">Trillian</a>, that
Linux ran well on this new architecture, which was eventually named ia64
(or "Itanium" in the sales literature).  Initial Itanium support found its
way into the 2.3.43 development kernel release in early 2000.  The way was
clear for our bright Linux-on-Itanium future.
<p>
The only problem, of course, is that things didn't work out that way
either.  Early Itanium systems failed to perform at anything close to the
speeds that the hype had promised.  Meanwhile, AMD created the x86-64
architecture, adding 64-bit operation while maintaining as much
compatibility with the vast world of deployed 32-bit software as possible.
This new architecture quickly won over the market, forcing Intel to follow
in AMD's footsteps; Itanium ended up as a nearly forgotten footnote.  Some
systems were sold, and Intel continued manufacturing the CPUs for many
years, but their market was limited.  Red Hat dropped ia64 support in 2010.
<p>
Through all of this, the ia64 architecture code was maintained in the
kernel, but interest dropped rapidly.  In recent years, the ia64 code has
often been seen as a drag on kernel development in general.  After a bug
originating in the ia64 code was <a href="/Articles/920259/">tracked
down</a> in January, kernel developers started talking more seriously about
just removing support for that architecture entirely.  There was some
discussion at the time, with a few hobbyist users complaining about the
idea, but no changes were made then.
<p>
The topic came back in May, though, When Ard Biesheuvel <a
href="https://lore.kernel.org/all/CAMj1kXFCMh_578jniKpUtx_j8ByHnt=s7S+yQ+vGbKt9ud7+kQ@mail.gmail.com/">pushed
for the removal of ia64 support</a> from the kernel, saying that the
architecture was impeding his work in the EFI subsystem:
<p>
<blockquote class="bq">
	As a maintainer, I feel uncomfortable asking contributors to build
	test their changes for Itanium, and boot testing is infeasible for
	most, even if some people are volunteering access to infrastructure
	for this purpose. In general, hacking on kernels or bootloaders
	(which is where the EFI pieces live) is tricky using remote access.
<p>
	The bottom line is that, while I know of at least 2 people (on cc)
	that test stuff on itanium, and package software for it, I don't
	think there are any actual users remaining, and so it is doubtful
	whether it is justified to ask people to spend time and effort on
	this.
</blockquote>
<p>
In that discussion, John Paul Adrian Glaubitz (who maintains the Debian
ia64 port) <a
href="https://lore.kernel.org/all/ff58a3e76e5102c94bb5946d99187b358def688a.camel@physik.fu-berlin.de/">suggested</a>
that ia64 support should be kept until after the next long-term-support
kernel release, after which it could be dropped.  That would, he said,
maximize the amount of time in which ia64 would be supported for any
remaining users out there.  That is how it appears to have played out:
during the 6.7 merge window, <a
href="https://git.kernel.org/linus/cf8e8658100d">ia64 support was
removed</a>.  The ia64 story is now done, as far as Linux is concerned.
<p>
Except that, seemingly, it is not.  Shortly after ia64 support disappeared
from the kernel, Frank Scheiner <a
href="/ml/linux-kernel/8ff191a0-41fa-4f36-86e8-3d32ff3fe75c@web.de/">complained</a>
to the mailing list, saying that he and others had been working to resolve
the problems with this architecture and had been rewarded by seeing it
removed anyway.  Linus Torvalds <a
href="/ml/linux-kernel/CAHk-=whFLZ67ffzt1juryCYcYz6eL_XjQF8WucDzwUR5H65+rA@mail.gmail.com/">responded</a>
that he might be willing to see it come back — eventually:
<p>
<blockquote class="bq">
	So I'd be willing to come back to the "can we resurrect it"
	discussion, but not immediately - more along the lines of a "look,
	we've been maintaining it out of tree for a year, the other
	infrastructure is still alive, there is no impact on the rest of
	the kernel, can we please try again"?
</blockquote>
<p>
Scheiner was <a
href="/ml/linux-kernel/6e745433-d7eb-45df-b607-5589f1e04e86@web.de/">not
entirely pleased</a> with the removal of ia64 support, but Glaubitz <a
href="/ml/linux-kernel/396c3aebd6a382aa5a9cbf333f93d876467e12e9.camel@physik.fu-berlin.de/">described</a>
the one-year plan as "<q>very reasonable</q>".
<p>
So the hobbyists who want to keep Linux support for this architecture
alive, and who faced a difficult task before, have now seen the challenge
become more severe.  Maintaining support for an architecture out of tree is
not a task for the faint of heart, especially as the mainline kernel goes
forward with changes that had been held back by the need to keep ia64
working until now.  To complicate the picture, as Tony Luck <a
href="https://lore.kernel.org/all/SJ1PR11MB60833AF98E6E9D3CD89AB393FC439@SJ1PR11MB6083.namprd11.prod.outlook.com/">pointed
out</a> in May, it is entirely possible that future kernel changes may,
when backported to the stable kernel updates, break ia64 in those kernels.
Since nobody working on the stable updates is able to test ia64 systems
(even if they wanted to), such problems could go unnoticed for some time.
<p>
One should also not miss the other condition that Torvalds placed on a
return of ia64: that "<q>the other infrastructure is still alive</q>".  The
ia64 enthusiasts did not miss that, so it is unsurprising that they were
concerned when Adhemerval Zanella <a
href="/ml/libc-alpha/445c5c7c-315f-495d-81ce-a5bdc30e2b8e@linaro.org/">proposed</a>
removing ia64 support from the GNU C Library (glibc) — one of the most
important pieces of other infrastructure.  Zanella pointed out that the
ia64 port is in poor shape, with a number of outstanding problems that seem
unlikely to be solved.  Scheiner <a
href="/ml/libc-alpha/37fcf02a-6977-42ff-bed2-e1813f3f61ef@web.de/">answered</a>
that it might be possible to provide (limited) access to ia64 machines for
library testing, and asked for more time to address some of the problems.
<p>
Zanella, though, followed up with <a
href="/ml/libc-alpha/20231104190225.2060378-1-adhemerval.zanella@linaro.org/">a
patch</a> to remove ia64 support.  Scheiner <a
href="/ml/libc-alpha/fbdeb854-ca42-4835-8cdc-fb130ea2b747@web.de/">responded</a>:
"<q>The speed this happens really surprises me and I hope there is no need
to rush with this removal</q>".  Other developers, though, including <a
href="/ml/libc-alpha/e5e9a6f8-f391-51f5-f4d9-384810c3c3aa@codesourcery.com/">Joseph
Myers</a>, <a
href="/ml/libc-alpha/8734xiyhgu.fsf@mid.deneb.enyo.de/">Florian Weimer</a>,
and glibc maintainer <a
href="/ml/libc-alpha/a53a3413-bb07-9d29-d692-777f54ad3065@redhat.com/">Carlos
O'Donell</a>, are all in favor of dropping ia64 support.  It would, thus,
not be surprising to see the removal happen as soon as the 2.39 release,
due in February, or at the latest in the release after that.
<p>
That, needless to say, raises the bar for ia64 supporters even further.
While one should never discount what a group of determined developers can
accomplish, it is probably safe to conclude that ia64 support is gone from
the kernel for good.  Some may see this as a disappointment, but it is also
a testament to how hard the community will work to keep an architecture
alive even though it never had a lot of users and has almost none now.
This support, arguably, could have been removed years ago without causing
any great discomfort, but taking code out of the kernel is hard.  As
has been seen here, though, it is occasionally possible.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Architectures-ia64">Architectures/ia64</a></td></tr>
            <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-6.7">Releases/6.7</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/950466/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor950919"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2023 17:12 UTC (Thu)
                               by <b>bluca</b> (subscriber, #118303)
                              [<a href="/Articles/950919/">Link</a>] (11 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
This architecture is no more, it has ceased to be. It's expired and gone to see its maker. This is a late architecture. It is bereft of life. It rests in peace. It's ran down the curtain and joined the choir invisible. This is an ex architecture.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/950919/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor950927"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2023 17:43 UTC (Thu)
                               by <b>iustin</b> (subscriber, #102433)
                              [<a href="/Articles/950927/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Well said. I don't understand the "let's keep it alive" when its life has clearly left the body a loooong time ago.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/950927/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor950939"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2023 18:32 UTC (Thu)
                               by <b>epa</b> (subscriber, #39769)
                              [<a href="/Articles/950939/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
There’s still a valiant band of enthusiasts keeping Linux running on Amiga, Atari ST, and old Macintosh systems (at least those with MMU and a bit of RAM). I guess the m68k port doesn’t cause as many problems as Itanic because it’s not so alien-feeling. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/950939/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor950946"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2023 18:59 UTC (Thu)
                               by <b>wtarreau</b> (subscriber, #51152)
                              [<a href="/Articles/950946/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
While I'm all for supporting old stuff as long as it continues to work, the difference between IA64 and an Amiga is that it's probably much easier to have an Amiga working under your desk to test your changes once in a while than it is to find a properly working Itanium machine that will not ruin your ears with massive fans, nor your electricity bill. That's why small hardware continues to be better supported.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/950946/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor950956"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2023 21:13 UTC (Thu)
                               by <b>MattBBaker</b> (guest, #28651)
                              [<a href="/Articles/950956/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It seems that that the problem isn't the arch itself as it is EFI and the fact that developers hacking on EFI find testing on ia64 to be unacceptably difficult verses still in production machines. Maybe Itanium can be saved by making an EFI layer specific to ia64?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/950956/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor950974"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 1:33 UTC (Fri)
                               by <b>mjg59</b> (subscriber, #23239)
                              [<a href="/Articles/950974/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
A lot of the Itanium code is already a separate implementation from EFI on other architectures, which was causing me trouble over a decade ago. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/950974/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor953305"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 30, 2023 4:30 UTC (Thu)
                               by <b>andrey.turkin</b> (guest, #89915)
                              [<a href="/Articles/953305/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I'm sure they do this because of the deep-rooted nostalgia, as those were their own PCs of their childhoods. Just like Z80/8080 people, 6502 people, or DOS people. There are also people (like Usagi Electric at youtube) who puddle in murky waters of 60s and 70s computers because of (I assume) a fascination with digital archaeology if not outright Frankenstein-like delight ("Its alive" wow factor).<br>
Itanium doesn't check any of the boxes. It is not old enough and it is not home-friendly enough to have gathered a significant fan base. It was something you'd encounter at your workplace, which is not exactly nostalgia-inducing. Clinging to it seems to be as silly as clinging to DEC Alpha box or Sun Ultra 10 station - sure, it was great once... 20 years ago. Now it is long obsolete. It is time to let it die peacefully.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/953305/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor950948"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2023 19:44 UTC (Thu)
                               by <b>Cyberax</b> (<b>&#x272D; supporter &#x272D;</b>, #52523)
                              [<a href="/Articles/950948/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yet somehow m68k is still alive. Honestly, the dedication of its supporters is absolutely amazing.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/950948/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951011"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 11:40 UTC (Fri)
                               by <b>dezgeg</b> (subscriber, #92243)
                              [<a href="/Articles/951011/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
For many people the Amiga never died :)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951011/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor951099"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 18:38 UTC (Fri)
                               by <b>viro</b> (subscriber, #7872)
                              [<a href="/Articles/951099/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
m68k has reasonably accurate emulators (aranym since way back, later qemu as well); itanic does not.  I know about ski(1); it's not usable for kernel work.   The minimal requirement is that breakage caused by a patch on real hardware (UP, no drivers involved, etc.) would be possible to catch using emulator.  Without that you can't test; back when I had walked into arch/ia64 with some work (signals and kernel threads - nothing model-specific involved) I ended up having to buy a real box just to be able to do testing.<br>
<p>
I'm not blaming emulator folks, BTW - the architecture is much more convoluted than e.g. alpha.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951099/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor950981"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 2:48 UTC (Fri)
                               by <b>donald.buczek</b> (subscriber, #112892)
                              [<a href="/Articles/950981/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Come on, you, you've got to go do another sketch now!<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/950981/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor951004"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 10:34 UTC (Fri)
                               by <b>paulj</b> (subscriber, #341)
                              [<a href="/Articles/951004/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
No, it's just resting!<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951004/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor950920"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2023 17:16 UTC (Thu)
                               by <b>rsidd</b> (subscriber, #2582)
                              [<a href="/Articles/950920/">Link</a>] (11 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
As with all such near-extinct platform, my question is: why can't the few remaining users [pay someone to] maintain the current working kernel with bugfixes (presumably there will be no new hardware to be supported), rather than demand upstream support forever? <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/950920/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor950926"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2023 18:04 UTC (Thu)
                               by <b>NYKevin</b> (subscriber, #129325)
                              [<a href="/Articles/950926/">Link</a>] (10 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Realistically, a few people cannot (reasonably) maintain an architecture out of tree in their spare time (i.e. not as a full-time job). It is too much work for that. If they're hobbyists, they probably also cannot afford to pay someone else to do it (or at least, they cannot economically justify that kind of ongoing expenditure indefinitely).<br>
<p>
IMHO the more plausible path would be porting some very small microkernel such as Zircon, and then building whatever userspace you can manage on top of that. Even then, you're probably going to run into problems in userspace, because ia64 is significantly less forgiving of an architecture than x86. See for example these articles:<br>
<p>
<a href="https://devblogs.microsoft.com/oldnewthing/20040119-00/?p=41003">https://devblogs.microsoft.com/oldnewthing/20040119-00/?p...</a><br>
<a href="https://devblogs.microsoft.com/oldnewthing/20040120-00/?p=40993">https://devblogs.microsoft.com/oldnewthing/20040120-00/?p...</a><br>
<p>
(These articles are about how Windows used to do things when it supported ia64. Your ABI may vary.)<br>
<p>
I would tend to assume there's probably some kind of code out there that violates the ia64's assumptions about what you can and can't do in some way or another. Such code would not be standard-conforming, but if it works on GCC on x86, a lot of people will not care about the standard (at least, not until GCC stops allowing it, anyway). So you probably can't run code like that, either in userspace or in kernelspace, which means that any non-ia64-supporting upstream (that is written in C or C++) could potentially break ia64 compatibility at any time, without even knowing what an ia64 is. You have to identify and patch all of those, as well as maintaining Linux/Zircon/whatever compatibility and libc compatibility. In the long run, I can't imagine you're going to end up with a very large and complex operating system if you're doing that much work with so few people, hence my suggestion to focus on a microkernel and some minimal userspace stuff.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/950926/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor950947"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2023 19:03 UTC (Thu)
                               by <b>wtarreau</b> (subscriber, #51152)
                              [<a href="/Articles/950947/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
In the end, I think the simplest solution is that they stick to the latest LTS kernel supported by their hardware for as long as it's maintained, and even probably longer if they adopt the CIP SLTS kernels, or even forever anyway given that such devices should realistically not be exposed too much given that if nobody is publicly looking for vulns affecting them, you don't know what else remains exploitable on them.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/950947/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor950958"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2023 21:03 UTC (Thu)
                               by <b>NYKevin</b> (subscriber, #129325)
                              [<a href="/Articles/950958/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
That is also possible. It depends on what they're trying to do with these systems. If five years from now they want some fancy pants new scheduler algorithm or whatever, they would probably prefer to have their own microkernel to play with. If they just want it to keep booting, then keeping the old kernel is probably easier.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/950958/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor950992"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 8:06 UTC (Fri)
                               by <b>tglozar</b> (subscriber, #165848)
                              [<a href="/Articles/950992/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I also initially thought it would be unfeasible for us hobbyists to maintain ia64 out-of-tree, however after thinking more about it, it's not clear if maintaining an architecture really is that much work. Nevertheless, I'm trying to do that together with Frank Scheiner here:<br>
<p>
<a href="https://github.com/lenticularis39/linux-ia64/tree/master-revert-ia64-removal">https://github.com/lenticularis39/linux-ia64/tree/master-...</a><br>
<p>
We will see what problems arrive with future changes. So far it looks like the kernel should be quite easy, unlike glibc, which has to deal with the specifics of Itanium addressing modes.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/950992/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951092"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 16:47 UTC (Fri)
                               by <b>thoeme</b> (subscriber, #2871)
                              [<a href="/Articles/951092/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I have to repeat the question of rsidd in another way: *why* do the few remaining users of Itanium need or want new kernels ? As these are ancient legacy machines, why don't you just use what you have (presumably) now working just fine ? I am sure I do not understand the use case, as I would run such a system just as a hobby, where new features (which for Itanium there are zero) or security are of no concern ?<br>
PS: Years ago I would run Linux on 32bit SPARCs, HP 3000 and HP 712/715 workstations as a hobby, but I got fed up with their bad performance for even the slightest every day use and scrapped them.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951092/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951100"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 18:22 UTC (Fri)
                               by <b>intelfx</b> (subscriber, #130118)
                              [<a href="/Articles/951100/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; I have to repeat the question of rsidd in another way: *why* do the few remaining users of Itanium need or want new kernels ?</span><br>
<p>
You might not need (nor want) new kernels per se, but you might reasonably want a modern userspace, and ince, say, systemd or docker or whatever starts requiring $NEXT_BIG_THING (like it was with cgroup2), you may suddenly find yourself out of luck.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951100/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951127"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 11, 2023 1:12 UTC (Sat)
                               by <b>WolfWings</b> (subscriber, #56790)
                              [<a href="/Articles/951127/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
...and?<br>
<p>
At this point the upcoming Raspberry Pi 5 will outperform all but the final last-gasp 8-core-16-thread Itanium CPUs from what benchmarks I've been able to dig up.<br>
<p>
It's an INCREDIBLY dead platform because it's just so atrocious from the base fundamental design all the way up to the software (non-)support. It's as dead as the Bulldozer variants from AMD were compared to previous and later models, it just has no benefits at all versus many other options.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951127/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951608"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2023 8:58 UTC (Thu)
                               by <b>anton</b> (subscriber, #25547)
                              [<a href="/Articles/951608/">Link</a>] 
      </p>
      
      </div>
      </summary>
      We have all kinds of outdated hardware (including an IA-64 box) in order to do comparisons between hardware across the ages.  In my case I compare them using software written in C that does not use modern glibc features, so I don't need a modern userland and thus not a modern kernel (so our IA-64 actually has some ancient system), but others with a similar motivation may need an up-to-date userland.

<p>I don't know if that is the motivation of those who want to keep IA-64 in the kernel and glibc, though.


      
          <div class="CommentReplyButton">
            <form action="/Articles/951608/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor951182"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 12, 2023 9:35 UTC (Sun)
                               by <b>pm215</b> (subscriber, #98099)
                              [<a href="/Articles/951182/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The trouble with wanting a modern userspace is that that userspace tends to be written to assume a certain level of performance from its CPU and a certain amount of RAM it can use; as time goes on userspace gets gradually more CPU hungry and more RAM hungry. Linux is better than most for this but not immune, and at some point even if you can technically run a modern distro on a bit of retrocomputing hardware you won't be happy with the performance compared to continuing to use that five year old as-originally-shipped version.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951182/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor951102"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 19:26 UTC (Fri)
                               by <b>eru</b> (subscriber, #2753)
                              [<a href="/Articles/951102/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      &gt;<i> some very small microkernel such as Zircon, and then building whatever userspace </i>
<p>
Effectively creating yet another OS? Surely NetBSD will keep supporting Itanium, as long as there is any interest, and there surely is, if all Itanium fans pool their resources behind the same kernel project. The BSD approach is developing the libc along with the kernel, so you also don't need to worry about it separately.



      
          <div class="CommentReplyButton">
            <form action="/Articles/951102/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor952143"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 21, 2023 20:25 UTC (Tue)
                               by <b>JohnDallman</b> (guest, #168141)
                              [<a href="/Articles/952143/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
NetBSD have never actually made an Itanium release. FreeBSD and OpenBSD don't seem to touch it. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/952143/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor950959"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2023 21:28 UTC (Thu)
                               by <b>Phantom_Hoover</b> (subscriber, #167627)
                              [<a href="/Articles/950959/">Link</a>] (10 responses)
      </p>
      
      </div>
      </summary>
      I actually ran into someone on reddit a couple of months ago who had managed to buy a brand-new Itanium server from HP, in 2021, for $2200. <i>By accident.</i> I was astonished, and very amused. Needless to say he was very unhappy at Itanium support being dropped from the kernel — HP were selling it with a 10 year support guarantee, after all!


      
          <div class="CommentReplyButton">
            <form action="/Articles/950959/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor950968"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 0:08 UTC (Fri)
                               by <b>NYKevin</b> (subscriber, #129325)
                              [<a href="/Articles/950968/">Link</a>] (7 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
That ought to be HP's problem. They can damn well maintain ia64 out of tree for the next ten years if they're going around making stupid promises like that.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/950968/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor950972"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 1:25 UTC (Fri)
                               by <b>Paf</b> (subscriber, #91811)
                              [<a href="/Articles/950972/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Honestly I expect they’d eventually honor that agreement by offering to buy them something else.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/950972/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor951005"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 10:46 UTC (Fri)
                               by <b>paulj</b> (subscriber, #341)
                              [<a href="/Articles/951005/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
This is bread and butter stuff for HPE. All you have to do is pay them enough money and they'll support it.<br>
<p>
Last I was at DEC^WCompaq^WHPE, there was still a group offering some degree of support for stuff on *PDP-11s*. That was only 5 odd years ago! (My vague impression is there was some kind of semi-modern re-implementation of PDP-11 involved - not talking original 70s PDPs, though DEC was making PDP-11s until the mid-90s; there might be something more recent than that too).<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951005/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951016"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 12:52 UTC (Fri)
                               by <b>smoogen</b> (subscriber, #97)
                              [<a href="/Articles/951016/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
There are a lot of PDP-11's and even PDP-8's 'embedded' in manufacturing equipment which is still working along in refineries and chemical plants. Some were external hardware but eventually most were replaced even in the 2000's with single board SoC like things which keep the plant going. At the plant my dad retired from in the early 2000's, they were being told the newer systems would be run by Itaniums, but it would have required replacing giant equipment systems (aka build a new plant) so they kept the PDP systems with RSX-11(?) running with a contract with HPE.  The plant is still running when I drove past it last year so it probably still has a bunch of those somewhere in it.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951016/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951018"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 13:10 UTC (Fri)
                               by <b>dezgeg</b> (subscriber, #92243)
                              [<a href="/Articles/951018/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Are those kinds of operations likely to do a upgrade onto the latest (mainline, non-vendor) kernel?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951018/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951020"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 13:37 UTC (Fri)
                               by <b>adam820</b> (subscriber, #101353)
                              [<a href="/Articles/951020/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
They're probably more likely to never see an update, ever. Probably offline, never touched, just running some control program 24/7.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951020/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor951017"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 12:57 UTC (Fri)
                               by <b>Phantom_Hoover</b> (subscriber, #167627)
                              [<a href="/Articles/951017/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
They’d probably just tell you to use HP-UX once linux stops being viable. I would guess they can afford to keep it on life support to satisfy contractual obligations.<br>
<p>
For me it only adds to the comedy: this guy had to set up an LLC (they obviously only sold Itanium servers B2B) to buy this amazing knock-down deal on a $6600 server, and didn’t feel the need to investigate what he was buying because hey, it says right there in the brochure, 10 years of support! What could possibly go wrong?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951017/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951021"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">HP support for Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 13:44 UTC (Fri)
                               by <b>joib</b> (subscriber, #8541)
                              [<a href="/Articles/951021/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; They’d probably just tell you to use HP-UX once linux stops being viable.</span><br>
<p>
I don't think HP officially supports Linux on Itanium since a long time. So if you want official HP support for a HP Itanium machine, it's HP-UX (since VMS was spun off into a separate company).<br>
<p>
As an aside, AFAICT the "roadmap" for HP-UX is essentially "do the minimum necessary security updates while we fleece the customers until they migrate to Linux or Windows on x86"; there's no plan to port HP-UX to any architecture which is still being developed.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951021/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor951142"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 11, 2023 11:22 UTC (Sat)
                               by <b>ianmcc</b> (subscriber, #88379)
                              [<a href="/Articles/951142/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <p>From <a href="https://en.wikipedia.org/wiki/Itanium">https://en.wikipedia.org/wiki/Itanium</a>:
</p>
<blockquote>
In February 2017, Intel released the final generation, Kittson, to test customers, and in May began shipping in volume.[7][8] It was used exclusively in mission-critical servers from HPE.

In 2019, Intel announced that new orders for Itanium would be accepted until January 30, 2020, and shipments would cease by July 29, 2021.[1] This took place on schedule.[9]
</blockquote>
So they were still shipping in 2021, although new orders were not supposed to be happening.  I'm surprised that Intel and HP are not prepared to keep support, considering it is only 2 years since they last shipped!  This was a surprise to me; I had assumed they stopped development on Itanium around 2005!


      
          <div class="CommentReplyButton">
            <form action="/Articles/951142/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951147"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 11, 2023 15:08 UTC (Sat)
                               by <b>joib</b> (subscriber, #8541)
                              [<a href="/Articles/951147/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Kittson was a new generation in name only, likely introduced only to fulfill some contractual obligations. Essentially it was a previous generation cpu, codename Poulson (2012), with a very modest clock speed bump. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951147/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor951009"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 11:27 UTC (Fri)
                               by <b>CChittleborough</b> (subscriber, #60775)
                              [<a href="/Articles/951009/">Link</a>] (33 responses)
      </p>
      
      </div>
      </summary>
      The IA64 architecture is based on <a href="https://en.wikipedia.org/wiki/Explicitly_parallel_instruction_computing">Explicitly parallel instruction computing</a>, which requires compilers to recognize opportunities for instruction-level parallelism and mark the generated code accordingly ... and this is not the only way that IA64 makes life hard for compiler writers. So I’m not surprised that the GCC people are happy to lose that burden.
<p>
Modern x86-64 CPUs are good at detecting parallelism opportunities without compiler help. TL/DR: EPIC is bogus.
<p>
(OTOH, IA64 has good support for loop unrolling, which is why it was popular for a while in supercomputer circles which ran lots of Fortran programs with deeply nested DO loops.)



      
          <div class="CommentReplyButton">
            <form action="/Articles/951009/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951012"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 14:01 UTC (Fri)
                               by <b>farnz</b> (subscriber, #17727)
                              [<a href="/Articles/951012/">Link</a>] (25 responses)
      </p>
      
      </div>
      </summary>
      <p>It's worth noting that when the EPIC project began in 1994, it was not clear that OoOE would win out; the Pentium Pro project hadn't yet delivered a chip, and was promising a reorder window somewhere around the 40 instruction mark. There were hand-crafted sequences that showed that, compared to compiler output targeting the Pentium and earlier processors, EPIC could exploit more ILP than the Pentium Pro's reorder window could find in the compiler output; this led people to assume that compiler enhancements would allow EPIC to exploit all of that ILP, without significantly changing the amount of ILP a PPro derivative could find as compared to a 1994 x86 compiler.
<p>Additionally, there was still a strong possibility that growing the reorder window would not scale nicely, while we understood how to scale caches; it was plausible in 1994 that by 1998 (the intended delivery date of the first Itanium processor), Intel could build chips with megabytes of full-speed L2 cache (as opposed to the 512 KiB of 50% speed L2 cache they delivered with 1998's Pentium IIs), but with a reorder window still stuck around the 50 instruction mark, and that by 2004 (Prescott timeframe), they'd maybe have a reorder window around 60 instructions.
<p>Three of the assumptions behind EPIC were proven wrong over time:
<ol>
<li>Compiler improvements to support finding ILP for EPIC <em>also</em> allowed the compiler to bring more ILP into a PPro sized reorder window.
<li>Cache per dollar didn't grow as fast as needed to compensate for low code density compared to RISC or x86 CPUs.
<li>AMD grew the reorder window faster than Intel had assumed was possible for x86.
</ol>
<p>Under the initial assumptions, EPIC made a lot of sense; Intel's failure was to not recognise that EPIC was built on predictions that had been proven false, and to bring it all the way to market a year late (1999 instead of 1998) when they should have been able to work out in 1996 (year after the PPro was released) that at least one of their assumptions was completely false (compiler improvements benefiting the PPro as much as they benefited simulated EPIC designs, instead of only the EPIC design benefiting).





      
          <div class="CommentReplyButton">
            <form action="/Articles/951012/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951120"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 23:26 UTC (Fri)
                               by <b>CChittleborough</b> (subscriber, #60775)
                              [<a href="/Articles/951120/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
This is an informative and insightful comment. Thank you.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951120/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor951146"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 11, 2023 14:27 UTC (Sat)
                               by <b>pizza</b> (subscriber, #46)
                              [<a href="/Articles/951146/">Link</a>] (16 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I'd argue that Itanium was actually an overwhelming success.  <br>
<p>
It got multiple RISC server vendors to scrap their in-house designs and hitch themselves to Intel's offerings,<br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951146/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951148"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 11, 2023 15:21 UTC (Sat)
                               by <b>joib</b> (subscriber, #8541)
                              [<a href="/Articles/951148/">Link</a>] (15 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Arguably industry consolidation was inevitable anyway due to exponentially increasing chip and process R&amp;D costs, and the clock was ticking for the Unix vendors with their high margin low volume businesses. That Itanium delivered the coupe de grace to several of them was inconsequential, the ultimate winners being x86(-64), Windows and Linux. <br>
<p>
One could even argue that without Itanium Intel would have introduced something x86-64-like sooner. Of course a butterfly scenario is what if in this case Intel would have refused to license x86-64 to AMD?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951148/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951150"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 11, 2023 15:49 UTC (Sat)
                               by <b>pizza</b> (subscriber, #46)
                              [<a href="/Articles/951150/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; Arguably industry consolidation was inevitable anyway</span><br>
<p>
You're still looking at this from a big picture/industry-wide perspective.<br>
<p>
The fact that Itanium was a technical failure doesn't mean it wasn't a massive strategic success for Intel.  By getting the industry to consolidate around an *Intel* solution, they captured the mindshare, revenue, and economies of scale that would have otherwise gone elsewhere. <br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951150/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951163"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 11, 2023 17:01 UTC (Sat)
                               by <b>joib</b> (subscriber, #8541)
                              [<a href="/Articles/951163/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
All of them, Itanium included, faded away into near irrelevance. So whether Intel created Itanium or not, the industry would ultimately have consolidated around x86-64/windows/Linux.<br>
<p>
Unclear whether Intel profited more from Itanium compared to the alternative scenario where they would have introduced x86-64 earlier. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951163/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951180"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 12, 2023 9:02 UTC (Sun)
                               by <b>ianmcc</b> (subscriber, #88379)
                              [<a href="/Articles/951180/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
If Intel had introduced x86-64 rather than AMD, would Intel have screwed it up?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951180/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951209"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2023 12:41 UTC (Mon)
                               by <b>farnz</b> (subscriber, #17727)
                              [<a href="/Articles/951209/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <p>They'd have gone in one of two directions:
<ol>
<li>Panic-implement x86, but 64-bit. This is basically what AMD did for AMD64, because they needed a 64-bit CPU, but didn't have the money to do a "clean-sheet" redesign; Intel could have done similar.
<li>A "new" ISA, based on IA-64 but built around OoOE instead of explicit compiler scheduling.
</ol>
<p>It'd be interesting to see what could have been if 1995 Intel had redesigned IA-64 around OoOE instead of EPIC; they'd still want compiler assistance in this case, because the goal of the ISA changes from "the compiler schedules everything, and we have a software-visible ALAT and speculation" to "the compiler stops us from being trapped when we're out of non-speculative work to do".



      
          <div class="CommentReplyButton">
            <form action="/Articles/951209/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor953474"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 1, 2023 12:20 UTC (Fri)
                               by <b>sammythesnake</b> (guest, #17693)
                              [<a href="/Articles/953474/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; Panic-implement x86, but 64-bit. This is basically what AMD did for AMD64, because they needed a 64-bit CPU, but didn't have the money to do a "clean-sheet" redesign</span><br>
<p>
Although I'm sure the cost of a from-scratch design would have been prohibitive in itself for AMD, I think the decision probably had at least as much to do with a very pragmatic desire for backward compatibility with the already near-universal x86 ISA.<br>
<p>
History seems to suggest that (through wisdom or luck) that was the right call, even with technical debt going back to the 4004 ISA which is now over half a century old(!) (<a rel="nofollow" href="https://en.m.wikipedia.org/wiki/Intel_4004">https://en.m.wikipedia.org/wiki/Intel_4004</a>)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/953474/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor953477"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 1, 2023 13:17 UTC (Fri)
                               by <b>farnz</b> (subscriber, #17727)
                              [<a href="/Articles/953477/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <p>There's a lot about AMD64 that is done purely to reuse existing x86 decoders, rather than because they're trying to have backwards compatibility with x86 at the assembly level. They don't have backwards compatibility at the machine code level between AMD64 and x86, and they could have re-encoded AMD64 in a new format, while having the same instructions as they chose to implement.
<p>That's what I mean by "not having the money"; if they wanted assembly-level backwards compatibility, but weren't short on cash to implement the new design, they could have changed instruction encodings so that (e.g.) we didn't retain special encodings for "move to/from AL" (which exist for ease of porting to the 8086 from the 8085). Instead AMD reused the existing x86 encoding, with some small tweaks.


      
          <div class="CommentReplyButton">
            <form action="/Articles/953477/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor951171"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 11, 2023 22:48 UTC (Sat)
                               by <b>Wol</b> (subscriber, #4433)
                              [<a href="/Articles/951171/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; Of course a butterfly scenario is what if in this case Intel would have refused to license x86-64 to AMD?</span><br>
<p>
A butterfly scenario? Don't you mean an alternate reality?<br>
<p>
In THIS reality, what would have happened if AMD had refused to licence x86-64 to Intel?<br>
<p>
In reality, I think that that couldn't happen - I don't know the details of the intricate licencing deals (which I believe goes back to the Cyrix 686 - yes that long ago), but I think there are licence sharing deals in place that meant Intel could use x86-64 without having to negotiate.<br>
<p>
Cheers,<br>
Wol<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951171/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951176"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 12, 2023 7:30 UTC (Sun)
                               by <b>joib</b> (subscriber, #8541)
                              [<a href="/Articles/951176/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; A butterfly scenario? Don't you mean an alternate reality?</span><br>
<p>
It was a reference to the "butterfly effect", <br>
<p>
<a href="https://en.m.wikipedia.org/wiki/Butterfly_effect">https://en.m.wikipedia.org/wiki/Butterfly_effect</a><br>
<p>
,  meaning that seemingly minor details can result in major unforeseen consequences.<br>
<p>
(which is one reason why "alternate history" is seldom a usable tool for serious historical research)<br>
<p>
<span class="QuotedText">&gt; In THIS reality, what would have happened if AMD had refused to licence x86-64 to Intel?</span><br>
<p>
IIRC Intel was making various threats towards AMD wrt licensing various aspects of the x86 ISA. AMD was definitely in a kind of legal underdog situation. Inventing x86-64 put AMD in a much stronger position and forced Intel into a cross licensing arrangement, guaranteeing a long lasting patent peace. Which was good for customers. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951176/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951279"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 14, 2023 10:12 UTC (Tue)
                               by <b>anselm</b> (subscriber, #2796)
                              [<a href="/Articles/951279/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <blockquote><em>IIRC Intel was making various threats towards AMD wrt licensing various aspects of the x86 ISA. AMD was definitely in a kind of legal underdog situation. Inventing x86-64 put AMD in a much stronger position and forced Intel into a cross licensing arrangement, guaranteeing a long lasting patent peace. Which was good for customers.</em></blockquote>
<p>
There would have had to be some sort of arrangement in any case, because large customers (think, e.g., US government) tend to insist on having two different suppliers for important stuff.
</p>




      
          <div class="CommentReplyButton">
            <form action="/Articles/951279/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951481"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 15, 2023 13:27 UTC (Wed)
                               by <b>Wol</b> (subscriber, #4433)
                              [<a href="/Articles/951481/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Wich is why I mentioned the 686. I don't remember the details, but there was some sort of deal (with IBM?) and Cyrix which meant the 686 was legally licenced, and I thought AMD had inherited that. Either way, I'm sure AMD had some sort of grandfather licence deal.<br>
<p>
Cheers,<br>
Wol<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951481/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951501"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 15, 2023 14:22 UTC (Wed)
                               by <b>james</b> (subscriber, #1325)
                              [<a href="/Articles/951501/">Link</a>] 
      </p>
      
      </div>
      </summary>
      It largely goes back to the early IBM PC days, when both IBM and AMD acquired second-source licenses so they could make chips up to (and including) the 286 using Intel's designs, including patent cross-licenses.<p>
They weren't the only ones.
<p>
When Intel and HP got together to create Merced (the original Itanium), they put the intellectual property into a company they both owned, but which didn't have any cross-license agreements in place, which is why AMD wouldn't have been able to make Itanium-compatible processors except on Intel's (and HP's) terms.




      
          <div class="CommentReplyButton">
            <form action="/Articles/951501/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
<a name="CommAnchor951199"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2023 1:01 UTC (Mon)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/951199/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; That Itanium delivered the coupe de grace...</span><br>
<p>
Coup: blow, strike, punch, kick, etc. Silent "p".<br>
Coupe: cut (haircut, card deck, cross-section, clothes,...). Not silent "p" due to the following vowel.<br>
<p>
So, some "coups de grâce" may have indeed involved some sort of... cut. Just letting you know about that involuntary, R-rated image of yours :-)<br>
<p>
According to wiktionary, the two words have only one letter difference but totally different origin.<br>
<p>
For completeness:<br>
Grâce: mercy (killing) or thanks (before a meal or in "thanks to you")<br>
Dropping the ^ accent on the â doesn't... hurt much.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951199/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor951772"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 17, 2023 11:10 UTC (Fri)
                               by <b>lproven</b> (guest, #110432)
                              [<a href="/Articles/951772/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; One could even argue that without Itanium Intel would have introduced something x86-64-like sooner.</span><br>
<p>
That's a good point and it's almost certainly true.<br>
<p>
<span class="QuotedText">&gt; Of course a butterfly scenario is what if in this case Intel would have refused to license x86-64 to AMD?</span><br>
<p>
There is an interesting flipside to this. <br>
<p>
There *were* 2 competing x86-64 implementations: when Intel saw how successful AMD's was becoming, it invented its own, _poste haste,_ and presented it secretly to various industry partners. <br>
<p>
Microsoft told it no, reportedly with a comment to the effect of "we are already supporting *one* dead-end 64-bit architecture of yours, and we are absolutely *not* going to support two of them. Yours offers no additional improvements, and AMD64 is clearly winning, and so you must be compatible with the new standard."  <br>
<p>
(This was reported in various forum comments at the time and I can't give any citations, I'm afraid.)<br>
<p>
For clarity, the one dead-end arch I refer to is of course Itanium.<br>
<p>
Intel was extremely unhappy about this and indeed furious but it had contractual obligations with HP and others concerning Itanium so it could not refuse. Allegedly it approached a delighted AMD and licensed its implementation, and issued a very quiet public announcement about it with some bafflegab about existing mutual agreements -- as AMD was already an x86 licensee, had been making x86 chips for some 20 years already, and had extended this as recently as the '386 ISA. Which Intel was *also* very unhappy about, but some US governmental and military deals insisted that there were second sources for x86-32 chips, so it had to.<br>
 <br>
My personal and entirely unsubstantiated notion is that UEFI was Intel's revenge on the x86-64 market for being forced to climb down on this. We'd all have been much better off with OpenFirmware (as used in the OLPC XO-1) or even LinuxBios.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951772/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951775"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 17, 2023 16:24 UTC (Fri)
                               by <b>james</b> (subscriber, #1325)
                              [<a href="/Articles/951775/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <blockquote>
This was reported in various forum comments at the time and I can't give any citations, I'm afraid.
</blockquote>
<a href="http://web.archive.org/web/20031008045240/http://www.theinquirer.net/?article=11781">I can</a>.
<p>
Obviously, neither Microsoft nor Intel have publicly confirmed this, so a quote from Charlie is as good as you're going to get.
<p>
(And I can quite see Microsoft's point: the last thing they wanted was FUD between three different 64-bit instruction sets, with no guarantee as to which was going to win, one of them requiring users to purchase new versions of commercial software to get any performance, and the prospect that you'd then have to buy new versions <em>again</em> if you guessed wrong.<p>
It would have been enough to drive anyone to Open Source.)




      
          <div class="CommentReplyButton">
            <form action="/Articles/951775/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951828"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 17, 2023 17:56 UTC (Fri)
                               by <b>lproven</b> (guest, #110432)
                              [<a href="/Articles/951828/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Oh well done! <br>
<p>
I used to write for the Inq myself back then, too. Never got to meet Charlie, though.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951828/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
<a name="CommAnchor951614"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2023 11:13 UTC (Thu)
                               by <b>anton</b> (subscriber, #25547)
                              [<a href="/Articles/951614/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      The promise of EPIC was also that the hardware would be simpler,
faster and allow wider issue because:

<ul>

<li> The hardware would not have to check for dependences between
  registers in the same instruction group, while an ordinary n-wide
  superscalar RISC (even if in-order) has to check whether any of the
  n next instructions accesses a register that an earlier of those
  instructions writes.  The argument was that this requires quadratic
  effort and does not scale.

<li> The hardware would not have to deal with scheduling and could
  therefore be built to run at higher clockspeeds.  In reality IA-64
  implementations were always at a clock speed disadvantage compared
  to out-of-order AMD64 implementations.  And looking at other
  instances of in-order vs. OoO, OoO usually was competetive or even
  had the upper hand in clock speed.  We saw this from the start with
  the Pentium at 133MHz and the Pentium Pro at 200MHz in 1995.

<li> Compilers have a better understanding of which instructions are on
  the critical path and therefore need to be reordered, whereas
  hardware scheduling just executes ready instructions.  In practice
  compiler knowledge is limited by compilation unit boundaries and
  stuff like indirect calls, cache misses, and, most importantly, by
  the much lower accuracy of static branch prediction compared to
  dynamic (hardware) branch prediction.  Admittedly in 1994 the
  hardware branch predictors had not advanced as far, so one still
  might think at the time that the other expected advantages would compensate
  for that.

  <p>Some people think that the Achilles heel of EPIC is cache misses,
  but the fact that IA-64 implementations prefered smaller (i.e., less
  predictable) L1 caches with lower latency over bigger, more
  predictable L1 caches shows that the compilers have more problems
  dealing with the latency than with the unpredictability.

</ul>

These promises were so seductive that not just Intel and HP, but also
Transmeta's investors burned a lot of money on them, and even in
recent years I have seen people advocating EPIC-like ideas.

<p>One aspect that is often overlooked in these discussions is the
advent of SIMD instructions in general-purpose computers in the
mid-1990s.  The one thing were IA-64 shone was dealing with large
arrays of regular data, but SIMD also works well for that, at lower
hardware cost.  So mainstream computing squeezed EPIC from both sides:
SIMD ate its lunch on throughput computing, while OoO outperformed it
in latency computing.

<p>As for coping with reality, the Pentium 4 was released in November
2000 with a 128-instruction reorder window and SSE2.  This project and
its parameters had been known inside Intel several years in advance,
while Merced (the first Itanium) was released in May 2001 (with 800MHz
while the Pentium 4 was available with 1700MHz at the time).

<p>But of course, by that time, Intel had made promises about IA-64
for several years, and a lot of other companies had invested in Intel's roadmaps, so I guess that Intel could not just say "Sorry, we were
wrong", but they had to continue on the death march.  The relatively
low hardware development activities after the McKinley (2002)
indicates that Intel had mostly given up by that time (but then, how
do we explain Poulson?).







      
          <div class="CommentReplyButton">
            <form action="/Articles/951614/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951703"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2023 15:56 UTC (Thu)
                               by <b>farnz</b> (subscriber, #17727)
                              [<a href="/Articles/951703/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <p>A couple of things:
<ol>
<li>Intel's failure of imagination with compiler technology was a failure to observe that compiler scheduling goes hand-in-glove with hardware scheduling; the original comparison between what a 1994 compiler could generate for the Pentium Pro versus hand-optimized code for a hypothetical EPIC machine should have been redone as the compiler for the EPIC machine improved. Had they done this, they'd have noticed that the compiler improvements needed for EPIC also benefited the Pentium Pro/II/III, and would have been a lot less bullish on IA-64.
<li>The implementations of IA-64 needed a lot of cache, but not low-latency cache, in order to perform adequately; the ISA made it possible to not really care much about latency of instruction fetch (at least in theory), but did require a decent throughput. So, where IA-32 had 1 MiB of L3 cache, Merced had 4 MiB of L3 in the same timescale, and this increased requirement for total cache stayed throughout IA-64's lifetime.
</ol>
<p>I stuck to what Intel should have known in 1995 for two reasons: first because this was before the hype train for IA-64 got properly into motion (and as you've noted, once the hype train got moving, Intel couldn't easily back out of IA-64). Second is that by my read of things like <a href="https://www.sigmicro.org/media/oralhistories/colwell.pdf">this oral history about Bob Colwell's time at Intel</a>, Intel insiders with reason to be heard (had worked on Multiflow, for a start) had already started sounding the alarm about Itanium promises by 1995, and so I don't think it impossible that an alternate history would have had Intel reassessing the chances of success at this point in time.



      
          <div class="CommentReplyButton">
            <form action="/Articles/951703/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951719"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2023 16:56 UTC (Thu)
                               by <b>anton</b> (subscriber, #25547)
                              [<a href="/Articles/951719/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <ol>
<li> I don't think that compiler technology that benefitted IA-64 would have benefitted OoO IA-32 implementations much, for the following reasons: Techniques like basic block instruction scheduling, superblock scheduling, and modulo scheduling (software pipelining) were already known at the time of the Pentium, and the in-order Pentium would have benefitted more from it than the Pentium Pro.  However, these techniques tend to increase the register pressure (IA-64 has 128 integer registers for a reason), and IA-32 has only 8 registers, so applying such techniques could have easily resulted in a slowdown.  

<p>IA-64 also has architectural features for speculation and for dealing with aliases that IA-32 does not have and so an IA-32 compiler cannot not use.  But given the lack of registers, that's moot.

<li>Every CPU profits from more cache for applications that need it (e.g., see the Ryzen 5800X3D), and given main memory latencies of 100 cycles and more, the benefit of OoO execution for that is limited (at that time, but also now).  Itanium (II) got large caches, because a) that's what HP's customer's were used to and b) because even outside HP the initial target market was high end stuff.  Also, given all the promises about superior performance, cache is an easy way to get it on applications that benefit from cache (and if you skimp on it, it's an easy way to make your architecture look bad in certain benchmarks).  So Itanium II (not sure about Itanium) could score at least a few benchmark wins, and its advocates could say: "See, that's what we promised.  And when compilers improve, we will also win the rest."

</ol>





      
          <div class="CommentReplyButton">
            <form action="/Articles/951719/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951729"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2023 18:40 UTC (Thu)
                               by <b>farnz</b> (subscriber, #17727)
                              [<a href="/Articles/951729/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <p>I disagree, in large part because the benefits of EPIC were being touted by comparison of hand-crafted EPIC examples versus compiler output; in other words, Intel could reasonably (by 1995) have had an EPIC compiler, and be showing that it was a long way short of the needed quality to meet hand-crafted examples. I'd also note that the techniques that would be needed to make EPIC compilers meet the hand-crafted examples go well beyond today's state of the art.
<p>And underlying this is the degree to which EPIC was focused on impractical "if only software would do better" situations, not on the real world.


      
          <div class="CommentReplyButton">
            <form action="/Articles/951729/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor952141"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 21, 2023 20:25 UTC (Tue)
                               by <b>JohnDallman</b> (guest, #168141)
                              [<a href="/Articles/952141/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I spent 1999-2003 porting a mathematical modeller to Itanium on Windows and HP-UX. I was one of the first to ship commercial software on Itanium, but it never made any money. The only positives from the work were educational. I had a lot of contact with Intel, and an excellent engineering contact, and got some insight into their thinking. <br>
<p>
They never had a real plan for how to make compilers discover the parallelization opportunities that they wanted to exist in single-threaded code. The intention was to have a horde of developers, and discover lots of heuristics that would add up to that. Essentially, a fantasy, but it meant the compiler team got to add more people and its managers got career progression. This had started early in the project, when the compiler people claimed "we can handle that" for many of the difficulties in hardware design.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/952141/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor951818"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 17, 2023 14:57 UTC (Fri)
                               by <b>foom</b> (subscriber, #14868)
                              [<a href="/Articles/951818/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
When I first read about itanium, I thought that surely Intel must be targeting it to JIT-compiled languages, and just didn't care that much about ahead-of-time compiled languages. (Java is the future, right?)<br>
<p>
Because, in the context of a JIT, many of the impossible static scheduling problems of the in order EPIC architecture seem to go away.<br>
<p>
You can have the CPU _measure_ the latencies, stalls, dependencies, etc, and then have software just reorder the function so the next executions are more optimally arranged to take advantage of that observed behavior. You should be able to make more complex and flexible decisions in your software JIT than e.g. a hardware branch predictor can do, while still being able to react to changing dynamic execution conditions unlike AOT compiled code.<br>
<p>
But, I guess Transmeta thought so too; their architecture was to have a software JIT compiler translating from X86 to a private internal EPIC ISA. And that didn't really work either...<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951818/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951823"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure (to cancel the project when it was first failing)</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 17, 2023 15:44 UTC (Fri)
                               by <b>paulj</b> (subscriber, #341)
                              [<a href="/Articles/951823/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
If hardware can apply an optimisation, a software JIT should be able to as well. The question must then be:<br>
<p>
- Can the transistors (and pipeline depth) saved in hardware then be used to gain performance?<br>
<p>
Transmeta did well on power, but was not fast. Which suggests the primary benefit is an increase in performance/watt from the transistor savings - not outright performance. Either that, or Transmeta simply didn't have the resources (design time, expertise) to use the extra transistor budget / simpler pipeline to improve outright performance. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951823/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor951178"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 12, 2023 7:37 UTC (Sun)
                               by <b>epa</b> (subscriber, #39769)
                              [<a href="/Articles/951178/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
With what we have learned from Spectre and Meltdown, weren’t there at least some advantages in having superscalar and speculative execution under control of the compiler?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951178/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951612"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2023 9:30 UTC (Thu)
                               by <b>anton</b> (subscriber, #25547)
                              [<a href="/Articles/951612/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      You get Spectre with compiler-based speculation just as you do it with hardware-based speculation.  And there are ways (called "invisible speculation" in the literature) to fix Spectre for hardware speculation that do not cost much performance; for compiler-based speculation I think this would need architectural extensions for identifying what instructions are part of what speculation.

<p>Meltdown would indeed not have happened with compiler-based speculation: The hardware does not know that the instruction is speculative, so it would observe permissions unconditionally.  But, e.g., AMD's microarchitectures never had Meltdown, and it was relatively quickly fixed in Intel's microarchitectures, so I don't see that as an advantage of compiler-based speculation.


      
          <div class="CommentReplyButton">
            <form action="/Articles/951612/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951623"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2023 10:55 UTC (Thu)
                               by <b>paulj</b> (subscriber, #341)
                              [<a href="/Articles/951623/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Quickly fixed, but at a substantial performance cost. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951623/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951642"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2023 13:06 UTC (Thu)
                               by <b>anton</b> (subscriber, #25547)
                              [<a href="/Articles/951642/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      What performance cost?  Skylake, Kaby Lake, and Coffee Lake are affected, Whiskey Lake, Comet Lake, and Amber Lake with are not.  They are all based on the Skylake microarchitecture and have the same IPC, and they have a <a href="https://en.wikipedia.org/wiki/Comet_Lake">higher turbo clock rate</a>.  Apparently Intel's engineers managed to add the necessay multiplexer for suppressing the invalid speculative result (or however they did it) without increasing the cycle time.


      
          <div class="CommentReplyButton">
            <form action="/Articles/951642/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951702"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2023 14:04 UTC (Thu)
                               by <b>paulj</b> (subscriber, #341)
                              [<a href="/Articles/951702/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Ah, I was referring to the software fixes for the affected hardware. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951702/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor951624"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2023 12:15 UTC (Thu)
                               by <b>farnz</b> (subscriber, #17727)
                              [<a href="/Articles/951624/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <p>Ultimately, all the variants of Spectre boil down to "there is a security boundary here, and the CPU ignores that security boundary while executing speculatively". Sometimes that security boundary is something the CPU has no excuse for not knowing about (kernel mode versus user mode, for example); other times, it's something like the boundary between a JavaScript interpreter and its JITted code, where the boundary exists only as a software construct.
<p>And the thing EPIC demonstrated very clearly (it has both compiler-based speculation and compiler-based parallelism) is that any compiler rearrangement of code to support explicit speculation and parallelism also benefits implicit speculation and parallelism done by an OoOE CPU. Thus, what we really want for both high performance and high security is for the processor to be told where there's a security boundary, so that it can restrict its speculation where there's a possibility of a timing-based leak across the boundary.
<p>Further, EPIC is not invulnerable to speculation-based attacks; nothing prevents a compiler from issuing a speculative or advanced load, then calling a function, then checking the result of the load later, other than the likelihood that speculation will not have succeeded due to the function call.


      
          <div class="CommentReplyButton">
            <form action="/Articles/951624/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor951657"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">EPIC failure</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2023 13:10 UTC (Thu)
                               by <b>anton</b> (subscriber, #25547)
                              [<a href="/Articles/951657/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Another approach (taken by the "invisible speculation" work) is to never let any misspeculated work influence anything that is measurable in the same thread or others.  In that case you do not need to identify any boundaries.  Wherever they are, the secrets are not revealed through side effects of speculation.


      
          <div class="CommentReplyButton">
            <form action="/Articles/951657/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
<a name="CommAnchor951103"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2023 20:52 UTC (Fri)
                               by <b>cschaufler</b> (subscriber, #126555)
                              [<a href="/Articles/951103/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The Itanium processer was to computing what the Caproni Ca.60 Transaereo was to airliners.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951103/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor951739"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The push to save Itanium</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2023 18:05 UTC (Thu)
                               by <b>professor</b> (subscriber, #63325)
                              [<a href="/Articles/951739/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
OpenVMS on HP blade servers with Itanium is the last thing i was doing in this area.<br>
<p>
Now they are porting OpenVMS to x86.<br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/951739/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2023, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
