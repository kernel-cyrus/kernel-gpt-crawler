        <!DOCTYPE html>
        <html lang="en">
        <head><title>2.6.35 merge window part 3 [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/389932/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/389474/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/389932/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>2.6.35 merge window part 3</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>We're bad at marketing</b>
<p>
We can admit it, marketing is not our strong suit. Our strength is
writing the kind of articles that developers, administrators, and
free-software supporters depend on to know what is going on in the
Linux world. Please <a href="/Promo/nsn-bad/subscribe">subscribe today</a> to help us keep doing that, and so
we donâ€™t have to get good at marketing.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>May 31, 2010</br>
           </div>
The 2.6.35 merge window was closed with <a
href="http://lwn.net/Articles/389982/">the 2.6.35-rc1 release</a> on
May&nbsp;30.  A relatively small number of changes have been merged since
<a href="http://lwn.net/Articles/388959/">last week's summary</a>; the most
significant are summarized here.
<p>
User-visible changes include:
<p>
<ul>

<p>
<li> The "ramoops" driver allows the system to record oops information 
     in persistent RAM for recovery later.
<p>
<li> The Btrfs filesystem has gained basic direct I/O support.
<p>
<li> The FUSE filesystem now enables user-space filesystem implementations
     to transfer data with the <tt>splice()</tt> system call, avoiding a
     copy operation.
<p>

<li> A new, non-ACPI CPU-idle mechanism for Intel processors has been added
     on an experimental basis.  It seems that, with enough cleverness, it's
     possible to save more power by handling idle states directly instead
     of letting the ACPI BIOS do it.
<p>
<li> There are a few new drivers:
     ST-Ericsson AB8500 power management IC RTC chips,
     SMSC EMC1403 thermal sensors,
     Texas Instruments TMP102 sensors,
     MC13783 PMIC LED controllers,
     Cirrus EP93xx backlight controllers,
     ADP8860 backlight controllers,
     RDC R-321x GPIO controllers,
     Janz VMOD-TTL digital I/O modules,
     Janz VMOD-ICAN3 Intelligent CAN controllers,
     TPS6507x based power management chips and touchscreen controllers,
     ST-Ericsson AB3550 mixed signal circuit devices,
     AB8500 power management chips (replacing existing driver),
     S6E63M0 AMOLED panels, and
     NXP PCF50633 MFD backlight controllers.

</ul>
<p>
Changes visible to kernel developers include:
<p>
<ul>

<li> The user-mode helper API (used by the kernel to run programs in user
     space) has changed somewhat.
     <tt>call_usermodhelper_setcleanup()</tt> has become:
<p>
<pre>
     void call_usermodehelper_setfns(struct subprocess_info *info,
		    int (*init)(struct subprocess_info *info),
		    void (*cleanup)(struct subprocess_info *info),
		    void *data);
</pre>
<p>
The new <tt>init()</tt> function will be called from the helper process
just before executing the helper function.  There is also a new function:
<p>
<pre>
     call_usermodehelper_fns(char *path, char **argv, char **envp,
			     enum umh_wait wait,
			     int (*init)(struct subprocess_info *info),
			     void (*cleanup)(struct subprocess_info *), void *data)
</pre>
<p>

This variant is like <tt>call_usermodhelper()</tt> but it allows the
specification of the initialization and cleanup functions at the same
time. 
<p>

<li> The <tt>fsync()</tt> member of <tt>struct file_operations</tt> has
     lost its <tt>struct dentry</tt> pointer argument, which was not used
     by any implementations.
<p>
<li> The <a href="http://lwn.net/Articles/341352/">new truncate sequence
     patches</a> have been merged, changing how <tt>truncate()</tt> is
     handled in the VFS layer.


</ul>
<p>
As is always the case, a few things were <i>not</i> merged.  In the end,
suspend blockers did not make it; there was really no question of that
given the way the discussion went toward the end of the merge window.  The
<a href="http://lwn.net/Articles/360955/">fanotify</a> file notification
interface did not go in, despite the lack of public opposition.  Also not
merged was the <a href="http://lwn.net/Articles/387257/">latest uprobes
posting</a>.  <a href="http://lwn.net/Articles/355700/">Concurrency-managed
workqueues</a> remain outside of the mainline, as does a set of patches
meant to prepare the ground for that feature.  <a
href="http://lwn.net/Articles/359158/">Transparent hugepages</a> did not go
in, but it was probably a bit early for that code in any case.  The <a
href="http://lwn.net/Articles/375888/">open by handle</a> system calls went
through a bunch of revisions prior to and during the merge window, but
remain unmerged.
A number of these features
can be expected to try again in 2.6.36; others will probably vanish.

<p>
All told, some 8,113 non-merge changesets were accepted during the 2.6.35
merge window - distinctly more than the 6,032 merged during the 2.6.34
window.  Linus's announcement suggests that a few more changes might 
make their way in after the -rc1 release, but that number will be small.
Almost exactly 1000 developers have participated in this development cycle
so far.  As Linus noted in the 2.6.35-rc1 announcement, the development
process continues to look healthy.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-2.6.35">Releases/2.6.35</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/389932/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor390099"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.35 merge window part 3</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted May 31, 2010 17:11 UTC (Mon)
                               by <b>jengelh</b> (subscriber, #33263)
                              [<a href="/Articles/390099/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I hope we'll have a Who Wrote 2.6.35 then.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/390099/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor390102"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Who wrote 2.6.35</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted May 31, 2010 17:26 UTC (Mon)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/390102/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Certainly there will be a "who wrote" article - it's traditional!  That needs to come later in the development cycle, though; experience shows that about 25% of the total changes are yet to be merged...
      
          <div class="CommentReplyButton">
            <form action="/Articles/390102/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor390246"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.35 merge window -- performance regression</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 1, 2010 9:48 UTC (Tue)
                               by <b>leonov</b> (guest, #6295)
                              [<a href="/Articles/390246/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Phoronix published some interesting regressions on the 2.6.35 kernel.  I'm sure it's being dealt with, I just found it a nice example of the value of automated testing.<br>
<p>
<a href="http://www.phoronix.com/scan.php?page=article&amp;item=linux_2635_fail&amp;num=1">http://www.phoronix.com/scan.php?page=article&amp;item=li...</a><br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/390246/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor390268"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.35 merge window -- performance regression</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 1, 2010 11:19 UTC (Tue)
                               by <b>patrick_g</b> (subscriber, #44470)
                              [<a href="/Articles/390268/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Perhaps you will be interested by these 3 posts on the LKML:<br>
<p>
<a href="http://lkml.org/lkml/2010/5/31/415">http://lkml.org/lkml/2010/5/31/415</a><br>
<a href="http://lkml.org/lkml/2010/6/1/4">http://lkml.org/lkml/2010/6/1/4</a><br>
<a href="http://lkml.org/lkml/2010/6/1/45">http://lkml.org/lkml/2010/6/1/45</a><br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/390268/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor390416"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.35 merge window -- performance regression</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 1, 2010 21:47 UTC (Tue)
                               by <b>einstein</b> (guest, #2052)
                              [<a href="/Articles/390416/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Ingo's response was the wisest and most reasonable. The others sounded rather defensive.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/390416/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor391250"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.35 merge window -- performance regression</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 8, 2010 0:12 UTC (Tue)
                               by <b>mlankhorst</b> (subscriber, #52260)
                              [<a href="/Articles/391250/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
If you ever read phoronix you would agree with airlied :)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/391250/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor390910"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.35 merge window part 3</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 3, 2010 18:50 UTC (Thu)
                               by <b>MisterIO</b> (guest, #36192)
                              [<a href="/Articles/390910/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
What's holding back the concurrency-managed workqueues code? Does anybody know?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/390910/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2010, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
