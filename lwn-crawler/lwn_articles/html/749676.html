        <!DOCTYPE html>
        <html lang="en">
        <head><title>Two perspectives on the maintainer relationship [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/749676/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/749372/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/749676/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>Two perspectives on the maintainer relationship</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>We're bad at marketing</b>
<p>
We can admit it, marketing is not our strong suit. Our strength is
writing the kind of articles that developers, administrators, and
free-software supporters depend on to know what is going on in the
Linux world. Please <a href="/Promo/nsn-bad/subscribe">subscribe today</a> to help us keep doing that, and so
we don’t have to get good at marketing.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>March 20, 2018</br>
           <hr>
<a href="/Archives/ConferenceByYear/#2018-Embedded_Linux_Conference">ELC</a>
</div>
Developers and maintainers of free-software projects are drawn from
the same pool of people, and maintainers in one project are often developers
in another, but there is still a certain amount of friction between the
two groups.  Maintainers depend on developers to contribute changes, but
the two groups have a different set of incentives when it comes to reviewing and
accepting those changes.  Two talks at the 2018 Embedded Linux Conference
shed some light on this relationship and how it can be made to work more
smoothly.
<p>
<h4>A developer's view</h4>
<p>
Gilad Ben-Yossef is the developer of the TrustZone CryptoCell device
driver, which is slated to move into the mainline in the 4.17 cycle after a
period in 
the staging tree.  Staging, he said, is a place for code that is "on
probation", waiting to see if it can be brought up to the kernel's
standards for mainline code.  Getting the CryptoCell driver out of staging
was a sometimes difficult and frustrating process but, at the end, he came
to a surprising realization: during that process, 30% of the code had been
removed from the driver with no loss in functionality.  This was a good
thing and a nice benefit from the kernel's code-review processes, but it
was also discouraging in that 30% of the code he started with was worthless
— or worse.
<p>
So where did all of this extra code come from?  He identified seven
different types of useless code, the first of which was described as
"reinventing the wheel".  Much of the code in the driver was reimplementing
functionality that was already available elsewhere in the kernel.  When

<a href="/Articles/749677/"><img
src="https://static.lwn.net/images/conf/2018/elc/GiladBenYossef-sm.jpg" alt="[Gilad Ben-Yossef]"
title="Gilad Ben-Yossef" class="rthumb"></a>

looking at code, he said, developers should always be asking themselves
whether the problem being solved is truly unique to the subsystem in
question.  If not, it's time to look at what other subsystems do; sometimes
a useful API will be found in the process.  At other times, of course, it
falls on the developer to create that API.
<p>
Much of the code in the CryptoCell driver was there for backward
compatibility, using what he called a "back to the future" approach where a
lot of <tt>#ifdef</tt> blocks were employed to isolate kernel-version-specific
code.  The better approach, he found, was to simply base the driver on the
current mainline kernel and to have that driver support all versions of the
device in question.  That driver can then be backported to older kernel
versions if necessary, with help from the tools at <a
href="https://backports.wiki.kernel.org/">backports.wiki.kernel.org</a>.
The process is mostly automated and nearly painless, and it allows a lot of
code to be removed from the upstream driver.
<p>
Another source of code bloat is the use of the wrong API.  The CryptoCell
driver was using sysfs to export what was essentially debugging
information, for example.  Switching to debugfs accomplished the same thing
with ¼ of the code.
<p>
The next problem was "duct tape".  The crypto layer supports both
<a
href="https://static.lwn.net/kerneldoc/crypto/architecture.html#synchronous-and-asynchronous-operation">synchronous
and asynchronous APIs</a>, and drivers can implement one or both of 
those interfaces.  The CryptoCell driver  supported the
asychronous API, which is a better fit to the hardware, but some of the
more important users (such as the <tt>dm-verity</tt> target) expected the
synchronous API.  Supporting both in CryptoCell led to an "ugly and
unstable" solution.  The better solution was to convert <tt>dm-verity</tt>
to the asynchronous API.  The lesson here is to fix problems at their
source rather than working around them in driver code.
<p>
The driver included a fair amount of "macro gymnastics" that were mostly
the result of trying to implement a hardware abstraction layer.  These
layers have a bad reputation in the kernel community; they tend to
lead to poor performance and driver code that is harder to maintain.  The
solution was to simply rip all of that stuff out.  Whenever you see a lot
of wrappers, he said, you should be asking whether they make sense.
<p>
"Zombie code" is surprisingly prevalent, despite the normal expectations
that a maintained driver wouldn't have much unused code.  Some of the code
that was found had never been used.  This code should always come out;
removed code cannot be used against you, he said.  This is especially
important given the Spectre vulnerability, where even code that is never
called can be made to execute speculatively.
<p>
Finally, "don't repeat yourself" is "programming 101", but unneeded
repetition of code tends to happen anyway.  Copy-and-paste is a way of
life.  Such code should be pulled together and generalized as needed; the
result will be a much shorter driver.
<p>
While Ben-Yossef talked mostly about the ways in which he was able to reduce
the size of the driver, the key point from the talk was something else.
Taking out all of that code improved the quality of the driver
considerably, and all of those benefits were a direct result of the process
of upstreaming the driver into the mainline kernel.  Upstreaming is not
just the right thing to do; it has a huge positive effect on the quality of
the code itself.  It is a way to get the attention of a community of
experts, all of whom are working to improve the quality of the kernel
altogether.  While the process was frustrating at times, it was all
worthwhile in the end.
<p>
<h4>The maintainer's paradox</h4>
<p>
Tim Bird has been a member of the embedded Linux community for a long time,
but he had not worked in a maintainer role until he took over
responsibility for the <a href="http://fuegotest.org/">Fuego</a> project.
That gave him a different 
perspective on how the community works that he shared in a keynote
presentation.
<p>
As a maintainer, he is excited to see new contributions to the project show
up on the mailing lists.  He appreciates new ideas and new contributors.
But he also approaches new contributions with a bit of fear and

<a href="/Articles/749678/"><img
src="https://static.lwn.net/images/conf/2018/elc/TimBird-sm.jpg" alt="[Tim Bird]"
title="Tim Bird" class="lthumb"></a>

trepidation; a new patch set can create an instinctive "oh no" response.
The problem is mostly a matter of finding the time to do a proper job of
looking at each contribution.  He wants to do it well, providing careful
review and appropriate feedback, but doing that turns out to be a lot of
work.  He had set a goal for himself to respond to all patches within
24&nbsp;hours; while that was a great goal, it was also totally
unrealistic.
<p>
The experience of being a maintainer, he said, can be overwhelming; his
experience has caused him to rethink the times that he has gotten annoyed
with maintainers in the past.  
A patch contribution is a bit like getting a puppy; we all want one, but
don't always think about how much work is involved.
<p>
The community, he said, likes to think that its decisions are based
entirely on merit.  In truth, there is also an important social element
involved in working in the development community.  Despite our efforts to
just review code and judge it on its own merits, there are personalities
involved.  As a result, we see snippy answers and negative things happening
in our communication channels.  He referred to <a href="/Articles/745817/">Daniel Vetter's
recent talk</a> as a description of how things can go wrong, while noting that
he didn't agree with everything that was said there.
<p>
There are a few things we can do to help reduce the amount of negativity in
our community, he said.  We should call out negative communication when we
see it.  That is sometimes best done in private, but it can sometimes be
necessary to do it publicly when things get especially bad.  In the
presence of continued problems, the best thing is often to route around
persistent offenders.  That is relatively easy to do in subsystems that
have group maintainership, a model which not only gives contributors
multiple paths to acceptance but also relieves the stress on the
maintainers themselves.
<p>
Maintainers and developers should always listen carefully and make active
efforts to clarify the message they are receiving.  Many problems have
simple miscommunication at their root, he said.  Any developer can assist
maintainers by answering questions when they are asked and helping other
developers in general.  And, finally, developers should become maintainers
as well, so that they, too, can "enjoy this overwhelming feeling".
<p>
Bird closed with a plea to everybody in the room: find something to do in
the community.  There are roles for everybody out there, and there is no
shortage of work to be done.  In his 25&nbsp;years of experience, he has
never found anything quite like the kernel community.  It is a place where
anybody can contribute and create value for humanity as a whole.


<p>
[Thanks to the Linux Foundation, LWN's travel sponsor, for supporting your
editor's travel to ELC.]<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Development_model">Development model</a></td></tr>
            <tr><td><a href="/Archives/ConferenceIndex/">Conference</a></td><td><a href="/Archives/ConferenceIndex/#Embedded_Linux_Conference-2018">Embedded Linux Conference/2018</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/749676/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor749920"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Two perspectives on the maintainer relationship</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 22, 2018 5:11 UTC (Thu)
                               by <b>hifi</b> (guest, #109741)
                              [<a href="/Articles/749920/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
As someone who has been on both sides in smaller scale what I think contributors *really* want is just an ack that their patch/PR has been seen so they know they weren't forgotten, even if a full review takes a week or more. On a mailing list this would require sending a brief "will review later" kind of response.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/749920/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor749943"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Two perspectives on the maintainer relationship</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 22, 2018 13:12 UTC (Thu)
                               by <b>pm215</b> (subscriber, #98099)
                              [<a href="/Articles/749943/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yes, I think there's a lot to be said for a quick first response. Sage Sharp's proposal of 'three phase' code review (<a href="http://sage.thesharps.us/2014/09/01/the-gentle-art-of-patch-review/">http://sage.thesharps.us/2014/09/01/the-gentle-art-of-pat...</a>) has this as one of its effects. (I really like the idea of 3-phase review but I've struggled with actually doing it in practice.)<br>
<p>
One awkward dilemma with the quick-ack or quick-review is that I don't want to be doing all the code review for things I maintain, so sometimes I end up deliberately not replying to patches in the hope that somebody else will do the review...<br>
<p>
I also find that the traditional "patches on a mailing list" approach makes it harder  to track patches that need some kind of initial response or which have fallen through the cracks and not got any response at all -- does anybody have good tooling for that sort of thing?<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/749943/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor749999"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Two perspectives on the maintainer relationship</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 23, 2018 6:31 UTC (Fri)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/749999/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; I also find that the traditional "patches on a mailing list" approach makes it harder to track patches that need some kind of initial response or which have fallen through the cracks and not got any response at all -- does anybody have good tooling for that sort of thing?</font><br>
<p>
Like... any code review tool? <a href="https://lwn.net/Articles/702177/">https://lwn.net/Articles/702177/</a><br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/749999/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2018, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
