        <!DOCTYPE html>
        <html lang="en">
        <head><title>News from the staging tree [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/351480/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/350463/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/351480/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>News from the staging tree</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Ready to give LWN a try?</b>
<p>
With a subscription to LWN, you can stay current with what is happening in the Linux and free-software community and take advantage of subscriber-only site features.  We are pleased to offer you <b><a href="https://lwn.net/Promo/nst-trial/claim">a free trial subscription</a></b>, no credit card required, so that you can see for yourself.  Please, join us!
</blockquote>
<div class="FeatureByline">
           By <b>Jake Edge</b><br>September 9, 2009</br>
           </div>
<p> The staging tree has made a lot of progress since it <a
href="/Articles/285594/">appeared</a> in June 2008.  To start with, the
tree itself quickly <a href="/Articles/301192/">moved into the mainline</a>
in October 2008; it also has accumulated more than 40 drivers of various
sorts.  Staging is an outgrowth of the <a
href="http://www.linuxdriverproject.org">Linux Driver Project</a> that is
meant to collect drivers, and other "standalone" code such as filesystems,
that are not yet ready for the mainline. But, it was never meant to be a
"<q>dumping ground for dead 
code</q>", as staging maintainer Greg Kroah-Hartman <a
href="/Articles/350590/">put it</a> in a recent status update.  Code that
is not being improved, so that it can move into the mainline, will be
removed from the tree.  </p>

<p>
Some of the code that is, at least currently, slated for removal includes
some fairly high-profile drivers, including one from Microsoft that was
released with great <a
href="http://www.microsoft.com/presspass/features/2009/jul09/07-20linuxqa.mspx">fanfare</a>
in July.  After a massive cleanup that resulted in more than 200 patches to
get the code "<q>into a semi-sane kernel coding style</q>",
Kroah-Hartman said that it may have to be removed in six months or so:
<div class="BigQuote">
Unfortunately the Microsoft developers
seem to have disappeared, and no one is answering my emails.
If they do not show back up to claim this driver soon, it will
be removed in the 2.6.33 release.  So sad...
</div>
</p>

<p> Microsoft is certainly not alone in Kroah-Hartman's report&mdash;which
details the status of the tree for the upcoming 2.6.32 merge
window&mdash;as several other large companies' drivers are in roughly the
same boat.  Drivers for Android hardware (<tt>staging/android</tt>),
Intel's Management Engine Interface (MEI) hardware (<tt>staging/heci</tt>),
among others were called out in the report.  Both are slated
for removal, <tt>android</tt> for 2.6.32, and <tt>heci</tt> in 2.6.33
(presumably).  The latter provides an excellent example of how not to
do Linux driver development:

<div class="BigQuote">
A wonderful example of a company throwing code over the
wall, watching it get rejected, and then running away as fast
as possible, all the while yelling over their shoulder, "it's
required on all new systems, you will love it!"  We don't, it
sucks, either fix it up, or I am removing it.
</div>
</p>

<p>
Kroah-Hartman's lengthy report covers more than just drivers that may be
removed; it also looks at those that have made progress, including some
that should be moving to the mainline, as well as new drivers that are
being added to staging.  But the list of drivers that aren't being actively
worked on is roughly as long as the other two lists combined, which is
clearly suboptimal.
</p>

<p>
Presumably to see if folks read all the way through,
Kroah-Hartman sprinkles a few laughs in an otherwise dry summary.  For the
<tt>me4000</tt> and <tt>meilhaus</tt> drivers, he notes that there is no
reason to continue those drivers "<q>except to watch the RT guys squirm
as they try to figure out the byzantine locking and build logic here (which
certainly does count for something, cheap entertainment is
always good.)</q>"
</p>

<p>
He also notes several drivers that are in the inactive category, but are
quite close to being merge-worthy.  He suggests that developers looking
for a way to contribute consider drivers such as <tt>asus_oled</tt> (Asus
OLED display),
<tt>frontier</tt> (Frontier digital audio workstation controller),
<tt>line6</tt> (PODxt Pro audio effects modeler), <tt>mimio</tt> (Mimio Xi
interactive whiteboard), and <tt>panel</tt> (parallel port LCD/keypad).
Each of those should be relatively easy to get into shape for inclusion in
the mainline.
</p>

<p> There are a fair number of new drivers being added for 2.6.32,
including the Microsoft Hyper-V drivers (<tt>staging/hv</tt>) mentioned
earlier, as well as VME bus drivers (<tt>staging/vme</tt>), the industrial
I/O subsystem (<tt>staging/iio</tt>), and several wireless drivers (VIA
vt6655 and vt6656, Realtek rtl8192e, and Ralink 3090).  Also,
"<q>another COW driver</q>" is being added: the Cowloop copy-on-write
pseudo block driver 
(<tt>staging/cowloop</tt>).

<p>
Two of  
Evgeniy Polyakov's projects&mdash;mistakenly listed in the "new driver"
section though they were added in 2.6.30&mdash;were also mentioned.
The distributed storage (DST)
network block device (<tt>staging/dst</tt>), which Kroah-Hartman notes may
be "<q>dead</q>" is a candidate for removal, while the distributed
filesystem POHMELFS (<tt>staging/pohmelfs</tt>) is mostly being
worked on out-of-tree.  Polyakov <a
href="http://www.ioremap.net/node/350">agrees that DST is not needed in the
mainline</a>, but is wondering about moving POHMELFS out of staging and
into <tt>fs/</tt>.  Since there are extensive changes on the way for
POHMELFS, 
it is unlikely to move out of staging for another few kernel releases at
least.  </p>

<p>
There was also praise for the work on various drivers which have been
actively worked on over the last few months.   Bartlomiej Zolnierkiewicz
was singled out for his work on <tt>rt*</tt> and <tt>rtl*</tt> wireless
drivers (which put him atop the <a
href="http://lwn.net/Articles/348445/">list of most active 2.6.31
developers</a>), along with Alan Cox for work on the <tt>et131x</tt> driver
for the 
Agere gigabit Ethernet adapter.  Johannes Berg <a
href="/Articles/351566/">noted</a> that much of Zolnierkiewicz's work on
the <tt>rt*</tt> drivers "<q>will have been in vain</q>" because of
the progress being made by the rt2x00 project.  But that <a
href="/Articles/351567/">doesn't faze</a> Zolnierkiewicz:
<div class="BigQuote">
The end goal of this work has always been having native rt2x00 support
for all those chipsets (as have been explained multiple times).  If this
means that one day we will delete all Ralink drivers in staging in favor
of proper wireless drivers -- fine with me.
<p>
In the meantime (before clean and proper support becomes useful) Linux
users are provided with the possibility to use their hardware before it
becomes obsolete.
</div>
</p>

<p>
At least one developer stepped up to work on one of the inactive drivers (<tt>asus_oled</tt>) in
the thread.  In addition, Willy Tarreau <a
href="/Articles/351568/">mentioned</a> that he had heard from another who
was working on <tt>panel</tt>, telling Kroah-Hartman: "<q>This
proves that the principle of the staging tree seems to work</q>". 
</p>

<p>
Overall, the staging tree seems to be doing exactly what Kroah-Hartman and
others envisioned.  Adding staging into the mainline, which raised the
profile and availability of those drivers, has led to a fair amount of
cleanup work, some of which has resulted in the drivers themselves moving
out of staging and into the mainline.  Some drivers seem to be falling by
the wayside, but one would guess that Kroah-Hartman would welcome them back
into the tree should anyone show up to work on them.  In the meantime, the
code certainly hasn't suffered from whatever fixes various kernel
hackers found time to do. Those changes will be waiting for anyone who
wants to pick that code back up, even if it is no longer part of staging. 
</p><br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Development_model-Driver_merging">Development model/Driver merging</a></td></tr>
            <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Staging_tree">Staging tree</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/351480/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor351845"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">News from the staging tree</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 10, 2009 6:36 UTC (Thu)
                               by <b>ErikA</b> (guest, #53177)
                              [<a href="/Articles/351845/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I don't see the rush of deprecating drivers once they're in the staging tree.<br>
Let them sit there for a couple of years and see if anyone comes around to pick one up.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/351845/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor351913"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">News from the staging tree</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 10, 2009 12:59 UTC (Thu)
                               by <b>xav</b> (guest, #18536)
                              [<a href="/Articles/351913/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Nope, otherwise staging will be the place for crappy drivers that no one wants to maintain but that people need anyway for their hardware.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/351913/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor352085"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">News from the staging tree</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 10, 2009 23:20 UTC (Thu)
                               by <b>giraffedata</b> (guest, #1954)
                              [<a href="/Articles/352085/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <blockquote>
Nope, otherwise staging will be the place for crappy drivers that no one wants to maintain but that people need anyway for their hardware.
</blockquote>
<p>
You didn't say why that's a problem.

      
          <div class="CommentReplyButton">
            <form action="/Articles/352085/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor352123"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">News from the staging tree</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 11, 2009 8:06 UTC (Fri)
                               by <b>xav</b> (guest, #18536)
                              [<a href="/Articles/352123/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The 'staging' tree is there precisely to avoid dumping low-quality drivers in the kernel. These drivers are in a controlled environment where they are either fixed then integrated in the main tree, or dumped after a while.<br>
<p>
If they can stay there indefinately, there will be no motivation to fix them because, well, they're already in the kernel and they kind of work.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/352123/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor352088"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">News from the staging tree</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 11, 2009 0:07 UTC (Fri)
                               by <b>hmh</b> (subscriber, #3838)
                              [<a href="/Articles/352088/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
staging drivers:<br>
<p>
1) reduce the system stability (they're called "crap" for a reason)<br>
<p>
2) give subpar performance/user-experience/functionality<br>
<p>
So, if a driver is crap, and it is not doing any progress towards a higher, less crappy state of being, it will be removed.<br>
<p>
It is in the rules of engagement for the staging tree, and it is a way to pressure people and manufacturers into improving crap drivers, before they go stale for too long, and decay into the "toxic waste" level.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/352088/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor352154"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">News from the staging tree</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 11, 2009 14:21 UTC (Fri)
                               by <b>zander76</b> (guest, #6889)
                              [<a href="/Articles/352154/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
[QUOTE]:<br>
A wonderful example of a company throwing code over the wall, watching it get rejected, and then running away as fast as possible, all the while yelling over their shoulder, "it's required on all new systems, you will love it!" We don't, it sucks, either fix it up, or I am removing it. <br>
[/QUOTE]<br>
<p>
This is one example of linux kernel development being full of themselves. Yeah, sure thats one way to look at it. Another way would be "throw code over wall after spending time getting your boss to let you release the code and move on to what you are suppost to be working on before you get fired!!" <br>
<p>
It take a lot of time and effort to convince your boss that releasing code to the linux community is a good thing but they don't want to pay you to work on a linux project when you have other stuff to do. If people like it or can use any of it then great if not ohh well. <br>
<p>
To put it briefly, some of us don't work in the open source community or even use open source software at work so there is absolutely NO incentive for our boss to allow us to release anything let alone do continual work on it. Would be nicer if people would accept what it is and that is "hey, thanks for the example code, if someone is interested in working on that they can have a look at what you released"<br>
<p>
<p>
<p>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/352154/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor352193"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">News from the staging tree</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 11, 2009 17:21 UTC (Fri)
                               by <b>martinfick</b> (subscriber, #4455)
                              [<a href="/Articles/352193/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
While your perspective is a good one, it does not really apply to the quote above.  Sure, it is a great thing when a company releases source code, no matter what!<br>
<p>
But if you pay attention to the 2nd half of the quote, it implies an expectation on the part of the releaser, that's the complaint.  In other words, no one is complaining that a company released code, they are complaining that certain companies release code and expect it to make it into mainline so that this same company can later benefit from this code being in mainline for future projects (note the: "it's required on all new systems").  <br>
<p>
This requires a two way interactive model; as others have pointed out, that seems to be the point of the staging tree.  The kernel devs do NOT expect the companies to do all the work on their own (that's why it goes in the staging tree, to get kernel devs involved).  But this also means that the kernel devs have not yet taken up maintainership of the code since it is not yet in mainline.  They expect the company to be involved working with the devs to bring it up to par.  Once it is up to par, I suspect that it is more acceptable to rely on the kernel devs to keep it up to date with the changing mainline kernel, but not before.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/352193/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor352280"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">News from the staging tree</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 12, 2009 4:03 UTC (Sat)
                               by <b>zander76</b> (guest, #6889)
                              [<a href="/Articles/352280/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
After reading the quote a few times I see your point. I guess it depended on how you read "Its required on all new systems". I read it more alone the lines of the hardware has changed so if you want to support the new hardware you can make it work. After re-reading it I can see that it can be taken as "We need it on all our new systems so merge this". <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/352280/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor352403"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">News from the staging tree</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 13, 2009 2:53 UTC (Sun)
                               by <b>gregkh</b> (subscriber, #8)
                              [<a href="/Articles/352403/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
My word, I feel like this is 8th grade poetry class, where everyone <br>
is trying to interpret the phrase and meaning of every single line.<br>
<p>
That was a summary of over 40 drivers, and was a very long message.  If anyone wants any specific clarification, did anyone think to actually<br>
ask me?<br>
<p>
Oh, and as for this driver, Intel told me to drop it, they don't want<br>
it in the kernel anymore as the team has been disbanded, and they no longer<br>
care about the code.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/352403/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor352427"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">News from the staging tree</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 13, 2009 13:25 UTC (Sun)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/352427/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Would the code have done anything useful were it fixed up, I wonder?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/352427/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor352443"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">News from the staging tree</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 13, 2009 15:48 UTC (Sun)
                               by <b>gregkh</b> (subscriber, #8)
                              [<a href="/Articles/352443/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Perhaps, try it out, it's not like it is hidden anywhere...<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/352443/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2009, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
