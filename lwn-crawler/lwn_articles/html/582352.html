        <!DOCTYPE html>
        <html lang="en">
        <head><title>3.14 Merge window part 2 [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/582352/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/582069/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/582352/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>3.14 Merge window part 2</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>We're bad at marketing</b>
<p>
We can admit it, marketing is not our strong suit. Our strength is
writing the kind of articles that developers, administrators, and
free-software supporters depend on to know what is going on in the
Linux world. Please <a href="/Promo/nsn-bad/subscribe">subscribe today</a> to help us keep doing that, and so
we don’t have to get good at marketing.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>January 29, 2014</br>
           </div>
As of this writing, almost 8,600 non-merge changesets have been pulled into
the mainline repository for the 3.14 development cycle — 5,300 since <a
href="/Articles/581657/">last week's merge window summary</a>.  As can be
seen from the 
list below, quite a bit of new functionality has been added to the kernel
in the last week.  Some of the more significant, user-visible changes
merged include:
<p>
<ul>
<li> The <a href="/Articles/556186/">event triggers</a> feature has been
     added to the tracing subsystem.  See <a
     href="http://git.kernel.org/linus/ac38fb8582d86ba887b5d07c0912dec135bf6931">this
     commit</a> for some information on how to use this feature.
<p>
<li> The user-space probes (uprobes) subsystem has gained support for a
     number of "fetch methods" providing access to data on the stack, from
     process memory, and more.  See <a href="/Articles/577142/">the
     patchset posting</a> for more information.
<p>
<li> The Xen paravirtualization subsystem has gained support for a "<a
     href="http://wiki.xen.org/wiki/Xen_Overview#PV_in_an_HVM_Container_.28PVH.29_-_New_in_Xen_4.4">paravirtualization
     in an HVM container</a>" (PVH) mode which makes better use of hardware
     virtualization extensions to speed various operations (page table
     updates, for example).
<p>
<li> The ARM architecture can be configured to protect kernel module text
     and read-only data from modification or execution.  The help text for
     this feature notes that it may interfere with dynamic tracing.
<p>
<li> The new <tt>SIOCGHWTSTAMP</tt> network <tt>ioctl()</tt> command allows
     an application to retrieve the current hardware timestamping
     configuration without changing it.
<p>
<li> "TCP autocorking" is a new networking feature that will delay small
     data transmissions in the hope of coalescing them into larger
     packets.  The result can be better CPU and network utilization.  The
     new <tt>tcp_autocorking</tt> sysctl knob can be used to turn off this
     feature, which is on by default.
<p>
<li> The Bluetooth Low Energy support now handles connection-oriented
     channels, increasing the number of protocols that can work over the LE
     mode.  <a
     href="http://tools.ietf.org/html/draft-ietf-6lo-btle-00">6LoWPAN emulation
     support</a> is also now available for Bluetooth LE devices.
<p>
<li> The Berkeley Packet Filter subsystem has acquired a couple of new
     user-space tools: a debugger and a simple assembler.  See the newly
     updated <a
     href="/Articles/582493/">Documentation/networking/filter.txt</a> for
     more information.
<p>
<li> The new "heavy-hitter filter" queuing discipline tries to distinguish
     small network flows from the big ones, prioritizing the former.  <a
     href="http://git.kernel.org/linus/10239edf86f137ce4c39b62ea9575e8053c549a0">This
     commit</a> has 
     some details.
<p>
<li> The "Proportional Integral controller Enhanced" (PIE) packet scheduler
     is aimed at eliminating bufferbloat problems.  See <a
     href="http://git.kernel.org/linus/d4b36210c2e6ecef0ce52fb6c18c51144f5c2d88">this
     commit</a> for more information.
<p>
<li> The xtensa architecture code has gained support for multiprocessor systems.
<p>
<li> The Ceph distributed filesystem now has support for access control
     lists.
<p>
<li> New hardware support includes:
     <p>
     <ul>
     <li> <b>Processors and systems</b>:
     	  Marvell Berlin systems-on-chip (SoCs),
	  Energy Micro EFM32 SoCs,
	  MOXA ART SoCs,
	  Freescale i.MX50 processors,
	  Hisilicon Hi36xx/Hi37xx processors,
	  Snapdragon 800 MSM8974 SoCs,
	  Systems based on the ARM "Trusted Foundations" secure monitor,
	  Freescale TWR-P102x PowerPC boards, and
	  Motorola/Emerson MVME5100 single board computers.
     <p>
     <li> <b>Clocks</b>:
	  Allwinner sun4i/sun7i realtime clocks (RTCs),
	  Intersil ISL12057 RTCs,
	  Silicon Labs 5351A/B/C programmable clock generators,
	  Qualcomm MSM8660, MSM8960, and MSM8974 clock controllers, and
	  Haoyu Microelectronics HYM8563 RTCs.
     <p>
     <li> <b>Miscellaneous</b>:
     	  AMD cryptographic coprocessors,
	  Freescale MXS DCP cryptographic coprocessors (replacement for an
     	  older, unmaintained driver),
	  OpenCores VGA/LCD core 2.0 framebuffers,
	  generic GPIO-connected beepers,
	  Cisco Virtual Interface InfiniBand cards,
	  Active-Semi act8865 voltage regulators,
	  Maxim 14577 voltage regulators,
	  Broadcom BCM63XX HS SPI controllers, and
	  Atmel pulse width modulation controllers.
     <p>
     <li> <b>Multimedia Card (MMC)</b>:
     	  Arasan SDHCI controllers and
	  Synopsys DesignWare interfaces on Hisilicon K3 SoCs.
     <p>
     <li> <b>Networking</b>:
     	  Marvell 8897 WiFi and near-field communications (NFC) interfaces,
	  Intel XL710 X710 Virtual Function Ethernet controllers, and
	  Realtek RTL8153 Ethernet adapters.
     </ul>
     <p>
     Note also that the AIC7xxx SCSI driver, deprecated since the 2.4 days,
     has finally been removed from the kernel.
</ul>
<p>
Changes visible to kernel developers include:
<p>
<ul>

<li> The ARM architecture code can be configured to create a file
     (<tt>kernel_page_tables</tt>) in the debugfs filesystem where the
     layout of the kernel's page tables can be examined.
<p>
<li> The checkpatch script will now complain about memory allocations using
     the <tt>__GFP_NOFAIL</tt> flag.
<p>
<li> There is a new low-level library for computing hash values in
     situations where speed is more important than the quality of the hash;
     see <a
     href="http://git.kernel.org/linus/71ae8aac3e198c6f3577cb7ad3a17f6128e97bfa">this
     commit</a> for details.

</ul>
<p>
At this point, the 3.14 merge window appears to be winding down.  If the
usual two-week standard applies, the window should stay open through
February&nbsp;2, but Linus has made it clear in the past that the window
can close earlier if he sees fit.  Either way, next week's Kernel Page will
include a summary of the final changes pulled for this development cycle.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-3.14">Releases/3.14</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/582352/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor583296"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">3.14 Merge window part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 30, 2014 3:26 UTC (Thu)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/583296/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
thanks for the note on TCP autocorking, this is a sysctl item that I will need to remember to set by default from now on.<br>
<p>
If the system is idle, what does it hurt to send small packets. If it's busy and small packets start to clog things up, the packets will end up getting consolidated anyway.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/583296/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor583301"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">3.14 Merge window part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 30, 2014 4:13 UTC (Thu)
                               by <b>Aliasundercover</b> (subscriber, #69009)
                              [<a href="/Articles/583301/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I frequently turn the Nagle algorithm off with setsockopt(... TCP_NODELAY ...) when dealing time sensitive communications between machines in automation.  I wonder if TCP autocorking will mean I need to tweak another knob.  I certainly hope not.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/583301/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor583338"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">3.14 Merge window part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 30, 2014 9:16 UTC (Thu)
                               by <b>cwillu</b> (guest, #67268)
                              [<a href="/Articles/583338/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; tcp_autocorking - BOOLEAN</font><br>
<font class="QuotedText">&gt; 	Enable TCP auto corking :</font><br>
<font class="QuotedText">&gt; 	When applications do consecutive small write()/sendmsg() system calls,</font><br>
<font class="QuotedText">&gt; 	we try to coalesce these small writes as much as possible, to lower</font><br>
<font class="QuotedText">&gt; 	total amount of sent packets. This is done if at least one prior</font><br>
<font class="QuotedText">&gt; 	packet for the flow is waiting in Qdisc queues or device transmit</font><br>
<font class="QuotedText">&gt; 	queue. Applications can still use TCP_CORK for optimal behavior</font><br>
<font class="QuotedText">&gt; 	when they know how/when to uncork their sockets.</font><br>
<font class="QuotedText">&gt; 	Default : 1</font><br>
<p>
I read this as saying that corking will only happen if you already had packets waiting in the outgoing buffer anyway.<br>
<p>
<font class="QuotedText">&gt; * Because TX completion will happen shortly, it gives a chance</font><br>
<font class="QuotedText">&gt; * to coalesce future sendmsg() payload into this skb, without</font><br>
<font class="QuotedText">&gt; * need for a timer, and with no latency trade off.</font><br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/583338/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor583350"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">3.14 Merge window part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 30, 2014 10:25 UTC (Thu)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/583350/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
if there are already packets waiting in the outgoing buffer, won't that delay the sending of the packets so they can be consolidated anyway? so why would auto-corking be needed?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/583350/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor586061"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">3.14 Merge window part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 13, 2014 16:30 UTC (Thu)
                               by <b>Jan_Zerebecki</b> (guest, #70319)
                              [<a href="/Articles/586061/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Handing off a new packet for transmission (uncork) can be delayed without delaying transmission of another packet that was already handed off.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/586061/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2014, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
