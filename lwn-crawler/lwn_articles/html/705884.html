        <!DOCTYPE html>
        <html lang="en">
        <head><title>Making WiFi fast [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/705884/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/705480/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/705884/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>Making WiFi fast</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Ready to give LWN a try?</b>
<p>
With a subscription to LWN, you can stay current with what is happening in the Linux and free-software community and take advantage of subscriber-only site features.  We are pleased to offer you <b><a href="https://lwn.net/Promo/nst-trial/claim">a free trial subscription</a></b>, no credit card required, so that you can see for yourself.  Please, join us!
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>November 8, 2016</br>
           <hr>
<a href="/Archives/ConferenceByYear/#2016-Linux_Plumbers_Conference">Linux
Plumbers Conference</a>
</div>
Dave Täht has been working to save the Internet for the last six years (at
least).  Recently, his focus has been on improving the performance of
networking over WiFi — performance that has been disappointing for as long
as anybody can remember.  The good news, as related in his <a
href="https://www.linuxplumbersconf.org/2016/">2016 Linux Plumbers
Conference</a> talk, is that WiFi can be fixed, and the
fixes aren't even all that hard to do.  Users with the right hardware and a
willingness to run experimental software can have fast WiFi now, and it
should be available for the rest of us before too long.
<p>
Networking, Täht said, has been going wrong for over a decade; it turns out
that queuing theory has not properly addressed the problem of matching data
rates to the bandwidth that the hardware can provide.  Developers have tended to
optimize for the fastest rates possible, but those rates are rarely seen in
the real world when WiFi is involved.  The "make WiFi fast" effort,
involving a number of developers, seeks to
change the focus and to optimize both throughput and latency at all data
rates.
<p>
He has been working on the <a
href="https://www.bufferbloat.net/projects/">bufferbloat</a> problem for
the last six years.  Hundreds of people have been involved in this effort,
which was spearheaded by the Linux networking stack.  Many changes were
merged, starting with <a href="/Articles/454390/">byte queue limits</a> in
3.3 and culminating (so far) with <a href="/Articles/701165/">the BBR
congestion-control 
algorithm</a>, which was merged for 4.8.  At this point, all network protocols can be
debloated — with the exception of WiFi and LTE.  But, he said, a big dent
has just been made in the WiFi problem.
<p>
For the rest of the talk, Täht enlisted the aid of Ham the mechanical
monkey.  Ham, it seems, works in the marketing department.  He only cares
about benchmarks; if the numbers are big, they will help to sell products.

<a href="/Articles/705911/"><img src="https://static.lwn.net/images/conf/2016/lpc/DaveTaht-sm.jpg"
class="lthumb" alt="[Dave Täht]" title="Dave Täht and Ham the monkey"></a> 

Ham has been the nemesis for years, driving the focus in the wrong
direction.  The right place to focus is on use cases, where the costs of
bufferbloat are felt.  That means paying much more attention to latency,
and focusing less on the throughput numbers that make Ham happy.
<p>
As an example, he noted that the Slashdot home page can, when latency is
near zero, be loaded in about eight seconds (the LWN page, he said, was too
small to make an interesting example).  If the <a
href="https://flent.org/">Flent</a> tool is used to add one second of
latency to the link, that load takes nearly four minutes.  We have all been
in that painful place at one point or another.  The point is
that latency and round-trip times matter more than absolute throughput.
<p>
Unfortunately, the worst latency-causing bufferbloat is often found on
high-rate connections deep within the Internet service provider's
infrastructure.  That, he said, should be fixed first, and WiFi will start
to get better for free.  But that is only the start.  WiFi need not always
be slow; its problems are mostly to be found in its queuing, not in
external factors like radio interference.  The key is eliminating
bufferbloat from the WiFi subsystem.
<p>
To get there, Täht and his collaborators had to start by developing a better set of
benchmarks to 
show what is going on in real-world situations.  The most useful tool, he
said, is Flent, which is able to do repeatable tests under network load and
show the results 
in graphical form.  Single-number benchmark results are not particularly
helpful; one needs to look at performance over time to see what is really
going on.  It is also necessary to get out of the testing lab and test in
the field, in situations with lots of stations on the net.
<p>
What they found was that the multiple-station case is where things fall
down in the WiFi stack.  If you have a single device on a WiFi network,
things will work reasonably well.  But as soon as there is contention for
air time, the problems show up.
<p>
<h4>How to improve WiFi</h4>
<p>
The WiFi stack in current kernels has four major layers of interest, when
it comes to queuing:
<p>
<ul>
<li> At the top, the queuing discipline accepts packets and feeds them
     into the driver layer.  The amount of buffering there is huge; it can
     hold ten seconds of WiFi data.
<p>
<li> The mac80211 layer does high-level WiFi work, and adds some queuing
     and latency of its own.
<p>
<li> The driver for the WiFi adapter maintains several queues of its own,
     perhaps holding several seconds of data.  This level is where aggregation is done;
     aggregation groups a set of packets into a single transmitted frame to
     improve throughput — at the cost of increased latency.
<p>
<li> The firmware in the adapter itself can hold another ten seconds of
     data in its queues.
</ul>
<p>
That adds up to a lot of queuing in the WiFi subsystem, with all of the
associated problems.  The good news is that fixing it required no changes
to the WiFi protocols at all.  So those fixes can be applied to existing
networks and existing adapters.
<p>
The first step was to add a "mac80211 intermediate queue" that handles all
packets for a given device, reducing the amount of queuing overall,
especially since 
the size of this queue is strictly limited.  It is meant to to hold no more
data than can be sent in two "transmission opportunities" (slots in which
an aggregate of packets can be transmitted).  The fq_codel queue management
algorithm was generalized to work well in this setting.
<p>
The queuing discipline layer was removed entirely, eliminating a massive
amount of buffering.  Instead, there is a simple per-station queue, and
round-robin fair queuing between the stations.  The goal is to have one
aggregated frame in the hardware for transmission, and another one queued,
ready to go as soon as the hardware gets to it.  Only having two packets
queued at this layer may not scale to the very highest data rates, he said,
but, in the real world, nobody ever sees those rates anyway.
<p>
There should be a single aggregate under preparation in the mac80211 layer;
all other packets should be managed in the (short) per-station queues.  In
current kernels, mac80211 pushes packets into the low-level driver, where
they may accumulate.  In the new model, instead, the driver calls back into
the mac80211 layer when it needs another packet; that gives mac80211 a
better view into when transmission actually happens.


The
total latency imposed by buffering in this scheme is, he said, limited to
2-12ms, and there is no need for intelligence in the network hardware.

<p>
<h4>Results and future directions</h4>
<p>
The
result of all this work is WiFi latencies that are less than 40ms, down
from a peak of 
1-2&nbsp;seconds before they started, and much better handling of multiple
stations running at full rate.  

Before the changes, a test involving 100 flows all starting together
collapsed entirely, with at most five flows getting going; all the rest
failed due to TCP timeouts caused by excessive buffering latency. 
Afterward, all 100 could start and run with reasonable latency and bandwidth.
All this work, in the end, comes down to a patch that removes a net 200
lines of code.  
<p>

There are some open issues, of course.  The elimination of the queuing
discipline layer took away a number of useful network statistics.  Some of
these have been replaced with information in the debugfs filesystem.  There
is, he said, some sort of unfortunate interaction with <a
href="/Articles/507065/">TCP small queues</a>; Eric Dumazet has some ideas
for fixing this problem, which only arises in single-station tests.  There
is an opportunity to add better air-time fairness to keep slow stations
from using too much transmission time.  Some future improvements, he said,
might come at a cost: latency improvements might reduce the peak bandwidth
slightly.  But latency is what almost all users actually care about, so
that bandwidth will not be missed — except by Ham the monkey.
<p>
At this point, the ath9k WiFi driver fully supports these changes; the code
can be found in the <a href="https://lede-project.org/">LEDE</a> repository
and daily snapshots.  Work is progressing on the ath10k driver; it is
nearly done.  Other drivers have not yet been changed.  Expanding the work
may well require some more thought on the driver API within the kernel but,
for the most part, the changes are not huge.
<p>
WiFi is, Täht said, the only wireless technology that is fully under our
control.  We should be taking more advantage of that control to make it
work as well as it possibly can; he wishes that there were more developers
working in this area.  Even a relatively small group has been able to make
some significant progress in making WiFi work as it should, though; we will
all be the beneficiaries of this work in the coming years.
<p>
[Your editor thanks LWN subscribers for supporting his travel to LPC.]<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Networking-Wireless">Networking/Wireless</a></td></tr>
            <tr><td><a href="/Archives/ConferenceIndex/">Conference</a></td><td><a href="/Archives/ConferenceIndex/#Linux_Plumbers_Conference-2016">Linux Plumbers Conference/2016</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/705884/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor705944"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 8, 2016 22:38 UTC (Tue)
                               by <b>Sesse</b> (subscriber, #53779)
                              [<a href="/Articles/705944/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
All of this would be a lot nicer if just all drivers supported mac80211… In particular, the Intel drivers (iwlwifi) don't, and there doesn't seem to be a lot of movement towards it. Sure, many Linux-based APs run ath9k and/or ath10k, but we need this both ways.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/705944/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor705954"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 8, 2016 23:45 UTC (Tue)
                               by <b>ay</b> (subscriber, #79347)
                              [<a href="/Articles/705954/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
iwlwifi is and has always been a mac80211 driver... <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/705954/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor705955"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 8, 2016 23:50 UTC (Tue)
                               by <b>Sesse</b> (subscriber, #53779)
                              [<a href="/Articles/705955/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Well, for one, I can't use minstrel on it?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/705955/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706066"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2016 3:01 UTC (Thu)
                               by <b>drag</b> (guest, #31333)
                              [<a href="/Articles/706066/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
maybe its a hardware or firmware limitation.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706066/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor706163"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 11, 2016 0:01 UTC (Fri)
                               by <b>tohojo</b> (subscriber, #86756)
                              [<a href="/Articles/706163/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
A driver can opt in to using minstrel, or it can do it's own rate control. Iwl does the latter (not sure if it's in the driver or in firmware). Not sure what it would take to get the Intel drivers to use these changes, but I don't think it's trivial, unfortunately (my laptop also has an Intel card in it).<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706163/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706623"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2016 20:06 UTC (Wed)
                               by <b>mtaht</b> (subscriber, #11087)
                              [<a href="/Articles/706623/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Let me point out a link to a talk that describes the enormous technical debt that needs to be paid down in just one (other) wifi driver set in order to make forward progress:<br>
<p>
<a href="https://www.linuxplumbersconf.org/2016/ocw//system/presentations/4089/original/2016-11-02-rtl8xxxu-presentation.pdf">https://www.linuxplumbersconf.org/2016/ocw//system/presen...</a><br>
<p>
These sorts of issues are almost universal in wifi, in every chipset and OS.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706623/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
<a name="CommAnchor705967"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2016 1:08 UTC (Wed)
                               by <b>mtaht</b> (subscriber, #11087)
                              [<a href="/Articles/705967/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
A really excellent summary, Jon. Thanks. I sent a couple nits via email.<br>
<p>
Most of the patches are queued up for 4.9 and 4.10 already, and more testing is very desirable of all that.<br>
<p>
The lastest 2 patchsets (for airtime fairness) for lede - not yet submitted there - are here: <a href="https://kau.toke.dk/git/lede/">https://kau.toke.dk/git/lede/</a><br>
<p>
An unofficial patchset that applies on top of net-next (for ath9k and ath10k), and .deb files for ubuntu is here: <a href="http://www.taht.net/~d/airtime-8/">http://www.taht.net/~d/airtime-8/</a><br>
<p>
Once those are straightened out and submitted...<br>
<p>
Further work on top of these *will* compromise some measures of bandwidth, in favor of latency. In this talk, I felt it was very important to get more wifi developers focused on better benchmarks, before we ran the gamut of getting them upstream.<br>
<p>
Work has paused for a bit - Toke is working on an interim thesis defense, and I'm out banging a drum for more funding - and addressing the TSQ issue is next on the agenda - but hopefully we'll be done with these soon, and be able to start exploring possibilities in other wifi chipsets with hopefully those driver experts getting excited about this, also.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/705967/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor705969"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2016 1:09 UTC (Wed)
                               by <b>mtaht</b> (subscriber, #11087)
                              [<a href="/Articles/705969/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
slides: <a href="http://www.linuxplumbersconf.com/2016/ocw//system/presentations/3963/original/linuxplumbers_wifi_latency-3Nov.pdf">http://www.linuxplumbersconf.com/2016/ocw//system/present...</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/705969/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor706671"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 17, 2016 9:55 UTC (Thu)
                               by <b>Wol</b> (subscriber, #4433)
                              [<a href="/Articles/706671/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
To try and keep Ham happy ... how about a "contended bandwidth benchmark"?<br>
<p>
Pick a standard number of devices typical in the home - let's say 5. And let's say our wifi router has a max bandwidth of 100Mb/s.<br>
<p>
Now fire up 5 devices, clobber the access point, and see the total throughput. If each device manages 10Mb/s, that means the router is achieving 50% of theoretical maximum throughput.<br>
<p>
I know it's pretty much the same benchmark as they currently use, except they use one device so they achieve 100% of theoretical max, and they quote the throughput.<br>
<p>
If we can go to Ham and say "in a typical home, with 5 devices, half your throughput is unusable", that's a benchmark he won't like becoming public ... :-)<br>
<p>
Cheers,<br>
Wol<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706671/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor710288"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 28, 2016 17:48 UTC (Wed)
                               by <b>mtaht</b> (subscriber, #11087)
                              [<a href="/Articles/710288/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
This is overlong, but does do a "typical family" evaluation, as you suggest.<br>
<p>
<a href="http://caia.swin.edu.au/reports/161107A/CAIA-TR-161107A.pdf">http://caia.swin.edu.au/reports/161107A/CAIA-TR-161107A.pdf</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/710288/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor705974"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2016 8:10 UTC (Wed)
                               by <b>Felix.Braun</b> (guest, #3032)
                              [<a href="/Articles/705974/">Link</a>] (16 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Maybe WiFi can work in American houses built mainly out of wood with tons of space around each one. But in my experience a set of concrete walls will dampen the WiFi signal significantly even within a relatively small appartment. And if you live in a house with 15 other families then the 2.4 GHz band will become pretty crowded really fast. So it's Ethernet for me.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/705974/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor705978"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2016 9:08 UTC (Wed)
                               by <b>Sesse</b> (subscriber, #53779)
                              [<a href="/Articles/705978/">Link</a>] (8 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Uhm, the solution to 2.4 GHz getting crowded is to… use 5 GHz. There's hardly any reason to use 2.4 GHz anymore, and 802.11ac doesn't even support it.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/705978/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706030"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2016 17:55 UTC (Wed)
                               by <b>spaetz</b> (guest, #32870)
                              [<a href="/Articles/706030/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; There's hardly any reason to use 2.4 GHz anymore, and 802.11ac doesn't even support it.</font><br>
<p>
Except that the HP laptop I just bought only supports 2.4GHz. Looking for 802.11n and Linux compatability, I failed to notice that a 500€ machine does not do 5GHz nowadays. It is a shame, really.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706030/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706134"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2016 17:23 UTC (Thu)
                               by <b>kamil</b> (guest, #3802)
                              [<a href="/Articles/706134/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Check if the WiFi in your laptop is upgradable.  It's often on a separate mini-PCIe card that is trivial to replace with little more than a screwdriver, and the cards can often be found for under $/€20 on eBay and such.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706134/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor706164"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 11, 2016 0:08 UTC (Fri)
                               by <b>cesarb</b> (subscriber, #6266)
                              [<a href="/Articles/706164/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Looking for 802.11n and Linux compatability, I failed to notice that a 500€ machine does not do 5GHz nowadays.</font><br>
<p>
There's a solution for that now: look for 802.11ac. Since 802.11ac is 5 GHz only, its presence means that the WiFi adapter can do 5 GHz.<br>
<p>
Once 802.11ac becomes more popular, it should reduce the annoying tendency of offering professional-grade laptops with only 2.4 GHz WiFi.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706164/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor706067"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2016 3:04 UTC (Thu)
                               by <b>drag</b> (guest, #31333)
                              [<a href="/Articles/706067/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
2.4ghz is nice if you need longer distance. Different frequencies have different strengths.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706067/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706078"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2016 8:33 UTC (Thu)
                               by <b>Sesse</b> (subscriber, #53779)
                              [<a href="/Articles/706078/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
They really don't. In empty space, they fade _exactly_ the same way (it's physics). And like I said in another comment, for most obstructions, they fade very similarly, too. The effects of “the band is seven times as wide” (really!) and “ambient noise tends to be about 3 dB lower on 5 GHz” drowns out these considerations in practice.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706078/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706614"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2016 18:50 UTC (Wed)
                               by <b>mb</b> (subscriber, #50428)
                              [<a href="/Articles/706614/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt;They really don't. In empty space, they fade _exactly_ the same way (it's physics). </font><br>
<p>
Except that my house consists of a little bit more matter than empty space and that the 5GHz signal certainly is a lot weaker than the 2.4 GHz signal after it passed a few walls.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706614/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor706795"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 18, 2016 7:11 UTC (Fri)
                               by <b>Sertorius</b> (guest, #47862)
                              [<a href="/Articles/706795/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      If you're going to make comments like that, please make sure you actually *know* the physics. The relevant equation in this case, the Friis path loss equation, has a lambda squared on the top, or if you prefer f squared on the bottom. So yes, path loss is significantly lower at lower frequencies; this is the reason that satellites use the lower of a pair of frequencies to transmit (because they are power-constrained); likewise frequency-division duplex phones will use the lower frequency channel for the uplink (again, power-constrained). This is also the best-case scenario; usually the path loss exponent is higher than 2 due to multipath fading (due to reflections).

<p><a rel="nofollow" href="https://en.wikipedia.org/wiki/Free-space_path_loss#/media/File:FSPL_for_common_802.11_frequency_bands.svg">Here's a graph if you aren't convinced.</a>

<p>5 GHz is severely attenuated by relatively mild obstructions (such as gyprock/drywall or timber) that 2.4 penetrates very easily. If you have concrete or brick walls, you'll want an AP in every room.

<p>The main benefits of 5 GHz are that you have a lot more non-overlapping channels, so it is easier to avoid interference - it is also good if you have a lot of users to support and want to have a LOT of short-range APs.

      
          <div class="CommentReplyButton">
            <form action="/Articles/706795/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706797"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 18, 2016 8:34 UTC (Fri)
                               by <b>zlynx</b> (guest, #2285)
                              [<a href="/Articles/706797/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The 5GHz fade is also a great thing in apartment buildings. All of your neighbors have a WiFi router that they picked up somewhere and they managed to make it though the configuration wizard. So every single apartment is at 100% transmission power, all of the time. Having the walls cut that down (and having all of the extra channels) really helps.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706797/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
<a name="CommAnchor705979"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2016 9:36 UTC (Wed)
                               by <b>Cyberax</b> (<b>&#x272D; supporter &#x272D;</b>, #52523)
                              [<a href="/Articles/705979/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Rapid 5GHz signal fading is a GOOD thing. You won't get a lot of noise from neighbors. So just install a couple of WiFi repeaters in rooms with bad reception.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/705979/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor705990"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2016 12:26 UTC (Wed)
                               by <b>Sesse</b> (subscriber, #53779)
                              [<a href="/Articles/705990/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
5 GHz actually fades pretty similarly to 2.4 GHz for most materials (red brick being a notable counterexample). But in many jurisdictions, it starts out with a small (3 dB) penalty in allowed transmission strength.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/705990/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706033"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2016 19:18 UTC (Wed)
                               by <b>jonth</b> (subscriber, #4008)
                              [<a href="/Articles/706033/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
A small nitpick: fading!=attenuation.<br>
<p>
One other observation I'd like to share: 20 years of experience in cellular comms has taught me is that you can't beat a wire.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706033/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706061"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2016 1:39 UTC (Thu)
                               by <b>samroberts</b> (subscriber, #46749)
                              [<a href="/Articles/706061/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Unless your goal is to decrease wiring!<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706061/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706165"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 11, 2016 0:13 UTC (Fri)
                               by <b>cesarb</b> (subscriber, #6266)
                              [<a href="/Articles/706165/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Or your wire is broken. Wireless is much harder to cut.<br>
<p>
(A coworker just found out that the Ethernet wire to one of the WiFi APs at work was broken, which explains network issues they were having.)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706165/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor706343"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 14, 2016 6:13 UTC (Mon)
                               by <b>eduard.munteanu</b> (guest, #66641)
                              [<a href="/Articles/706343/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
In practice, though, WiFi is often added on to the premises as an afterthought. Whoever set up the space didn't plan properly for networking, so WiFi gets used as a stop-gap measure. As with all last resort measures, it kinda sucks, not necessarily because there's something inherently wrong with WiFi.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706343/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor782680"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 9, 2019 1:29 UTC (Sat)
                               by <b>gdt</b> (subscriber, #6284)
                              [<a href="/Articles/782680/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
A reminder that wired connections also have downsides, mostly its inconvenience and cost.<br>
<p>
A good RJ-45 jack is rated for 2,500 cycles. So wireless is a much better fit for high-traffic areas such as cafes and libraries.  Patch leads are a small but ongoing expense, and staff and students don't like "BYO patch lead".<br>
<p>
A wired port costs around $200 per wallport to cable. But this can blow out when a custom solution is required. Wiring a cafe table will cost more than than table.<br>
<p>
Wireless networks work without any further action by the user.  Once set up (which is far too hard) Eduroam connects your laptop or phone to the campus network the moment you go to use the device. No searching for a jack and patch lead. Wireless is so convenient that it's common to see a person sitting next to a wall port but using wireless.<br>
<p>
Wired from modern devices is difficult. Using wired ethernet from a phone or tablet requires special cabling (a OTG cable) to the ethernet dongle. The dongle itself is a optional purchase. Cheaper dongles meant for laptops might not have driver support in a phone. Using wired ethernet from a recent laptop requires a USB-C/ethernet dongle, which means the laptop can't be powered whilst using the wired network. To have both power and wired networking requires a bulky and expensive "docking station".<br>
<p>
We should be telling people who need network performance to use wired.  But that may not end up being the bulk of the connections on a campus network.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/782680/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor705995"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2016 14:13 UTC (Wed)
                               by <b>sourcejedi</b> (guest, #45153)
                              [<a href="/Articles/705995/">Link</a>] (12 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; there is no need for intelligence in the network hardware</font><br>
<p>
and the wheel turns again.  (It's making me think of one or two great posts about this point in general, cpu v.s. offloads, which I can't find rn).<br>
<p>
<font class="QuotedText">&gt;  It is meant to to hold no more data than can be sent in two "transmission opportunities" (slots in which an aggregate of packets can be transmitted). The fq_codel queue management algorithm was generalized to work well in this setting.</font><br>
<p>
<font class="QuotedText">&gt; The goal is to have one aggregated frame in the hardware for transmission, and another one queued, ready to go as soon as the hardware gets to it. Only having two packets queued at this layer may not scale to the very highest data rates, he said, but, in the real world, nobody ever sees those rates anyway.</font><br>
<p>
<font class="QuotedText">&gt; There should be a single aggregate under preparation in the mac80211 layer; all other packets should be managed in the (short) per-station queues.</font><br>
<p>
This doesn't seem quite clear.<br>
<p>
What controls the length of the per-station queues?  You could read this as saying the per-station queues are limited to an aggregate's worth overall, but I'm not sure that's right.<br>
<p>
I assume fq_codel is being applied to the per-station queues, that's the only way I can understand, but this doesn't read like that to me.<br>
<p>
Ah, merged code says codel applies a (currently hardcoded) 20ms target.  So I assume that's what sizes the per-station queues.<br>
<p>
Maybe "The fq_codel queue management algorithm was generalized to work well in this setting." would be better put after "all other packets should be managed in the (short) per-station queues".<br>
<p>
(also the next step in this effort is to go from round-robin of the station queues, to airtime fairness.  yet more awesome)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/705995/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706031"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2016 18:04 UTC (Wed)
                               by <b>zlynx</b> (guest, #2285)
                              [<a href="/Articles/706031/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I think you'd want to test quite a bit before trying for airtime fairness. I think the interaction of codel with the two frame limit will result in fairness even with round-robin. Because the slow devices will be getting a much more limited packet queue in software, because they take longer to transmit, the faster devices will have more packets in queue.<br>
<p>
I am *guessing* that devices will get airtime fairness "for free."<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706031/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706063"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2016 2:46 UTC (Thu)
                               by <b>mtaht</b> (subscriber, #11087)
                              [<a href="/Articles/706063/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
while we are working on various modifications to fq_codel to make it more robust across a wide range of rates and numbers of stations, the airtime fairness patches we have currently do indeed behave better than what we call the fq-mac version without an explicit modification to codel. <br>
<p>
I certainly welcome more testers (see the links to patches I posted earlier), ideas, and data. In addition to the data on the slides there, we have a large paper on the airtime fairness stuff pending academic review, which I can provide privately if you would like to see it.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706063/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor798662"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 6, 2019 21:58 UTC (Fri)
                               by <b>mtaht</b> (subscriber, #11087)
                              [<a href="/Articles/798662/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
That paper was ultimately published as "Ending the anomaly" - the capstone to solving a 16+ year old problem in wifi that nobody, until us - had figured out how to solve.<br>
<p>
<a href="https://www.usenix.org/system/files/conference/atc17/atc17-hoiland-jorgensen.pdf">https://www.usenix.org/system/files/conference/atc17/atc1...</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/798662/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor706054"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2016 0:18 UTC (Thu)
                               by <b>rgmoore</b> (<b>&#x272D; supporter &#x272D;</b>, #75)
                              [<a href="/Articles/706054/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <blockquote>&gt; there is no need for intelligence in the network hardware

<p>and the wheel turns again. (It's making me think of one or two great posts about this point in general, cpu v.s. offloads, which I can't find rn).</blockquote>

<p>It sounds, though, as if this is almost the opposite of the traditional wheel.  The traditional wheel is driven by increased complexity requiring an offload processor to take load off the CPU, followed by bringing that same level of complexity back into the CPU to save money when processing power gets cheaper.  In this case, though, the process reduces complexity to the point the offload processor is redundant.
      
          <div class="CommentReplyButton">
            <form action="/Articles/706054/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706068"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2016 3:15 UTC (Thu)
                               by <b>drag</b> (guest, #31333)
                              [<a href="/Articles/706068/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The trend has always been towards sucking as much functionality out of the computer and into the processor die as possible and out of hardware logic and into the software as much as possible. <br>
<p>
It's a cost performance thing.. as in cost and performance and reliability improves the dumber the hardware gets and the faster the cpu gets. This is generally speaking, of course.  The deal here is software is much more flexible, much cheaper, and is much easier to patch to correct bugs. <br>
<p>
That's one of the really big take-home points about Moore's law. <br>
<p>
It's true for everything in computing, not just networking.  Phone modems had their guts ripped out and became winmodems. I hated winmodems until I learned how to chance the software drivers Linux to get different algorithms and bump up my connection speeds.  Then it moved to sound cards and into network and into harddrive controllers, and now things like software raid is superior for most purposes over hardware raid.  Even now there isn't really any such thing as '3D acceleration' anymore, instead you just have different types of processor cores that are optimized to graphics workloads with most of the logic in the 'drivers'.<br>
<p>
The problem with networking is that we deal with such small MTU sizes that _sometimes_ you can get better performance by offloading some of it. But for most server purposes turning off all the 'offload features' on network cards isn't a bad idea.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706068/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706079"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2016 8:38 UTC (Thu)
                               by <b>Sesse</b> (subscriber, #53779)
                              [<a href="/Articles/706079/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
While I agree with most of your point, there really is something as 3D acceleration. Even the most modern of GPUs will have a triangle rasterizer, a texture mapper and a framebuffer blend unit, all of them large fixed-function blocks (well, instantiated lots of times). This is _not_ done by the more CPU-like units (the shader cores), even though they certainly are flexible these days.<br>
<p>
You can imagine moving all of these functions up into software, but it doesn't seem to work all that well in practice (witness e.g. Larrabee).<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706079/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706085"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Fixed-function hardware</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2016 10:04 UTC (Thu)
                               by <b>farnz</b> (subscriber, #17727)
                              [<a href="/Articles/706085/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <p>It's worth noting that the original Larrabee design was intended to be a pure software system on a massively parallel chip; by the time they got as far as cancelling Larrabee the GPU in favour of Knights Ferry, they'd had to add traditional fixed-function samplers to ensure that the GPU design would be competitive.
Similar applies to CPUs - in some senses, the Cell Broadband Engine SPUs are what you get if you replace a fixed-function L2 cache controller with a software-controlled L2 cache, while weak memory models are what you get if you make software responsible for cache coherency only.
<p>In general, it looks like there's a (movable) happy medium between hardware and software; where the hardware's function is well-understood, and unlikely to change in the next decade (texture samplers, cache controllers, Ethernet checksum handling etc), then it's best as fixed-function hardware. Where there's still debate about what the function should be (not just how fast you can make it), then it's best as programmable hardware (TCP offloads, graphics shaders etc) under the control of software.
      
          <div class="CommentReplyButton">
            <form action="/Articles/706085/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706618"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Fixed-function hardware</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2016 19:47 UTC (Wed)
                               by <b>mtaht</b> (subscriber, #11087)
                              [<a href="/Articles/706618/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The core need for offloaded into the hardware firmware is that wifi has the need to do certain things under very hard realtime constraints that the Linux kernel cannot meet. In other words, it's latency, once again, driving the need for intelligence "down there". From a signal processing perspective, we care about nanoseconds - and there are like 400+ DSPs on a modern 802.11ac chip. Up from there, in the core wifi standards are need for sub 10us response times for many operations. <br>
<p>
What we showed was that at the higher levels of the wifi stack - at the txop level -  linux is more than responsive enough to fare well at the 500+us latency range, and we can put a lot more intelligence there, that can make a huge difference in actual network behavior.<br>
<p>
I have outlined on my blog multiple ways for even smarter firmware can do even better than we do today shifting more stuff back into the core processor, instead onto the onboard firmware<br>
<p>
As well as multiple ways to do more smart things in the core linux networking layer, building on top of this work. If made more universal, we can also make a dent in several other nagging problems in wifi, like better routing metrics.<br>
<p>
Many of the trials, travails, missteps, and other bugs we've had<br>
to fix along the way are in my blog and/or discussed on the make-wifi-fast list.<br>
<p>
<a href="http://blog.cerowrt.org/post/">http://blog.cerowrt.org/post/</a><br>
<p>
There is so much more that can be done to improve wifi! The best document we have on all that, is here:<br>
<p>
<a href="https://docs.google.com/document/d/1Se36svYE1Uzpppe1HWnEyat_sAGghB3kE285LElJBW4/edit?usp=sharing">https://docs.google.com/document/d/1Se36svYE1Uzpppe1HWnEy...</a><br>
<p>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706618/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706626"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Fixed-function hardware</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2016 20:09 UTC (Wed)
                               by <b>mtaht</b> (subscriber, #11087)
                              [<a href="/Articles/706626/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
As a counter-example of how better onboard firmware could cut observed latencies down below what we can achieve by moving more ops into the kernel, see:<br>
<p>
<a href="http://blog.cerowrt.org/post/a_look_back_at_cerowrt_wifi/">http://blog.cerowrt.org/post/a_look_back_at_cerowrt_wifi/</a><br>
<p>
Some chipsets already expose a per-station concept, in particular.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706626/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor706064"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2016 2:53 UTC (Thu)
                               by <b>mtaht</b> (subscriber, #11087)
                              [<a href="/Articles/706064/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I'd sent a few nits regarding this section of the article to jon earlier, as the description is unclear. Let me get to that in another post.<br>
<p>
If I said "there is no need for intelligence in the network hardware" I did not mean that. There is plenty! of room for more intelligence there, just no need (for non-mu-mimo) for more than 2 txops of queuing in the onboard memory, or firmware, or driver. <br>
<p>
It is kind of my hope actually that by reducing the max queuing in the wifi chip that we can fit more code into the firmware, like keeping better statistics or putting in better rate control information, or doing saner things with interrupts, or presenting a better API, etc.<br>
<p>
<p>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706064/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706080"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2016 8:58 UTC (Thu)
                               by <b>sourcejedi</b> (guest, #45153)
                              [<a href="/Articles/706080/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I could have quoted more<br>
<p>
<font class="QuotedText">&gt; The goal is to have one aggregated frame in the hardware for transmission</font><br>
<p>
- that's all I was really thinking about. If you tell this to original hardware designers, one would expect them to be somewhat surprised. (Or maybe I'm wrong: they'd tell you how ill-suited the network stacks they targetted were for wireless, and it's about time).<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706080/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor706065"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2016 3:11 UTC (Thu)
                               by <b>mtaht</b> (subscriber, #11087)
                              [<a href="/Articles/706065/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The current 20ms target in the mainline merged wifi-fq_codel code is an artifact of a number of other performance problems we were having at the time - notably powersave was broken by the patch set for a long while. <br>
<p>
So... we backed off from the more aggressive 5ms default. Most of our recent testing has been against the original 5ms target with pretty good results. We also reverted back to the quantum 1514 default, rather than 300, as that hurt us on cpu on small platforms. <br>
<p>
So, after more stuff lands it is my hope that we will revert these two changes back to the theoretically more correct 5% of 100ms that the target represents. Also, codel's taking place 2-10ms behind the actual packet delivery, presently. <br>
<p>
In the talk I suggested shrinking txops more explicitly under contention. There is also the idea of turning codel's drop scheduler off at either a "good sized" aggregate, or an aggregate close to the ideal size for a given station, to move the knee of the curve closer to full utilization, where currently it turns off at a single large packet outstanding.  We've also discussed dynamically modifying the target via ewma based on the workload and other common delays in the system (contention and interference).<br>
<p>
Testing this stuff is HARD! Nobody's ever applied AQM technology to wifi or aggregating macs before, so far as I know. We will never get a perfect result, the goal is merely to get one that is reasonably good across most rates, and across most common numbers of stations.<br>
<p>
I struggle to rewrite the description - one thing that is not obvious is that the fq_codel implementation for wifi is one very large set of queues for the entire device, with the per-station pointer within it disambiguating things. This was michal kazior's innovation - prior to that I'd been stuck on the idea of a full fq_codel instance created per station, with perhaps 64 queues each (and possibly derived from cake's set associative version of fq_codel). Now there's tons of queues and if there is a station collision on a given queue, it gets sorted out. Much better than what I'd had in mind!<br>
<p>
It was my first talk on the work, mae culpa!<br>
<p>
Still working on rephrasing the troublesome bit in the article, give me  a few hours.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706065/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor706035"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2016 19:31 UTC (Wed)
                               by <b>fratti</b> (guest, #105722)
                              [<a href="/Articles/706035/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Are the WiFi drivers for popular Android phones upstreamed? I see these changes potentially making a big impact on public wifis where phones are very often used, unless I'm misunderstanding this and this is strictly concerning the AP side of things, not the client.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706035/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706042"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2016 20:29 UTC (Wed)
                               by <b>pizza</b> (subscriber, #46)
                              [<a href="/Articles/706042/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Are the WiFi drivers for popular Android phones upstreamed? </font><br>
<p>
Not only are they generally not upstreamed, but many of them still aren't available in source form.<br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706042/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor706044"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 9, 2016 21:35 UTC (Wed)
                               by <b>sourcejedi</b> (guest, #45153)
                              [<a href="/Articles/706044/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
you are misunderstanding this :)<br>
<p>
at least in the sense that, I don't think phones with too-large transmit buffers would degrade the experience of other stations on the same network.  And such phones will still benefit from improved behaviour of the AP, in the packets they _receive_.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706044/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor706070"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2016 3:23 UTC (Thu)
                               by <b>Otus</b> (subscriber, #67685)
                              [<a href="/Articles/706070/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Has power use been a consideration and been measured?<br>
<p>
I can imagine that pushing more logic to software and handling packets in smaller batches could be detrimental to power consumption.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706070/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706161"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2016 23:58 UTC (Thu)
                               by <b>tohojo</b> (subscriber, #86756)
                              [<a href="/Articles/706161/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Not explicitly. However, while we are theoretically doing more work per packet, we have not seen anything that even registers on the CPU usage monitor. Crypto is still offloaded on most hardware, and most of the power save features of WiFi work by letting idle stations sleep for a while to conserve power. That is unchanged; these changes only really kick in when a device is busy.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706161/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor706133"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2016 16:31 UTC (Thu)
                               by <b>fredex</b> (subscriber, #11727)
                              [<a href="/Articles/706133/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
This article seems to be speaking from the point of view of the Linux workstation/laptop/whatever. But what about the wifi router/AP itself? wouldn't there be similar benefits there? (I'm aware of the firmware that implements codel for certain Netgear routers, but this article sounds as if it has more tweaks in mind than just the ones there.)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706133/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706159"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2016 23:54 UTC (Thu)
                               by <b>tohojo</b> (subscriber, #86756)
                              [<a href="/Articles/706159/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Actually, we have been doing most of the testing of this on APs. And the companion airtime fairness work is explicitly AP-centric. But it benefits clients as well; basically, it needs to go where the queues build, and that becomes the WiFi link as soon as the upstream internet speed increases above the effective WiFi rate...<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706159/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor706160"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 10, 2016 23:54 UTC (Thu)
                               by <b>lkraav</b> (subscriber, #76113)
                              [<a href="/Articles/706160/">Link</a>] (9 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
You guys are all missing the most important question: why does Dave have an Estonian word Täht ("star") for his last name?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706160/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706170"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 11, 2016 1:13 UTC (Fri)
                               by <b>mtaht</b> (subscriber, #11087)
                              [<a href="/Articles/706170/">Link</a>] (7 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Heh. I have varied explanations for my last name.<br>
<p>
1) My family's spaceship crashed in estonia in the late 1880s. Since the tradition there was serfs' last names were their job (e.g. "Joe Plumber"), thus, we named ourselves after a "star or planet", and have been trying to get off earth ever since.<br>
<p>
My hobby is asteroid exploration, as it happens.<br>
<p>
2) Ever type in just "Taht" into nearly any word processor, and watch it respell it to "That"? Yep, well over 30% of the documents I have to sign have screwed up my name, and I've watched people really struggle to get past the autocorrect to get it right. I filed bugs with every spell checker maker (in the 80s and 90s) with an algorithm to fix this, none deployed it (Anything without a period in front of it and a capital Taht, don't respell). The bastards!<br>
<p>
Thus the umlaut.<br>
<p>
3) It's a good test of i18n capability and interop with various protocols and tools. <br>
<p>
4) I used to be a death metal fan.<br>
<p>
I am glad I could clear this mystery up. Back to WiFi!<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706170/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706188"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 11, 2016 6:55 UTC (Fri)
                               by <b>lkraav</b> (subscriber, #76113)
                              [<a href="/Articles/706188/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
ACKACKACKA<br>
<p>
(because min. 10 char ACK needed here)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706188/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706270"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 11, 2016 16:44 UTC (Fri)
                               by <b>mtaht</b> (subscriber, #11087)
                              [<a href="/Articles/706270/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Of possible interest is the pathological piece I wrote while wrestling with who I am today. This epiphany is why I'm now "dave", and not "mike" taht - and it's where Ham the analogy came from: <a href="http://the-edge.blogspot.com/2003_06_08_the-edge_archive.html#200399808">http://the-edge.blogspot.com/2003_06_08_the-edge_archive....</a><br>
<p>
I've cultivated out of the box thinking ever since, in myself, and everyone.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706270/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor706674"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 17, 2016 10:06 UTC (Thu)
                               by <b>Wol</b> (subscriber, #4433)
                              [<a href="/Articles/706674/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; I filed bugs with every spell checker maker (in the 80s and 90s) with an algorithm to fix this, none deployed it (Anything without a period in front of it and a capital Taht, don't respell). The bastards!</font><br>
<p>
WordPerfect had an incredibly simple fix for this, in response to all sorts of problems.<br>
<p>
1) Let the user dictionary correct a word to itself, eg "MSc == MSc".<br>
<p>
2) The user dictionary is the first one consulted.<br>
<p>
3) As soon as any dictionary or rule fired, terminate all further checking.<br>
<p>
Fixes ANY and ALL spellcheck problems :-) (Oh, and this was back in WP5.1 for DOS, if not earlier.)<br>
<p>
Cheers,<br>
Wol<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706674/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706763"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 17, 2016 21:19 UTC (Thu)
                               by <b>mtaht</b> (subscriber, #11087)
                              [<a href="/Articles/706763/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
In the vast majority of cases you want the spellchecker to automagically correct taht to that.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706763/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor706775"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 17, 2016 23:44 UTC (Thu)
                               by <b>zlynx</b> (guest, #2285)
                              [<a href="/Articles/706775/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yes but the vast majority of words which are capitalized and not at the beginning of the sentence are proper nouns which are often spelled differently from regular words.<br>
<p>
Examples: Kaycee, Maryanne, Marianne, Marian, Britney, Britnee, Destynie.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706775/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor706792"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 18, 2016 4:47 UTC (Fri)
                               by <b>neilbrown</b> (subscriber, #359)
                              [<a href="/Articles/706792/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; In the vast majority of cases you want the spellchecker to automagically correct taht to that.</font><br>
<p>
Speak for yourself :-)<br>
<p>
In every single imaginable case I do *not* want any spellchecker to automagically correct anything.<br>
I'm very happy for possible errors to be highlighted and for probable corrections to be only a gesture away.  But if I ever make an error (whch I do), I want it to be *my* error, not a machine's.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706792/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor706861"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 18, 2016 20:49 UTC (Fri)
                               by <b>Wol</b> (subscriber, #4433)
                              [<a href="/Articles/706861/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
So, you have "Taht == Taht".<br>
<p>
Okay, it won't pick up a mis-spelt "that" at the start of a sentence, but when was that ever "proper" English". :-)<br>
<p>
Iirc the complete rule, WordPerfect ignored case if the dictionary entry was all lower case. As soon as you had mixed or upper case, it had to be a perfect match.<br>
<p>
Cheers,<br>
Wol<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706861/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor706198"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 11, 2016 12:20 UTC (Fri)
                               by <b>osma</b> (subscriber, #6912)
                              [<a href="/Articles/706198/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I'm glad you asked it, since I was wondering the same!<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/706198/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor816294"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Making WiFi fast</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 30, 2020 19:11 UTC (Mon)
                               by <b>mtaht</b> (subscriber, #11087)
                              [<a href="/Articles/816294/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I just wanted to note that AQL finally landed for the ath10k in openwrt head yesterday, and the results are *wonderful*.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/816294/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2016, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
