        <!DOCTYPE html>
        <html lang="en">
        <head><title>4.20 Merge window part 2 [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/770079/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/770568/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/770079/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>4.20 Merge window part 2</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>We're bad at marketing</b>
<p>
We can admit it, marketing is not our strong suit. Our strength is
writing the kind of articles that developers, administrators, and
free-software supporters depend on to know what is going on in the
Linux world. Please <a href="/Promo/nsn-bad/subscribe">subscribe today</a> to help us keep doing that, and so
we don’t have to get good at marketing.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>November 5, 2018</br>
           </div>
At the end of the 4.20 merge window, 12,125 non-merge
changesets had been pulled into the mainline kernel repository; 6,390 came
in since <a href="/Articles/769477/">last week's summary</a> was written.
As is often the case, the latter part of the merge window contained a
larger portion of cleanups and fixes, but there were a number of new
features in the mix as well.

<p>
<h4>Architecture-specific</h4>
<p>
<ul class="spacylist">

<li> The MIPS architecture has gained support for kexec on many
     sub-architectures.
<li> Support for the <a href="http://en.c-sky.com/">C-SKY processor
     architecture</a> has been added to the kernel.
</ul>

<p>
<h4>Core kernel</h4>
<p>
<ul class="spacylist">

<li> The <a href="/Articles/759781/">pressure-stall information</a> patch
     set has been merged.  It creates a new set of kernel interfaces giving
     better information on just what is slowing the system down.
<li> The new "udmabuf" pseudo-device allows user-space code to convert a
     memfd region into a dma-buf structure; it is intended for use in
     QEMU. 
<li> The syntax for accessing data from kprobes has been extended to allow
     easier access to arrays and function arguments.  <a
     href="https://git.kernel.org/linus/343a9f35409b68b6de66ecd0db90a277aee90ec2">This
     merge commit</a> gives an overall picture of the changes.
</ul>

<p>
<h4>Filesystems and block layer</h4>
<p>
<ul class="spacylist">

<li> There are two new <tt>ioctl()</tt> commands for working with zoned
     devices: <tt>BLKGETZONESZ</tt> to get the zone size, and
     <tt>BLKGETNRZONES</tt> to get the number of zones.  Both will return
     zero for normal (non-zoned) block devices.
<li> The <tt><a
     href="http://man7.org/linux/man-pages/man2/fanotify_mark.2.html">fanotify_mark()</a></tt>
     system call has gained a new <tt>FAN_MARK_FILESYSTEM</tt> mark type;
     it can be used to watch all events happening within a filesystem.
<li> Server-side support for the NFS 4.2 asynchronous copy protocol has
     been added. 
<li> The UBIFS filesystem has a new authentication feature meant to prevent
     attacks via corrupted data structures; see <a
     href="https://git.kernel.org/linus/e453fa60e086786fe89ba15ee8fef80bc2e6ecc3">this
     document</a> for details.
</ul>


<p>
<h4>Hardware support</h4>
<p>
<ul class="spacylist">


<li> <b>Clock</b>:
     Qualcomm SDM845 camera clock controllers,
     Qualcomm SDM660 and QCS404 global clock controllers, and
     Ingenic JZ4725B clocks.

<li> <b>Graphics</b>:
     Rockchip RGB output controllers.
<li> <b>Industrial I/O</b>:
     Qualcomm SPMI PMIC5 analog-to-digital converters (ADCs),
     Analog Devices ADXL372 3-Axis accelerometers.
     Microchip Technology MCP3911 ADCs
     Linear Technology LTC1660/LTC1665 digital-to-analog converters (DACs), and
     STMicroelectronics VL53L0X ToF ranger sensors.
<li> <b>Miscellaneous</b>:
     STMicroelectronics STM32 thermal sensors,
     Marvell Armada 37xx watchdog timers,
     Toshiba TC358764 DSI/LVDS bridges,
     NXP i.MX pixel pipelines,
     Sony IMX319 and IMX355 sensors,
     Xilinx ZynqMP Ultrascale+ clock controllers,
     Qualcomm ADSP peripheral image loaders, and
     Allwinner sunXi video decoders.
<li> <b>USB</b>:
     Cadence MHDP DisplayPort PHYs,
     Marvell PXA USB PHYs,
     UniPhier USB2 and USB3 PHYs, and
     Rockchip INNO HDMI PHYs.
<li> The media subsystem has a new experimental "request API" meant to
     support frame-to-frame parameter changes in devices with that
     capability.  See <a
     href="https://git.kernel.org/linus/cbb6a7f52b148dea0fed434b629aedddf7804d14">this
     commit</a> for documentation on the user-space API for this feature.
</ul>

<p>
<h4>Security</h4>
<p>
<ul class="spacylist">

<li> After <a href="/Articles/764325/">a number of ups and downs</a>, the
     "STACKLEAK" GCC plugin has finally been merged into the mainline.
     This plugin works to keep information from leaking out of the kernel
     via uninitialized on-stack variables.

</ul>

<p>
<h4>Internal kernel changes</h4>
<p>
<ul class="spacylist">

<li> The <a href="/Articles/745073/">XArray data structure</a>, a reworking
     of the radix tree structure, has been merged at last and the page
     cache has been converted to use it.
<li> Kernel builds now use <tt>-Wvla</tt> to warn about the use of
     variable-length arrays.  That has become possible because the task of
     <a href="/Articles/749064/">removing VLAs</a> has finally reached its
     conclusion (or something close to it).
<li> The new <tt>list_bulk_move_tail()</tt> list function will move a
     subsection of the list to the tail.
<li> Two <tt>file_operations</tt> methods — <tt>clone_file_range()</tt> and
     <tt>dedupe_file_range()</tt> — have been combined into the new
     <tt>remap_file_range()</tt> method, since there was a fair amount of
     overlap between them.  All in-kernel filesystems have been updated.
</ul>
<p>

One feature that didn't quite get in was the <a
href="/Articles/759499/">new filesystem mounting API</a>, which was <a
href="/ml/linux-kernel/20181031053355.GQ32577@ZenIV.linux.org.uk/">sent to
Linus</a> but then ran into some opposition.  It is likely to be
restructured so that the internal virtual filesystem changes go in first,
with the user-visible API changes happening later.  It is possible, though
perhaps unlikely, that the internal changes could still be pulled in the
near future.
<p>
Now it's a matter of stabilizing all of that new code for the final
release which, if the usual schedule holds, can be expected just before the
end of the year.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-4.20">Releases/4.20</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/770079/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2018, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
