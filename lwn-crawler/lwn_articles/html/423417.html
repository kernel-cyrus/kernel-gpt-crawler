        <!DOCTYPE html>
        <html lang="en">
        <head><title>Review: The Linux Programming Interface [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/423417/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/422855/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/423417/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>Review: The Linux Programming Interface</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Did you know...?</b>
<p>
LWN.net is a subscriber-supported publication; we rely on subscribers
       to keep the entire operation going.  Please help out by <a
       href="/Promo/nst-nag4/subscribe">buying a subscription</a> and keeping LWN on the
       net.
</blockquote>
<div class="FeatureByline">
           By <b>Jake Edge</b><br>January 19, 2011</br>
           </div>
<p>
Michael Kerrisk's (relatively) new book, <i>The Linux Programming
Interface</i> (TLPI), is targeted at Linux system programmers, but it is
not just 
those folks who will find it useful.  While it is a hefty tome ("<q>thick
enough to stun an ox</q>" as Laurie Anderson might say), it is eminently
readable, both by browsing through it or by biting the bullet and reading
it straight through.  The coverage of the Linux system call interface is
encyclopedic, but the writing style is very approachable.  It is, in short,
an excellent reference that will likely find its way onto the bookshelves
of user-space developers and kernel hackers&mdash;including some who
aren't necessarily primarily focused on Linux.
</p>

<img src="https://static.lwn.net/images/2011/TLPI-front-cover.png" hspace=3 align="right"
width=95 height=125 alt="[TLPI cover]">

<p>
Kerrisk has been the maintainer of the <a href="http://kernel.org/doc/man-pages/">Linux man pages</a> since 2004, which
gives him a good perspective on the Linux API. As he says in the preface,
it is quite likely that you have already read some of his work in sections
2, 3, 4, 5, and 7 of those pages.  But the book is not a
collection of man pages though it covers much of the same ground.  The
style and organization is much less dry, and more explanatory, than a
typical man entry. 
</p>

<p>
The book is some 1500 pages in length, which makes it a rather daunting
prospect to review.  Once I started reading it, though, it was quite
approachable.  Kerrisk's clear descriptions of various system calls and
other parts of the Linux API made it easy to keep reading.  I set out to
pick and choose certain chapters to read, and just skim the others, but found
myself reading quite a bit more than that&mdash;which might partially
explain the lateness of this review.
</p>

<p>
The book is organized into 64 chapters of around 20 pages each, which makes
for nice bite-sized chunks that allow for reading the book around other
tasks.  While 
the focus is on Linux, Kerrisk doesn't neglect other Unix varieties and
notes where they differ from Linux.  He also pays careful attention to the
various standards that specify Unix behavior&mdash;like POSIX and the Single
Unix Specification (SUS)&mdash;pointing out where Linux does and does not
follow those standards.
</p>

<p>
TLPI was written for kernel version 2.6.35 and glibc 2.12.  In the text,
though, Kerrisk is careful to indicate which kernel version introduced a
new feature, so that those working with older kernels will know which they
can use.  While it is primarily looking at the 2.6 series, 2.4 is not
neglected, and the text notes features that were introduced at various
points in the 2.4 kernel history.

<p>
The book starts with a bit of history, going all the way back to Ken
Thompson and Dennis Ritchie and then moving forward to the present, looking
at the various branches of the Unix tree.  It then moves into a description
of what an operating system is, the role that the kernel plays, and some of
the overarching concepts that make up Unix (and Linux).  While this
information may be unnecessary for most Linux hackers, it will come in
handy for those coming to Linux from other operating systems.  The
ideas that "everything is a file" and that files are just streams of bytes
are described in ways that will quickly get a system programmer up to speed
on the "Unix way".
</p>

<p>
After that introductory material, Kerrisk launches into the chapters that
cover aspects of the system call interface.  This makes up the vast
majority of the book and each of these chapters is fairly self-contained.
They build on the earlier chapters, but the text is replete with references
to other sections.  In the preface, Kerrisk says that he attempted to
minimize forward references, but that clearly was a difficult task as there
are often as many forward as backward references in a chapter.
</p>

<p>
Navigating within the book is easy to do because there are frequent
numbered section
and subsection headings, along with the chapter number on each page.  Other
technical books could benefit from that style.  There is also an almost too
detailed index that runs to more than 50 pages.
</p>

<p>
Each chapter comes with sample code that is easy to read and understand.
Importantly, the examples also do a good job of demonstrating the topic at
hand and some of them could be adapted into useful utilities.  The code is
available from the <a href="http://man7.org/tlpi/">TLPI web site</a> and is
free software released under the Affero GPLv3.  Each chapter also has a
handful of 
exercises for the reader, some of which have answers in one of the
appendices. 
</p>

<p>
So, what does the book cover?  It would be easy to say "all of it", but
that would be something of a cop-out, and a bit inaccurate as well.  There
are multiple chapters on files, file I/O, filesystems, and file attributes,
extended attributes, and access control lists (ACLs).  There is a chapter
covering directories and links, as well as one that looks at the inotify
file event notification call.
</p>

<p>
There are multiple chapters on processes, threads, signals, as well as
chapters covering process
groups and sessions, and process priorities and scheduling.  Of particular
interest to me were a chapter on writing secure privileged programs and one
on Linux capabilities.  There are two chapters on shared libraries, the
first of which is more about the ideas underlying libraries and shared
libraries along with how to build them, rather than the <tt>dlopen()</tt> system
call (and friends), which is covered in 
the second.
</p>

<p>
There are, perhaps, too many chapters covering interprocess communication
(IPC), with separate chapters devoted to each System V IPC mechanism
(shared memory, message queues, and semaphores).  There is also a chapter
for each of the POSIX variants of those three IPC types.  Both POSIX and
System V IPC get their own
introductory chapter in addition to the chapters focusing on the details of
each type. Sandwiched
between the System V and POSIX IPC mechanisms are two chapters on
memory mapping and virtual memory operations that might have been better
placed elsewhere in the book.  There is
also a chapter devoted to an introduction to IPC and one that looks at the
more traditional Unix pipes and FIFOs.  In all, there are twelve chapters
on IPC before we even get to the sockets API.
</p>

<p>
After IPC, comes a chapter on file locking followed by six chapters
covering sockets.  Those chapters look at Unix and internet domain sockets,
along with server design and advanced sockets topics.  The book wraps up
with a chapter on each of terminals and pseudoterminals, with something of
an oddly placed "Alternative I/O Models" chapter in between them.  It's an
interesting chapter, covering <tt>select()</tt>, <tt>poll()</tt>,
<tt>epoll()</tt>, signal-driven I/O, and a few other topics, but it seems
weird where it is.
</p>

<p>
There is more, of course, and looking at the <a
href="http://man7.org/tlpi/toc-detailed.html">detailed table of
contents</a> will fill out the list.  One thing that stands out from the
book is the vast size of the Linux/Unix API.  It also points out some of
the warts and historical cruft that is carried along in that API.  Kerrisk
is not shy about noting things like that where appropriate in the text:
"<q>In summary, System V message queues are often best avoided.</q>"
</p>

<p>
There were two specific topics that I looked forward to reading about but
were only marginally covered by the book.  The first is containers and
namespaces, which are very briefly mentioned in a discussion of the flags
to the <tt>clone()</tt> system call.  A more puzzling omission is that
there is almost
no mention of the <tt>ptrace()</tt> system call.  In the few places it does
come up, readers are referred to the <tt>ptrace(2)</tt> man page.
</p>

<p>
There are certainly other parts of the Linux API that could have been
covered, beyond the system call interface&mdash;sysfs, <tt>splice()</tt>,
and perf come to mind&mdash;but Kerrisk undoubtedly needed
to draw the line somewhere.  Overall, he did an excellent job of that.
Technical books, especially those covering Linux, have a tendency to get
stale rather quickly, but  TLPI shouldn't suffer from that as much as a kernel
internals book would, for example.  There should really only be additions
down the road as the user-space API is maintained by the kernel developers
"forever", but updates will presumably need to be made eventually.
</p>

<p>
There are a handful of additional complaints I could make about the book,
but they are 
all quite minor, as were those mentioned above. The biggest nit is that the
"asides" in the text, which are numerous, are really often much more than
just asides.  Each is set off from the rest of text, indented and rendered
in a slightly smaller font (which is typographically a bit annoying to
me), and are meant to contain additional information that is not
necessarily critical to understanding the topic.  In my experience, though,
many of them might best have been worked into the main text.  See what I
mean about minor complaints?

<p>
This is a book that will be useful to application and system-level
developers, primarily, but there is much of interest for others as well.
Kernel hackers will find it useful to ensure their new feature (or fix)
doesn't break the existing API.  Programmers who are primarily targeting
other Unix systems may also find it useful for making their code more
portable. I found it to be extremely useful and expect to return to it
frequently. Anyone who has an interest in programming for Linux will likely
feel the same way.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Books">Books</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/423417/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor423782"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 19, 2011 20:04 UTC (Wed)
                               by <b>b7j0c</b> (guest, #27559)
                              [<a href="/Articles/423782/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
i've been reading this and its an impressive work. i can only imagine the amount of effort that went into writing this...<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/423782/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor423795"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 19, 2011 20:49 UTC (Wed)
                               by <b>mkerrisk</b> (subscriber, #1978)
                              [<a href="/Articles/423795/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      Note to readers of this review: there is a temporary glitch in the man7.org web page that points to the source code tarballs for TLPI. This should be fixed in about 24 hours, but in the meantime the correct location for the code can be found <a href="http://blog.man7.org/2011/01/source-code-download-glitch.html">here</a>.
      
          <div class="CommentReplyButton">
            <form action="/Articles/423795/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor423851"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 20, 2011 8:09 UTC (Thu)
                               by <b>mkerrisk</b> (subscriber, #1978)
                              [<a href="/Articles/423851/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The links for the source code tarballs have now been corrected on man7.org.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/423851/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor423798"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 19, 2011 21:01 UTC (Wed)
                               by <b>Cyberax</b> (<b>&#x272D; supporter &#x272D;</b>, #52523)
                              [<a href="/Articles/423798/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Wow! Thanks!<br>
<p>
I sooooo needed a book like this that I even contemplated writing it myself.<br>
<p>
/me waits for ebook.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/423798/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor423820"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 20, 2011 1:00 UTC (Thu)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/423820/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
if you buy the book from the publisher, you will get the e-book version as well.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/423820/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor423887"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 20, 2011 12:55 UTC (Thu)
                               by <b>jku</b> (subscriber, #42379)
                              [<a href="/Articles/423887/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Disappointing if the hard copies bought from other sellers don't include that...<br>
<p>
Anyway, there's a coupon code on <a href="http://man7.org/tlpi/">http://man7.org/tlpi/</a> that gives 30% off -- that makes the publisher price at least somewhat competitive with other shops.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/423887/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor423953"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 20, 2011 18:46 UTC (Thu)
                               by <b>mkerrisk</b> (subscriber, #1978)
                              [<a href="/Articles/423953/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Quoting a <a href="http://blog.man7.org/2011/01/ebook-status.html">just-posted blog entry</a>:
<blockquote>
<p>
Some days ago, No Starch Press <a href="http://www.nostarch.com/tlpi/">started selling an ebook</a> version of TLPI. The ebook is also provided for free when you buy a paper copy of TLPI from No Starch (<a href="http://man7.org/tlpi/index.html#ordering">look here for coupon&mdash;valid until end of February&mdash;that provides a publisher discount</a> for the book+ebook package).
</p>
<p>
Currently, the ebook is available only in PDF form and only from No Starch. However, a full range of other ebook formats is currently in production, and when those formats are available they will be sold through the usual retail channels (and made available to No Starch customers who already have the ebook). I expect those other formats to be available around mid-February.
</p>
</blockquote>

      
          <div class="CommentReplyButton">
            <form action="/Articles/423953/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor423898"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 20, 2011 14:00 UTC (Thu)
                               by <b>Cyberax</b> (<b>&#x272D; supporter &#x272D;</b>, #52523)
                              [<a href="/Articles/423898/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I'm in Ukraine and shipping options are limited and costly. Also, I don't like physical books because I move quite frequently.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/423898/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor423804"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 19, 2011 21:35 UTC (Wed)
                               by <b>andikleen2</b> (guest, #52506)
                              [<a href="/Articles/423804/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yes it's a very nice book. I expect it to become the "Stevens" of Linux low level programming.<br>
<p>
-Andi<br>
 <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/423804/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor423801"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 19, 2011 21:47 UTC (Wed)
                               by <b>dougg</b> (guest, #1894)
                              [<a href="/Articles/423801/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
As pointed out in the preface of the book, its format is homage to the late Richard Stevens who wrote a great series of books on Unix and TCP/IP programming in the 1990s. After carrying around TLPI for several weeks I am beginning to think that dividing TLPI into several volumes (like Richard Stevens did) would be a good idea.<br>
Having fought with System V IPC I think that I'll skim the IPC sections. Besides I use inotify, flock and tmpfs to cover my current IPC needs. And TLPI is the first book that I have seen to cover those three subjects.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/423801/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor423817"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 20, 2011 0:26 UTC (Thu)
                               by <b>Nick</b> (guest, #15060)
                              [<a href="/Articles/423817/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I have a copy of this, and I would recommend it for userspace programmers using the Linux kernel API and also kernel programmers implementing it.<br>
<p>
It's huge, but each particular section is well split up, so they are digestible chunks. Those parts I have read so far are interesting and informative.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/423817/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor423849"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 20, 2011 7:16 UTC (Thu)
                               by <b>alison</b> (subscriber, #63752)
                              [<a href="/Articles/423849/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
LWN needs a "buy now" button so that we can help support the site with book purchases.<br>
<p>
It's worth mentioning Matthew and Stones' _Beginning Linux Programming_ while on this topic.     That book is a few years older and obviously less encyclopedic but nonetheless a wonderful and more portable reference.    I particularly love that M&amp;S include examples of bad code and bad practices in using the C API.    I have learned the answers to several long-time puzzlements by typing in their examples and picking them apart.   While I read the M&amp;S book in order of my curiosity, I'm pretty sure I have now covered pretty much the whole multi-hundred page volume.    As with any good bible, those so inclined can always while away 5 minutes by opening M&amp;S to a random page.<br>
<p>
Unfortunately it sounds like I need the Kerrisk book too: sigh.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/423849/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor423897"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">&quot;Buy now&quot;</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 20, 2011 14:00 UTC (Thu)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/423897/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      Almost exactly a year ago we were dipping our toes back into the affiliate scene so we could provide just such a button.  Then <a rel="nofollow" href="http://www.bizjournals.com/denver/stories/2010/03/08/daily12.html">this happened</a>.  I can only say that we were quite glad not to be dependent on that revenue stream...
      
          <div class="CommentReplyButton">
            <form action="/Articles/423897/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor423915"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">&quot;Buy now&quot;</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 20, 2011 15:14 UTC (Thu)
                               by <b>rriggs</b> (guest, #11598)
                              [<a href="/Articles/423915/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Amazon ain't the only game in town...<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/423915/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor423928"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">&quot;Buy now&quot;</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 20, 2011 16:32 UTC (Thu)
                               by <b>alison</b> (subscriber, #63752)
                              [<a href="/Articles/423928/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
"Buy now" from No Starch or O'Reilly or other FLOSS-friendly presses certainly seems safer.    Why not ThinkGeek LWN t-shirts to support the site too?    Or Flattr buttons, maybe?   Easy for me to propose a whole list of improvements for other to implement, as always!    I bought the Kerrisk book last night (and another at the same time) and am sorry LWN doesn't get a cent.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/423928/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor423932"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">&quot;Buy now&quot;</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 20, 2011 16:48 UTC (Thu)
                               by <b>jake</b> (editor, #205)
                              [<a href="/Articles/423932/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Why not ThinkGeek LWN t-shirts to support the site too?</font><br>
<p>
these we have (though not from ThinkGeek): <a rel="nofollow" href="http://www.cafepress.com/lwn_net">http://www.cafepress.com/lwn_net</a><br>
<p>
jake<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/423932/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor423944"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 20, 2011 17:39 UTC (Thu)
                               by <b>RobSeace</b> (subscriber, #4435)
                              [<a href="/Articles/423944/">Link</a>] (14 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; 57.6   The Linux Abstract Socket Namespace</font><br>
<p>
I'm delighted to see this listed in the table of contents...  This is a criminally underdocumented and seemingly little known feature...  I really wish all apps that use a Unix domain socket would use an abstract name instead of a real filesystem name, requiring yet another stupid "/tmp" directory be created to hold it, or whatever...  Unix domain sockets within the filesystem are just ugly clutter, and serve no useful purpose...  The abstract namespace is a brilliant concept, which I wish all other Unices would steal...<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/423944/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor423955"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 20, 2011 18:49 UTC (Thu)
                               by <b>Cyberax</b> (<b>&#x272D; supporter &#x272D;</b>, #52523)
                              [<a href="/Articles/423955/">Link</a>] (13 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
And I happen to have quite the opposite opinion. For example, real filesystems allow me to use "lsof" to check the list of socket's clients. Or to use common Unix permissions to control access.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/423955/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor423958"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 20, 2011 19:15 UTC (Thu)
                               by <b>RobSeace</b> (subscriber, #4435)
                              [<a href="/Articles/423958/">Link</a>] (12 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
"lsof -U" will list all Unix domain sockets, including those in the abstract namespace...  It would be nice if it displayed the actual abstract name in a format similar to "/proc/net/unix", and allowed searching for them by that name as well, I agree...  But, that's more a shortcoming of lsof than of abstract Unix domain sockets...<br>
<p>
And, using filesystem permissions to control access of Unix domain sockets is highly unportable...  Many systems totally ignore perms on Unix domain sockets, making them effectively always 0777, like symlinks...  (Yes, of course, the abstract namespace is also unportable, so relying on one Linux quirk is as good/bad as relying on another, I suppose...)  But, any sane app that needs to restrict who talks to it over a Unix domain socket will use a much better app-level restriction of some kind, probably using SO_PEERCRED or SCM_CREDENTIALS/SO_PASSCRED or something of the sort, if not a full-blown login/authentication mechinism...<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/423958/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor423968"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 20, 2011 19:20 UTC (Thu)
                               by <b>Cyberax</b> (<b>&#x272D; supporter &#x272D;</b>, #52523)
                              [<a href="/Articles/423968/">Link</a>] (7 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt;But, that's more a shortcoming of lsof than of abstract Unix domain sockets...</font><br>
<p>
That's not a shortcoming of lsof, but a shortcoming of having a separate namespace. It goes against all the Unix traditions.<br>
<p>
While we're at it, why not move /dev into a separate namespace (like Windows does, BTW)? And then /sys and /proc.<br>
<p>
Well, personally I don't care about other Unixes. However, ability to use AppArmor to restrict access to sockets somehow makes me feel more secure.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/423968/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor423995"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 20, 2011 20:10 UTC (Thu)
                               by <b>RobSeace</b> (subscriber, #4435)
                              [<a href="/Articles/423995/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; That's not a shortcoming of lsof, but a shortcoming of having a separate</font><br>
<font class="QuotedText">&gt; namespace. It goes against all the Unix traditions.</font><br>
<p>
Not when it comes to sockets, it doesn't...  Do your TCP and UDP sockets exist in the filesystem, as well?  How do you think lsof deals with those?  Right, it has to deal with a separate namespace...  Just like it should be taught how to do with Linux's abstract Unix domain namespace...  It's not like it's hard: they're right there in "/proc/net/unix", which it already reads anyway...<br>
<p>
What, aside from lsof, actually needs to ever reference a Unix domain socket by pathname as if it were a file, anyway?  It's not like you can just pass one to an arbitrary app which is expecting a file, and expect it to do anything sensible...  Like, for instance, you can do with a named pipe...  That's a case where existing in the filesystem is actually useful...  There's absolutely no use to socket files; they're not "files" in any meaningful sense, because you can't do file I/O on them...  They're just special creatures that happen to be identified via a pathname...<br>
<p>
And, your strawman about getting rid of "/dev", "/sys", "/proc", etc. is missing the point entirely...  The things under those dirs are perfectly usable AS FILES!  They may be special creatures of their own, but plain old file I/O works on them; you can open() them, read() from them, write() to them...  You can't do that on a socket "file"...  I'm all in favor of "everything as a file", having used Unix-like systems for well over 20 years now...  But, I'm not in favor of leaving tons of file-like tokens scattered all over the filesystem, which can't actually be used like files for anything, and which only exist there for the sole purpose of having a unique name to identify them by...<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/423995/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor423998"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 20, 2011 20:21 UTC (Thu)
                               by <b>Cyberax</b> (<b>&#x272D; supporter &#x272D;</b>, #52523)
                              [<a href="/Articles/423998/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt;Not when it comes to sockets, it doesn't... Do your TCP and UDP sockets exist in the filesystem, as well? How do you think lsof deals with those?</font><br>
<p>
Which is a shortcoming of Unix design (which was fixed in 9p, btw). <br>
<p>
<font class="QuotedText">&gt;What, aside from lsof, actually needs to ever reference a Unix domain socket by pathname as if it were a file, anyway? It's not like you can just pass one to an arbitrary app which is expecting a file, and expect it to do anything sensible... </font><br>
<p>
How about security with AppArmor? Does your namespace work with chroot? Also, unix sockets have a creation time (which helped me once).<br>
<p>
<font class="QuotedText">&gt;And, your strawman about getting rid of "/dev", "/sys", "/proc", etc. is missing the point entirely... The things under those dirs are perfectly usable AS FILES!</font><br>
<p>
Not really. I can't open a lot of files in /proc for writing or reading. Quite a lot of devices in /dev are IOCTL-only and can't perform any read/write operation and so on.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/423998/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor424001"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 20, 2011 21:08 UTC (Thu)
                               by <b>RobSeace</b> (subscriber, #4435)
                              [<a href="/Articles/424001/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Which is a shortcoming of Unix design</font><br>
<p>
Perhaps, but given that you need to use completely different syscalls to work with sockets, and can't really just use regular file syscalls on them (well, for the most part; of course you can use read()/write() on them), I'm not sure I agree...  How does Plan9 deal with this?  Can you just open() up a TCP socket, and somehow specify a host and port to connect to, or one to listen on?  (A la bash's "/dev/tcp"...)  Once you do, does this process-specific socket exist as a separate file for others to see (and interact with)?  I'm not sure I see how it makes much sense, in general...<br>
<p>
<font class="QuotedText">&gt; How about security with AppArmor?</font><br>
<p>
Maybe, I know nothing about AppArmor...  My distro (RHEL/CentOS) doesn't use it, favoring SELinux instead...  (And, there's probably SOME method of making SELinux work with abstract Unix domain sockets, but goodness knows if anyone could ever figure out HOW!)<br>
<p>
<font class="QuotedText">&gt; Does your namespace work with chroot?</font><br>
<p>
My namespace?  Thanks for the credit, but I didn't invent it; I'm just a very big fan of it who regularly uses it... ;-)<br>
<p>
But, sure, I guess that's a possible valid use...  I'm not sure I can really conceive of a real-world use for such a thing, however...  Maybe sandboxing something with its own private "/dev/log" that goes somewhere other than the real syslogd? *shrug*<br>
<p>
<font class="QuotedText">&gt; Also, unix sockets have a creation time (which helped me once).</font><br>
<p>
Well, not really; like any other file, they've got modify and change times...  But, yeah, both will generally reflect creation time...  I'm not really sure how that'd be of much help in general, though?<br>
<p>
<font class="QuotedText">&gt; I can't open a lot of files in /proc for writing or reading.</font><br>
<p>
Like which?  For reasons other than permissions?  Not talking about directories (or symlinks to them), I assume?  Do you mean the non-file FD symlinks under "/proc/#/fd/"?  Those you can at least readlink() like a real symlink...<br>
<p>
<font class="QuotedText">&gt; Quite a lot of devices in /dev are IOCTL-only and can't perform any read/write operation and so on.</font><br>
<p>
Is it really a lot?  Even if so, at least you can open() them...  And, at least all the device special files are confined to "/dev" (in practice), rather than scattered wherever (usually in "/tmp") like most filesystem Unix domain sockets...  If they had their own directory to live in which everyone used by convention, I wouldn't mind them nearly as much...  I don't mind "/dev/log", since it's stuck in "/dev/" with the other special files...<br>
<p>
One huge benefit of abstract Unix domain sockets is no need to worry about unlink()'ing them when you're done, and dealing with the race conditions inherent in that...  They just go away when you exit or close() the listening socket...  With filesystem sockets, a server needs to see if the socket already exists in the filesystem; if so, maybe that means another copy of itself (or some other app) is using that socket; or, maybe it means it previously crashed before being able to remove that socket...  Should it unlink() it and try to bind() it itself?  Only way to know is try to connect() to it, and see if someone is really listening on it (or look for it in "/proc/net/unix")...  None of this is needed with abstract Unix domain sockets...<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/424001/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor424065"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 21, 2011 15:00 UTC (Fri)
                               by <b>price</b> (guest, #59790)
                              [<a href="/Articles/424065/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The reason abstract-namespace sockets are evil is that everything you end up wanting to do to them has to be reinvented, or else you live without.  If on the other hand you use a common abstraction, namely the filesystem, then you get the benefit of all the common tools.<br>
<p>
Cyberax's examples of the things you want to do include<br>
 * protect with AppArmor<br>
 * hide in a namespace away from some processes (like with chroot)<br>
 * see when they were created (presumably for debugging)<br>
<p>
Here's my example:<br>
 * move them out of the way.<br>
You think you wouldn't want that for a socket?  Think again.  I once had to deal with a buggy server process (clvmd) that would occasionally hang unkillably (due to a kernel bug), while holding an abstract-namespace socket.  This means that when I tried to restart it, the new process would immediately fail because the socket was already bound.<br>
<p>
If the clvmd authors had used filesystem sockets like good Unix-respecting developers, I could have simply mv'd or even rm'd the old socket, and the new process would have been free to bind to its socket at the usual name.  Instead, I had to restart the box.  This was a VM server -- dozens of people's VMs were affected by each restart.  The bug recurred a couple of times a day.  I *really* wished the program had used sockets in the filesystem, or that somebody had implemented rename() or unlink() for abstract-namespace sockets -- but who would do that?  The program should have used sockets in the filesystem.<br>
<p>
If you're unhappy because a system leaves files around in /tmp that aren't used anymore, you're really focusing on the wrong things.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/424065/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor424072"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 21, 2011 15:39 UTC (Fri)
                               by <b>RobSeace</b> (subscriber, #4435)
                              [<a href="/Articles/424072/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; examples of the things you want to do include</font><br>
<p>
No, I want to do none of those things...  Maybe they are things YOU and others want to do...  But, personally, I have no need for any of them, and they mostly seem like stretches and grasping at straws to justify them existing in a place they certainly don't belong (the filesystem)...<br>
<p>
And, your example of a buggy app and/or kernel is just crazy...  You want to be able to kluge around a serious app/kernel bug by stealing its socket out from under it, and replacing it via another running copy?  How about just fixing the bug!  What if it were holding a TCP port# instead?  Do you complain that you can't "rm" listening TCP ports, too?<br>
<p>
<font class="QuotedText">&gt; If you're unhappy because a system leaves files around in /tmp that aren't used anymore</font><br>
<p>
That's part of why I dislike them...  They're scattered around wherever, often somewhere under "/tmp" (which is a really poor place for something designed to be a shared identifier for communication between multiple apps)...  But, mostly I dislike them because THEY ARE NOT FILES!  Just having them exist as a directory entry in the filesystem does not fulfill some Unix utopia idea of "everything is a file"...  In order for that to be fulfilled, the things must actually be usable AS FILES...  If they were designed such that you could pass one to an otherwise unsuspecting app, which just open()'d it normally, and that magically let that app talk to whoever is listening on the other end of the socket (a la a named pipe), then I'd be all in favor of them...  That would be brilliant...  But, no, you can't do that...  All you can do with a Unix domain socket "file" is to bind() to it or connect() to it...  They're not files; they're filesystem representations of unique socket addresses, and that's all...  As such, there's no need for them to live in the filesystem at all...  (Unless you have special rare needs like those previously mentioned which can only be solved by them having a pathname in the filesystem...)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/424072/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor425117"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 27, 2011 14:14 UTC (Thu)
                               by <b>renox</b> (guest, #23785)
                              [<a href="/Articles/425117/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; that if it were holding a TCP port# instead? Do you complain that you can't "rm" listening TCP ports, too?</font><br>
<p>
I had this need in one of our application, to workaround an issue I had to use a small tool which can 'force close' a 'listening TCP ports', having the possibility to 'rm' listening TCP ports would have been much more easy.<br>
<p>
<p>
<p>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/425117/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor425461"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 28, 2011 21:32 UTC (Fri)
                               by <b>spitzak</b> (guest, #4593)
                              [<a href="/Articles/425461/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; And, at least all the device special files are confined to "/dev" (in practice), rather than scattered wherever (usually in "/tmp") like most filesystem Unix domain sockets... </font><br>
<p>
I think this is your only legitimate complaint. Why not make a fix so the "abstract name space" is mounted under a permanent name. Then everything is in a predictable place in the filesystem, and you have all the HUGE advantages that they are in the same namespace you can search with existing tools.<br>
<p>
/proc is full of files that used to be "namespaces" (actaully various kernel calls and tools that peeked into kernel memory maps). I think it is pretty obvious that /proc is VASTLY superior to the old api, in that it is discoverable and many more tools are written to use it.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/425461/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
<a name="CommAnchor424063"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 21, 2011 14:13 UTC (Fri)
                               by <b>cras</b> (guest, #7000)
                              [<a href="/Articles/424063/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
What systems ignore filesystem permissions on UNIX sockets? I doubt any that still matter (Linux, OSX, BSDs, Solaris).<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/424063/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor424067"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 21, 2011 14:54 UTC (Fri)
                               by <b>RobSeace</b> (subscriber, #4435)
                              [<a href="/Articles/424067/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
As far as I know, most BSD derived ones do...  Maybe the modern BSDs have added support for Unix domain file permissions, but it certainly wasn't historically true...  I know I've heard of Solaris/SunOS ignoring Unix domain file perms before, as well...  From "man 7 unix" on a Linux box:<br>
<p>
       In  the Linux implementation, sockets which are visible in the filesys-<br>
       tem honour the permissions of the directory they are in.  Their  owner,<br>
       group  and  their permissions can be changed.  Creation of a new socket<br>
       will fail if the process does not have write and search (execute)  per-<br>
       mission  on  the directory the socket is created in.  Connecting to the<br>
       socket object requires read/write permission.   This  behavior  differs<br>
       from  many  BSD-derived systems which ignore permissions for Unix sock-<br>
       ets. Portable programs should not rely on this feature for security.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/424067/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor424069"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 21, 2011 15:05 UTC (Fri)
                               by <b>cras</b> (guest, #7000)
                              [<a href="/Articles/424069/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Looking at <a href="http://www.cvedetails.com/cve/CVE-1999-1402/">http://www.cvedetails.com/cve/CVE-1999-1402/</a> I think this got fixed about 10 years ago everywhere. And since there aren't any other portable solutions for this either, I think it's safe enough nowadays to trust the filesystem permissions.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/424069/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor424529"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Review: The Linux Programming Interface</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 25, 2011 9:47 UTC (Tue)
                               by <b>paulj</b> (subscriber, #341)
                              [<a href="/Articles/424529/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Solaris 10 does. I doubt it's changed, but havn't checked recent versions of OpenSolaris.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/424529/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2011, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
