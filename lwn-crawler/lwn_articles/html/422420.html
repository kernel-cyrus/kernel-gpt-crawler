        <!DOCTYPE html>
        <html lang="en">
        <head><title>2.6.38 merge window part 1 [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/422420/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/421784/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/422420/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>2.6.38 merge window part 1</h1>
</div>
<div class="ArticleText">
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>January 12, 2011</br>
           </div>
As of this writing, almost 5400 non-merge changesets have been pulled into
the mainline for the 2.6.38 development cycle.  This cycle looks to be
another busy one, with a fair emphasis on the reworking of low-level
infrastructure.  User-visible changes merged so far include:
<p>
<ul>

<li> The <a href="/Articles/418884/">per-session group scheduling patch</a> 
     has been merged.  This change should yield better interactive response
     under a number of workloads.
<p>
<li> The <a href="/Articles/419811/">dcache scalability patch set</a> has
     been merged.  This tricky code can yield significant performance
     improvements for some types of filesystem-heavy workloads.
<p>
<li> Kernel modules are finally loaded with read-only code on the x86
     architecture; data is now non-executable across the entire kernel.
     See <a href="/Articles/422487/">this article</a> for more information
     on this change.
<p><blockquote class="ad">
<b><tt>$ sudo subscribe today</tt></b>
<p>
Subscribe today and elevate your LWN privileges. You’ll have
access to all of LWN’s high-quality articles as soon as they’re
published, and help support LWN in the process.  <a href="https://lwn.net/Promo/nst-sudo/claim">Act now</a> and you can start with a free trial subscription.
</blockquote>
<p>
<li> <a href="/Articles/412062/">Transmit packet steering</a> is now
     supported by the networking layer.  This feature improves transmit
     performance by placing outgoing data on the proper (CPU-local) queue. 
<p>
<li> Support for the batman-adv mesh networking protocol has graduated from
     the staging tree and is now part of the main kernel.
<p>
<li> The <a href="/Articles/408439/">trusted and encrypted keys</a> patch
     set has been merged.
<p>
<li> The ext3 filesystem has gained support for <a
     href="/Articles/417809/">batched discard operations</a> and the
     <tt>FITRIM</tt> <tt>ioctl()</tt>.
<p>
<li> Emulation for the Video4Linux1 API has been removed from the kernel;
     any remaining V4L1 applications will need to be supported via a
     user-space library or converted to V4L2.  Some unsupported V4L1
     drivers (cpia, stradis) have been removed.  The deprecated ibmcam,
     konicawc, and ultracam drivers have also been removed; those devices
     are now supported with GSPCA drivers.
<p>
<li> New drivers include:
     <p>
     <ul>
     <li> <b>Systems and processors</b>: Marvell PXA955 processors,
     	  Buffalo Linkstation Live v3 (LS-CHL) NAS drives,
	  AM3517/05 CRANE boards, and
	  SH-Mobile AG5 (R8A73A00) processors.
     <p>
     <li> <b>Block</b>: MegaRAID 9265/9285 controllers,
     	  Acard ATP8620 host controllers,
	  Marvell Dove SDHCI controllers,
	  JMicron 388 SD/MMC controllers,
	  Tegra SD/MMC controllers, and
	  Synopsys DesignWare memory card interfaces.
     <p>

     <li> <b>Input</b>: VTI CMA3000 Tri-axis accelerometers,
     	  Renesas ST1232 touchscreen controllers,
	  Roccat Kone[+] gaming mice,
	  Synaptics TM1217 touchscreen controllers,
	  Synaptics i2c rmi4 touchscreens, and
	  vast numbers of Analog Devices inclinometers, capacitive
     	  sensors, gyroscopes, etc.

	  <p>
     <li> <b>Networking</b>: USB NCM (network control model) class devices, 
     	  USB serial CAN adapters using the LAWICEL ASCII protocol,
	  Ralink RT33xx wireless chipsets (though the driver does not
     	  actually work yet), and
	  Realtek RTL8192CE/RTL8188SE wireless network adapters.
     <p>
     <li> <b>Miscellaneous</b>: SHARP LQ035Q7DB03 TFT LCD framebuffer devices,
     	  Blackfin ADV7393 video encoders,
	  PXA3xx 2D graphics accelerators,
	  TC3589X keypad controller modules,
	  VIA VT8500 on-chip serial ports,
	  Infineon 6x60 modems,
	  Intel EG20T UARTs,
	  Sensirion SHT21 humidity and temperature sensors,
	  Dallas Semiconductor DS620 sensors, and
	  Discretix SEP security processors.
     <p> 
     <li> <b>USB</b>: Marvell PXA9xx Processor USB2.0 controllers,
	  Intel EG20T (Topcliff) USB device controllers,
	  Altec Lansing AB8500 USB transceivers,
	  Qualcomm on-chip USB OTG controllers, and
	  TI twl6030-usb transceivers.

     <p>
     <li> <b>Video4Linux</b>: Fujitsu mb86a20s ISDB-T/ISDB-Tsb demodulators,
     	  Timberdale "Video In" devices,
	  TI WL1273 FM radios, and
	  OmniVision OV2640 sensors.
     </ul>

</ul>
<p>
Changes visible to kernel developers include:
<p>
<ul>

<li> Flags can now be specified for tracepoints with the <a
     href="/Articles/416665/"><tt>TRACE_EVENT_FLAGS()</tt></a> macro.  The
     initial flag of interest is <tt>TRACE_EVENT_FL_CAP_ANY</tt>, which
     allows the tracepoint to be used by unprivileged users; this flag has
     been applied to the system call tracepoints.
<p>
<li> The <tt>perf trace</tt> command has been renamed to <tt>perf
     script</tt>. 
<p>
<li> <a href="/Articles/417772/">Conditional tracepoints</a> are now
     supported by the kernel.
<p>
<li> A number of tracepoints relating to power management events have been
     changed; see <a
     href="/Articles/422633/"><tt>Documentation/trace/events-power.txt</tt></a>
     for more 
     information.  New tracepoints have been added to the RCU subsystem and
     the Radeon video driver.
<p>
<li> The <tt>cancel_rearming_delayed_work()</tt> and
     <tt>cancel_rearming_delayed_workqueue()</tt> functions are deprecated
     and will be removed in 2.6.39.
<p>
<li> The kernel build system is now able to link device tree blobs directly
     into the kernel image.
<p>
<li> There is a new capability bit (<tt>CAP_SYSLOG</tt>) which controls
     access to the system log.
<p>
<li> A new function, <tt>kref_sub()</tt>, allows code to return multiple
     references in a single call.
<p>
<li> The external data representation (XDR) API has changed to incorporate
     the "<tt>xdr_stream</tt>" concept; all in-kernel users have been
     updated.  XDR streams provide an improved resistance to buffer
     overflows, increasing the security of protocol implementations using
     XDR. 
<p>
<li> The "timerlist" infrastructure has been added for kernel subsystems
     which must manage lists of timers.  See
     <tt>&lt;linux/timerlist.h&gt;</tt> for an overview of the API.
<p>
<li> The direct rendering core has gained the ability to handle precise
     vertical blanking timestamps; this feature has been used by some
     drivers to improve their OpenML extension conformance.

</ul>
<p>
The merge window can be expected to remain open until roughly
January&nbsp;19.  That leaves plenty of time for other interesting features
to find their way into the mainline; next week we'll summarize changes for
the second half of the 2.6.38 merge window.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-2.6.38">Releases/2.6.38</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/422420/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor422809"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.38 merge window part 1</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 13, 2011 9:50 UTC (Thu)
                               by <b>bthery</b> (guest, #55632)
                              [<a href="/Articles/422809/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I guess "timerlist infrastructure" is referring to timerqueue and &lt;linux/timerqueue.h&gt;.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/422809/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor422895"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.38 merge window part 1</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 13, 2011 16:31 UTC (Thu)
                               by <b>jstultz</b> (subscriber, #212)
                              [<a href="/Articles/422895/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yes. I had missed the timer_list code, and Thomas suggested we avoid a namespace collision. So timerqueue it quickly became. :)<br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/422895/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2011, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
