        <!DOCTYPE html>
        <html lang="en">
        <head><title>2.6.32 merge window, part 1 [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/352644/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/351796/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/352644/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>2.6.32 merge window, part 1</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Ready to give LWN a try?</b>
<p>
With a subscription to LWN, you can stay current with what is happening in the Linux and free-software community and take advantage of subscriber-only site features.  We are pleased to offer you <b><a href="https://lwn.net/Promo/nst-trial/claim">a free trial subscription</a></b>, no credit card required, so that you can see for yourself.  Please, join us!
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>September 16, 2009</br>
           </div>
Linus started taking patches for the 2.6.32 merge window on
September&nbsp;10.  Thus begins the process which should lead to a final
kernel release around the beginning of December.  As of this writing, some
4400 non-merge changes have been merged.  The most significant
user-visible changes include:
<p>
<ul>

<li> The <a href="http://lwn.net/Articles/326552/">per-BDI write back
     threads patch</a> has been merged; this should lead to better
     writeback scalability.
<p>
<li> The <a href="http://lwn.net/Articles/331818/">devtmpfs</a> virtual
     filesystem has been merged.  This feature, which is seen by many as
     the return of the much-disliked devfs subsystem, has been
     controversial from the beginning, despite the facts that it differs
     significantly from devfs and some distributions are already making
     good use of it.  So it's not surprising that there was <a
     href="/Articles/353054/">opposition</a> to it being merged.  Linus
     silently accepted it, though, so it will appear in 2.6.32.
<p>
<li> The <tt>keyctl()</tt> system call has a new command
     (<tt>KEYCTL_SESSION_TO_PARENT</tt>) which causes the calling process's
     keyring to replace its parent's keyring.  This feature is evidently
     useful for the AFS filesystem; there's also a new set of security
     module hooks to control this functionality.
<p>
<li> The sysfs filesystem now understands security labels, allowing for
     tighter security policy control over access to sysfs files.
<p>
<li> The S390 architecture is now able to "call home" and send kernel oops
     reports to the service organization's mothership.  This functionality
     is controlled with the unobviously-named <tt>SCLP_ASYNC</tt>
     configuration option.
<p>
<li> the OProfile code now implements multiplexing of performance counters,
     allowing for the collection of a larger range of statistics.
<p>
<li> The SCHED_RESET_ON_FORK scheduler policy flag has been added.  This
     flag (described in <a href="http://lwn.net/Articles/339316/">this
     article</a>), causes a child process to not inherit elevated priority
     or realtime scheduling from its parent.
<p>
<li> The <tt>perf</tt> tool has a new <tt>trace</tt> operation; it
     generates a simple output stream from a user-specified set of
     tracepoints. 
<p>
<li> The default value of the <tt>child_runs_first</tt> scheduler sysctl
     knob has been changed to "false."  This causes the parent process to
     continue running after a <tt>fork()</tt> rather than yielding
     immediately to the child process.  See <a
     href="http://lwn.net/Articles/352863/">this article</a> for more
     information on 2.6.32 scheduler changes.
<p>
<li> There is a new set of scheduler tracepoints which improve visibility
     into wait, sleep, and I/O wait times.  There are also new tracepoints
     for module loading and reference count events, system call entry and
     exit, network packet copies to user space, and KVM interrupt and
     memory-mapped I/O events.
<p>
<li> A vast amount of work has happened within the wireless networking
     subsystem; most of it consists of cleanups and improvements which are
     not immediately visible to the user.  Additionally, wireless
     extensions compatibility has been improved and there is now network
     namespace support in cfg80211.
<p>
<li> The SPARC64 architecture now has rudimentary performance counter
     support. 
<p>
<li> The KVM virtualization subsystem has gained a module called "irqfd";
     it allows the host to inject interrupts into guest systems.  Along
     with irqfd comes
     a new "ioeventfd" feature enabling emulated memory-mapped I/O in
     guests.  KVM also
     now has support for the "unrestricted guest" mode supported by
     latter-day Intel VMX-capable processors.
<p>
<li> The <a href="http://lwn.net/Articles/326747/">Intel TXT integrity
     management mechanism</a> is now in the mainline. 
<p>
<li> There is a new "VGA arbitration" module which allows independent
     applications to function properly with multiple VGA devices wired to
     the same address space.  Control is through <tt>/dev/vga_arbiter</tt>;
     see <a
     href="/Articles/353020/">Documentation/vgaarbiter.txt</a> for
     details. 

<p>
<li> There is the usual pile of new drivers:
     <p>
     <ul>

     <li> <b>Audio</b>: Zoom2 system-on-chip boards,
     	  Wolfson WM8523, WM8776, WM8974, WM8993 and WM8961 codecs,
	  Freescale IMX SSI devices,
	  Freecale i.MX1x and i.MX2x-based audio DMA controllers,
	  AD1938 and AD1836 sound chips,
	  ADI BF5xx chip audio devices,
	  Openmoko Neo FreeRunner (GTA02) sound devices,
	  DaVinci DM6446 or DM355 EVM audio devices,
	  Amstrad E3 (Delta) videophones,
	  Renesas SH7724 serial audio interfaces,
	  AKM AK4642/AK4643 audio devices,
	  Simtec TLV320AIC23 audio devices,
	  Conexant CX20582 codecs, and
	  Cirrus Logic CS4206 codecs.

     <p>
     <li> <b>Boards and processors</b>-
     	  Atmel AT91sam9g45 and AT91sam9g10 processors,
	  Eukrea CPUIMX27, MBIMX27, CPUAT91, CPU9260, and CPU9G20 processors,
	  Broadcom BCMRing system-on-chip processors,
	  Nuvoton NUC900 and NUCP950 CPUs,
	  Marvell OpenRD Base boards,
	  Freescale i.MX25 processors,
	  Motorola Zn5 GSM phones,
	  phyCARD-s (aka pca100) platforms,
	  Airgoo Home Media Terminal devices,
	  Samsung S5PC1XX-based systems,
	  LaCie 2Big Network NAS systems,
	  ST Ericsson Nomadic 8815-based systems,
	  Freescale MPC837x RDB/WLAN boards,
	  Freescale P2020RDB reference boards, and
	  AppliedMicro PPC460SX Eiger evaluation boards.

     <p>
     <li> <b>Block</b>: RDC PATA controllers, PMC SIERRA Linux MaxRAID
     	  adapters, and
	  a (staging) driver called "cowloop", described as
     	  "<q>Cowloop is a "copy-on-write" pseudo block driver. It can
     	  be stacked on top of a "real" block driver, and catches all write
     	  operations on their way from the file systems layer above to the
     	  real driver below, effectively shielding the lower driver from
     	  those write accesses. The requests are then diverted to an
     	  ordinary file, located somewhere else (configurable).</q>"

     <p>
     <li> <b>Networking</b>: Broadcom BCM8727, BCM50610M and AC131 PHY devices,
     	  Infineon ISAC/HSCX, ISACX, IPAC and IPACX ISDN chipsets,
	  AVM FRITZ!CARD ISDN adapters,
	  Traverse Technologies NETJet PCI ISDN cards,
	  Winbond W6692 based ISDN cards,
	  Sedlbauer Speedfax+ ISDN cards,
	  Atheros AR9287 and AR9271 chipsets,
	  TI wl1271 chipsets,
	  Xilinx 10/100 Ethernet Lite devices,
	  Marvell 88W8688 Bluetooth interfaces,
	  Marvell SD8688 Bluetooth-over-SDIO interfaces,
	  Ralink RT3090-based wireless adapters (staging), and
	  Realtek 8192 PCI devices (staging).

     <p>
     <li> <b>Video4Linux</b>:
     	  Zarlink ZL10039 silicon tuners.

     <p>
     <li> <b>Miscellaneous</b>: Marvell CESA cryptographic engines,
     	  EP93xx pulse-width modulators,
	  Samsung S3C24XX or S3C64XX onboard ADCs,
	  Twinhan USB 6253:0100 remote controls,
	  Blackfin rotary input devices,
	  Sentelic Finger Sensing Pad devices,
	  TI TWL4030/TWL5030/TPS659x0 keypad devices,
	  Quatech USB2.0 to serial adaptors (staging),
	  the Android MSM shared memory driver (staging),
	  HTC Dream QDSP chips (staging),
	  HTC Dream camera devices (staging),
	  VME busses (staging),
	  Microsoft's Hyper-V virtualization drivers (staging),
	  Discretix security processor devices (staging),
	  ST Microelectronics LIS3L02DQ accelerometers (staging),
	  TAOS TSL2561 light-to-digital converters (staging),
	  Kionix KXSD9 accelerometers (staging),
	  MAXIM max1363 ADC devices (staging), and
	  VTI SCA3000 series accelerometers (staging).

     </ul>

</ul>
<p>
Changes visible to kernel developers include:

<p>
<ul>

<li> There is a new <tt>check_acl()</tt> operation added to <tt>struct 
     inode_operations</tt>.  It's part of a push by Linus to move more
     permissions testing logic into the VFS core and reduce locking in the
     process.
<p>
<li> There is a new <tt>kernel_module_request()</tt> hook in the security
     module API; it allows security modules to decide whether to allow
     <tt>request_module()</tt> calls to succeed.  There is also <a
     href="http://git.kernel.org/linus/2b980dbd77d229eb60588802162c9659726b11f4">a
     new set of hooks</a> for the TUN driver.
<p>
<li> Spinlocks can be built as inline operations for architectures where
     that performs better.
<p>
<li> The "classic read-copy-update" and "preempt RCU" implementations have
     been removed in favor of "tree RCU" and "bloatwatch RCU".
<p>
<li> The low-level interrupt handling code has gained support for interrupt
     controllers accessed by way of slow (I2C, say) busses.  Among other
     things, that leads to the addition of the <tt>IRQF_ONESHOT</tt> flag,
     which causes an interrupt with a threaded handler to remain masked in
     the time between the execution of the hard and threaded handlers.
<p>
<li> The tracing ring buffer is now entirely lockless on the writer's
     side.  See <a href="http://lwn.net/Articles/340400/">this article</a>
     for details.
<p>
<li> As described briefly in <a href="http://lwn.net/Articles/350341/">this
     article</a>, the network driver API has changed.  The return type for
     <tt>ndo_start_xmit()</tt> is now <tt>netdev_tx_t</tt>, an
     <tt>enum</tt> value.  For most drivers, simply changing the declared
     return type for that function will be sufficient.
<p>
<li> The <a href="http://lwn.net/Articles/346219/">blk-iopoll</a>
     block-layer interrupt mitigation code has been merged.
<p>
<li> Configuring the kernel with "<tt>make localmodconfig</tt>" will create
     a configuration pared down to the modules currently loaded in the
     running kernel.  "<tt>make localyesconfig</tt>" builds the modules
     into the kernel instead.
<p>
<li> The <a href="http://lwn.net/Articles/347573/">new power management
     core</a> has been merged.
<p>


</ul>
<p>
The merge window should stay open for at least another week; it is not
clear how LinuxCon and the Linux Plumbers Conference might affect the
schedule.  Next week's edition will contain an update on changes merged
after the publication of this page.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-2.6.32">Releases/2.6.32</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/352644/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor353184"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.32 merge window, part 1</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 17, 2009 10:45 UTC (Thu)
                               by <b>broonie</b> (subscriber, #7078)
                              [<a href="/Articles/353184/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
A couple of minor corrections: the audio device section should say Wolfson rather than Wolfram and the AK4642/AK4643 CODECs are from AKM (Asahi Kasei Microdevices) rather than Renesas.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/353184/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor353193"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Fixed</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 17, 2009 13:00 UTC (Thu)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/353193/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      Wow, somebody actually reads those lists!
<p>
Silly mistakes fixed, thanks.
      
          <div class="CommentReplyButton">
            <form action="/Articles/353193/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor353201"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Fixed</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 17, 2009 13:42 UTC (Thu)
                               by <b>nevets</b> (subscriber, #11875)
                              [<a href="/Articles/353201/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <br><i>Wow, somebody actually reads those lists!</i><br>
<br>
Of course, but only those that actually work on the particular code. That way they can say "oh look, my work made it to LWN!" ;-)
      
          <div class="CommentReplyButton">
            <form action="/Articles/353201/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor353249"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Fixed</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 17, 2009 16:44 UTC (Thu)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/353249/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It's also read by those rare unfortunates who have hardware too new/obscure to be supported yet. 'Ooh, my Camelot crystal ball is supported now!'<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/353249/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor353347"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Fixed</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 18, 2009 9:07 UTC (Fri)
                               by <b>broonie</b> (subscriber, #7078)
                              [<a href="/Articles/353347/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Which also covers a pretty good proportion of those working on the drivers - if a board has one shiny new chip on it it's probably got a bunch of others too.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/353347/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
<a name="CommAnchor353277"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.32 merge window, part 1</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 17, 2009 20:02 UTC (Thu)
                               by <b>yokem_55</b> (guest, #10498)
                              [<a href="/Articles/353277/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Is squashfs-lzma anywhere in sight? The LZMA library has been in there for a couple of releases, but the Squashfs integration hasn't been updated for several releases now. It would be nice to have this along with union mounts sometime soon....<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/353277/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor353469"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.32 merge window, part 1</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 19, 2009 7:11 UTC (Sat)
                               by <b>rvfh</b> (guest, #31018)
                              [<a href="/Articles/353469/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
does not this cowloop stuff act as a union fs in effect?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/353469/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2009, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
