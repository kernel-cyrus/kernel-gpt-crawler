        <!DOCTYPE html>
        <html lang="en">
        <head><title>The rest of the 6.2 merge window [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/918146/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/918368/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/918146/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>The rest of the 6.2 merge window</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Did you know...?</b>
<p>
LWN.net is a subscriber-supported publication; we rely on subscribers
       to keep the entire operation going.  Please help out by <a
       href="/Promo/nst-nag4/subscribe">buying a subscription</a> and keeping LWN on the
       net.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>December 27, 2022</br>
           </div>
The world got a special Christmas present from Linus Torvalds this year in
the form of the <a href="/ml/linux-kernel/CAHk-=wgf929uGOVpiWALPyC7pv_9KbwB2EAvQ3C4woshZZ5zqQ@mail.gmail.com/">6.2-rc1</a>
kernel prepatch.  By the time the merge window closed, 13,687 non-merge
changesets had been pulled into the mainline for the 6.2 release.  This was
the busiest merge window since 5.13 (which brought in 14.231 changesets) in
mid-2021, and quite a bit busier than 6.1 was — but comparable to the late
5.x releases.  Just under 4,000 of those changesets were pulled after <a
href="/Articles/917733/">the first-half summary</a> was written; there were
quite a few significant changes to be found in those late-arriving patches.
<p>
The most significant changes pulled in the latter part of the 6.2 merge
window include:
<p>

<h4>Architecture-specific</h4>
<p>
<ul class="spacylist">

<li> The kernel can now perform <a href="/Articles/901834/">return stack
     buffer stuffing</a> to mitigate the Retbleed speculative-execution
     vulnerability on some Intel processor generations with a much lower
     performance cost.
<li> The x86 architecture has also gained support for a control-flow
     integrity mechanism called <a
     href="https://git.kernel.org/linus/931ab63664f0">FineIBT</a>.
<li> There is a new <a href="/Articles/590243/">qspinlock</a>
     implementation for the PowerPC architecture; it should provide
     improved performance and fix some lockup problems seen in extreme
     cases. 
<li> LoongArch has gained support for ftrace, suspend, hibernation, and
     stack protection.
</ul>


<p>
<h4>Core kernel</h4>
<p>
<ul class="spacylist">

<li> The zram device can now recompress data streams to achieve better
     compression rates; see <a
     href="https://git.kernel.org/linus/443dd798062c">this documentation
     commit</a> for details.
<li> Shared anonymous memory areas can now be named; this capability
     extends the current <a href="/Articles/867818/">memory-naming
     feature</a>, which was previously limited to private memory.
<li> The new <tt>trace_trigger=</tt> command-line option can enable a
     tracing trigger at boot time.
</ul>

<p>
<h4>Filesystems and block I/O</h4>
<p>
<ul class="spacylist">

<li> There is a new set of sysfs knobs that can be used to fine-tune how
     much of the system's page cache can be used by pages destined to be
     written back to a specific device.  See the documentation commits for
     <a href="https://git.kernel.org/linus/16b837eb84e6"><tt>strict_limit</tt></a>,
     <a href="https://git.kernel.org/linus/c354d9268d78"><tt>max_bytes</tt></a>,
     <a href="https://git.kernel.org/linus/9c832a8d5717"><tt>min_bytes</tt></a>,
     <a href="https://git.kernel.org/linus/54790f30fea7"><tt>max_ratio_fine</tt></a>,
     and
     <a href="https://git.kernel.org/linus/eba39236f18d"><tt>min_ratio_fine</tt></a>
     for details.
<li> The F2FS filesystem has gained an "atomic replace" <tt>ioctl()</tt>
     operation that can write data to a file and truncate it in a single
     atomic operation.  F2FS has also gained a block-based extent cache
     that can be used to determine which data is hot (in active use) or
     cold; <a href="https://git.kernel.org/linus/71644dff4811">this
     commit</a> contains a little information.
<li> The ntfs3 filesystem has a few new mount options, starting with
     the undocumented <tt>nocase</tt>, which appears to control
     case-sensitive lookups.  The <tt>windows_name</tt> option will prevent
     the creation of file names that Windows would not allow, and
     <tt>hide_dot_files</tt> controls whether files whose names start with
     "<tt>.</tt>" are marked as being hidden.
</ul>

<p>
<h4>Hardware support</h4>
<p>
<ul class="spacylist">
<li> <b>Industrial I/O</b>:
     Analog Devices MAX11410 and AD4130 analog-to-digital converters,
     MediaTek MT6370 analog-to-digital converters,
     Kionix KX022A tri-axis digital accelerometers,
     Maxim MAX30208 digital temperature sensors,
     Analog Devices AD74115H I/O controllers, and
     Analog Devices ADF4377 microwave wideband synthesizers.
     
<li> <b>Miscellaneous</b>:
     Microsoft Azure network adapters,
     Baikal-T1 PCIe controllers,
     Ampere Computing SMPro error monitors,
     Lattice sysCONFIG SPI FPGA managers,
     Advantech embedded controller watchdog timers,
     Renesas R-Car S4-8 Ethernet SERDES PHYs,
     TI TPS65219 power management ICs, and
     Xilinx R5 remote processors.
<li> <b>Also</b>: "iommufd" is a new user-space API for the control of
     I/O memory-management units; see <a
     href="https://docs.kernel.org/next/userspace-api/iommufd.html">Documentation/userspace-api/iommufd.rst</a>
     for details.

</ul>

<p>
<h4>Miscellaneous</h4>
<p>
<ul class="spacylist">

<li> As always, the perf tool has seen a lot of enhancements; see
     <a href="https://git.kernel.org/linus/aa4800e31c54">this merge
     message</a> and <a
     href="https://git.kernel.org/linus/d1ac1a2b1426">this one</a> 
     (which drew <a
     href="/ml/linux-kernel/CAHk-=wi4u5rpaPrOokekEg_5Sud=8SZhA=KTALXNOC_S89jKBg@mail.gmail.com/">an
     unhappy response</a> from Torvalds) for details.
<li> The <a href="https://git.kernel.org/linus/ad9f64cd2d4a">copyleft-next
     license</a> has been added as a valid license for kernel contributions
     — but only when dual-licensed with a GPL-compatible license.
</ul>

<p>
<h4>Security-related</h4>
<p>
<ul class="spacylist">

<li> The kernel can now place <a href="/Articles/914878/">an upper
     limit</a> (10,000 by default) on the number of times the system can
     oops or warn before it just panics and reboots.
<li> The <tt>TIOCSTI</tt> <tt>ioctl()</tt> operation will push data into a
     terminal device; that data will then be read as if were input typed by
     the user.  As one might imagine, attackers find this operation useful.
     It seems that almost nobody else does, though.  In 6.2, the kernel has
     <a href="https://git.kernel.org/linus/83efeeeb3d04">gained a
     configuration option and sysctl knob</a> that can disable this
     functionality entirely.

</ul>


<p>
<h4>Internal kernel changes</h4>
<p>
<ul class="spacylist">

<li> There is a new <tt>struct encoded_page</tt> type meant to encapsulate
     the idea of using the lower bits of a pointer value for related
     information.  This type, was created by Torvalds to increase type
     safety and prevent the accidental dereferencing of an augmented
     pointer without stripping out the extra bits first.  There is no
     documentation but <a
     href="https://git.kernel.org/linus/70fb4fdff582">this commit</a> is
     easy enough to read.
<li> The venerable <tt>container_of()</tt> macro has a new sibling called
     <tt>container_of_const()</tt> that preserves the <tt>const</tt>
     quality of the passed-in pointer.  In <a
     href="https://git.kernel.org/linus/71a7507afbc3">the merge
     message</a>, Greg Kroah-Hartman explains this macro this way:
<p>
<blockquote class="bq">
  The driver for all of this have been discussions with the Rust kernel
  developers as to how to properly mark driver core, and kobject,
  objects as being "non-mutable". The changes to the kobject and driver
  core in this pull request are the result of that, as there are lots of
  paths where kobjects and device pointers are not modified at all, so
  marking them as "const" allows the compiler to enforce this.
<p>
  So, a nice side affect of the Rust development effort has been already
  to clean up the driver core code to be more obvious about object
  rules.
</blockquote>
<li> The minimum version of binutils needed to build the kernel has been
     raised to 2.25.

</ul>
<p>
One thing that didn't make it this time around is <a
href="/Articles/902094/">support for linear address masking</a>, an Intel
feature that allows storing extra data in pointer values.  Torvalds <a
href="/ml/linux-kernel/CAHk-=wi=TY3Kte5Z1_nvfcsEh+rcz86pYnzeASw=pbG9QtpJEQ@mail.gmail.com/">complained</a>
about how the feature was implemented and refused to pull the patches.  So
this feature, it seems, will have to wait at least another cycle before
landing in the mainline.
<p>
Meanwhile, the "extensive changelog" award must certainly go to
Christian Brauner, for <a
href="https://git.kernel.org/linus/11933cf1d91d">this patch</a>, which
features 520 lines of explanation (not including the stack trace) for a
one-line fix.
<p>
Normally, the 6.2 development cycle would be expected to come to a close on
February&nbsp;12 or&nbsp;19.  Torvalds suggested that the holidays might
slow down this release cycle slightly; time will tell.  Meanwhile, it is
time to start finding and fixing bugs — once the kernel developers finish
celebrating the holidays, of course.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-6.2">Releases/6.2</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/918146/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor918632"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.2 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 27, 2022 18:27 UTC (Tue)
                               by <b>andy_shev</b> (subscriber, #75870)
                              [<a href="/Articles/918632/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Not sure if there is no typo(s): "Lattice sysCONFIG SPI FPGA managers". I can't parse it...<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/918632/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor918634"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.2 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 27, 2022 19:50 UTC (Tue)
                               by <b>mpr22</b> (subscriber, #60784)
                              [<a href="/Articles/918634/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
things that manage Lattice brand FPGAs using the sysCONFIG feature over an SPI interface.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/918634/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor920511"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.2 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 19, 2023 16:03 UTC (Thu)
                               by <b>andy_shev</b> (subscriber, #75870)
                              [<a href="/Articles/920511/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Thanks! Maybe article can be amended with this?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/920511/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor918638"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.2 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 28, 2022 7:04 UTC (Wed)
                               by <b>xecycle</b> (subscriber, #140261)
                              [<a href="/Articles/918638/">Link</a>] (7 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Oh per-device limit of writeback cache!  Is this the perfect solution to the decades old problem that writing to a slow USB disk takes down the entire system to a crawl?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/918638/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor918672"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.2 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 28, 2022 17:47 UTC (Wed)
                               by <b>iabervon</b> (subscriber, #722)
                              [<a href="/Articles/918672/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I thought the worst performance aspects of that had been taken care of a while back with separate queues at a different layer and possibly proportional limits or reservations. But that still leaves the issue that the kernel will commit to a long period of storing data rather than having programs that write to slow disks take a long time such that you can interrupt them.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/918672/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor918677"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.2 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 28, 2022 22:31 UTC (Wed)
                               by <b>tux3</b> (subscriber, #101245)
                              [<a href="/Articles/918677/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Empirically, just a couple days ago I was copying data to a pathologically slow USB drive. Listing a folder or deleting a file on this key while the copy was in progress could stall for 2-15s. Other programs were very noticeably slowed, occasionally stalling for a few seconds. (On the same day, I also copied files from Win10 to the key without noticing similar stalls in other programs.)<br>
<p>
I suppose I should try the prepatch and see if I can still reproduce. (Maybe going as far as taking a perf record and poking around a bit, if I feel particularly overconfident!)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/918677/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor918678"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.2 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 28, 2022 22:39 UTC (Wed)
                               by <b>iabervon</b> (subscriber, #722)
                              [<a href="/Articles/918678/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Huh. I would have expected access to the key and other files on it to be slow, but anything that only uses other filesystems to be fast. When I copy things to a slow USB device it doesn't interfere with anything else, but my USB device is also not very large, so I may not be able to write enough to it to get significant memory (or disk cache) pressure on my system.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/918678/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor918679"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.2 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 28, 2022 23:00 UTC (Wed)
                               by <b>linusw</b> (subscriber, #40300)
                              [<a href="/Articles/918679/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I would definitely try the BFQ scheduler on that device if you have this problem. It could be that this is locked because small read/writes to the device get to wait for long reads/writes that are very slow. BFQ could alleviate the situation by identifying the small reads/writes as necessary for interactivity. E.g. Fedora will use BFQ by default on USB drives.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/918679/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor918768"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.2 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 30, 2022 13:18 UTC (Fri)
                               by <b>MarcB</b> (subscriber, #101804)
                              [<a href="/Articles/918768/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Windows disables most write-buffering by default on removable devices. This alone should prevent the issues.<br>
<p>
In Linux, this should be achievable by setting "/sys/devices/virtual/bdi/&lt;your USB block device&gt;/max_ratio" to a low value.<br>
<p>
Not sure if there are any smart udev rules to do this automatically, for potentially slow devices only.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/918768/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor919180"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.2 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 6, 2023 7:15 UTC (Fri)
                               by <b>dtardon</b> (subscriber, #53317)
                              [<a href="/Articles/919180/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; Windows disables most write-buffering by default on removable devices. This alone should prevent the issues.</span><br>
<p>
<span class="QuotedText">&gt; In Linux, this should be achievable by setting "/sys/devices/virtual/bdi/&lt;your USB block device&gt;/max_ratio" to a low value.</span><br>
<p>
<span class="QuotedText">&gt; Not sure if there are any smart udev rules to do this automatically, for potentially slow devices only.</span><br>
<p>
The rule wouldn't even have to be smart. All that's needed is a rule that matches for presence of a property (e.g., ID_SLOW_USB_DISK) and sets the max_ratio attribute. The property itself could then be attached to known-problematic devices via HWDB. For extra points, the max_ratio could be adjustable via a property as well.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/919180/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor919188"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.2 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 6, 2023 11:56 UTC (Fri)
                               by <b>farnz</b> (subscriber, #17727)
                              [<a href="/Articles/919188/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <p>One enhancement that would help is to be able to change max_ratio from a percentage to a byte counter (like how the system-wide part has both dirty_bytes and dirty_ratio). Then, the property could be based on the expected transfer rate for the device to get you something like 250 ms of data in flight - enough to avoid small transfers getting stalled because there's no write caching at all, not so much that it's a pain when you've finished doing work and want to eject the device.


      
          <div class="CommentReplyButton">
            <form action="/Articles/919188/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor918695"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.2 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 29, 2022 12:06 UTC (Thu)
                               by <b>jezuch</b> (subscriber, #52988)
                              [<a href="/Articles/918695/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; Meanwhile, the "extensive changelog" award must certainly go to Christian Brauner, for this patch, which features 520 lines of explanation (not including the stack trace) for a one-line fix.</span><br>
<p>
Congrats! From someone who occasionally gets complaints that my commit messages are way longer than the change itself :) (One person said that when they see a long commit message like this, they tend to think that it's something difficult, and so they avoid reviewing it.)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/918695/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor918697"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.2 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 29, 2022 13:44 UTC (Thu)
                               by <b>pm215</b> (subscriber, #98099)
                              [<a href="/Articles/918697/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I see the commit message includes "First, this is a clever but __worringly__ underdocumented algorithm. There isn't a single detailed comment to be found in next_group(), propagate_one() or anywhere else in that file for that matter.", which somewhat suggests that some of the explanation in the commit message could usefully be turned into comments for the benefit of future readers...<br>
<p>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/918697/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor918799"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.2 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 31, 2022 7:44 UTC (Sat)
                               by <b>zev</b> (subscriber, #88455)
                              [<a href="/Articles/918799/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
True, though then people also have to be vigilant for the comments to remain up to date with the code.  An outdated or otherwise inaccurate comment can sometimes be worse than no comment at all -- commit messages are a bit more effort to find, but they have the advantage that you know the exact point in time (and state of the code) for which they were written.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/918799/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor918822"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.2 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 1, 2023 10:02 UTC (Sun)
                               by <b>amarao</b> (subscriber, #87073)
                              [<a href="/Articles/918822/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I tried to read copyright-next licence and I kinda... worried. What is proprietary relicence for a fee? What is copyleft sunset?<br>
<p>
Can you do a thorough analysis of it?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/918822/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor918823"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.2 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 1, 2023 11:17 UTC (Sun)
                               by <b>Wol</b> (subscriber, #4433)
                              [<a href="/Articles/918823/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
To answer your two questions quickly ...<br>
<p>
"What is proprietary relicence for a fee?" - look at the ghostscript project. They own all the copyright on their project, which means they can (and do) sell proprietary licences over and above the GPL.<br>
<p>
"What is copyleft sunset?" - the licence contains a "suicide clause". So I haven't read the licence, but I guess it contains something like "after 15 years any code covered by this licence is placed into the public domain". Look at the TrollTech/Qt dual licence - it explicitly states that if TT stop releasing GPL versions, the most recent available version changes its licence to MIT.<br>
<p>
There are also various "bugs" in GPL2 which I know GPL3 addressed, and I guess "copyleft-next" does too. The "if you fix copyright violations immediately you know about them". The "you don't have to force recipients to accept the source with the binary". And probably more.<br>
<p>
Cheers,<br>
Wol<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/918823/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor918824"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.2 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 1, 2023 11:31 UTC (Sun)
                               by <b>Wol</b> (subscriber, #4433)
                              [<a href="/Articles/918824/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Hmm.<br>
<p>
Having read it, I like it. Copyleft sunset - clause 2 says "you can distribute this code". After 15 years, clauses 3-5 are void - the copyleft clauses requiring "share and share alike". So yes, after 15 years this licence becomes a MIT-style licence.<br>
<p>
Not sure about clause 5. It does fix the "forcing recipients to accept the source" problem, but I'm not sure I like the way they've done it. Never mind, they've done it, which is the important thing.<br>
<p>
As the original article said, it's just like a "simple GPL". Nice.<br>
<p>
Cheers,<br>
Wol<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/918824/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2022, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
