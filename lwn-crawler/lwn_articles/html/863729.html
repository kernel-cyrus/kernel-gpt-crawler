        <!DOCTYPE html>
        <html lang="en">
        <head><title>The Sequoia seq_file vulnerability [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/863729/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/862959/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/863729/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>The Sequoia seq_file vulnerability</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Please consider subscribing to LWN</b>
<p>
Subscriptions are the lifeblood of LWN.net.  If you appreciate this
content and would like to see more of it, your subscription will
help to ensure that LWN continues to thrive.  Please visit
<a href="/Promo/nst-nag1/subscribe">this page</a> to join up and keep LWN on
the net.
</blockquote>
<div class="FeatureByline">
           By <b>Jake Edge</b><br>July 21, 2021</br>
           </div>
<p>
A local root hole in the Linux kernel, called Sequoia, was <a
href="/ml/oss-security/20210720123335.GA19170@localhost.localdomain/">disclosed
by Qualys</a> on July&nbsp;20.  A full system compromise is possible until
the kernel is patched (or mitigations that may not be fully effective are applied).  At
its core, the vulnerability relies on a path through the kernel where
64-bit <tt>size_t</tt> values are "converted" to signed integers, which effectively
results in an overflow.  The flaw was reported to Red Hat  on June&nbsp;9,
along with a local
<a
href="/ml/oss-security/20210720123712.GB19170@localhost.localdomain/">systemd
denial-of-service vulnerability</a>, leading to a kernel crash, found at the same time.
Systems with untrusted local users need updates for both problems applied as soon as
they are available—out of
an abundance of caution, other systems likely should be updated as well.
</p>

<p>
Down in the guts of the kernel's <a
href="https://www.kernel.org/doc/html/latest/filesystems/seq_file.html">seq_file
interface</a>, which is used for handling virtual
files in <tt>/proc</tt> and the like, buffers are needed to store each
line of the file's "contents".  To start, a page of memory is allocated for
the buffer, but if that
is not sufficient, a new buffer that is twice the size of the
old one is allocated.  This is all done using a <tt>size_t</tt>, which is an unsigned
64-bit quantity (on x86_64) that is large enough to hold the results, so "<q>the
system would run out of memory long before this multiplication overflows</q>".
</p>

<p>
But that value (<tt>m-&gt;size</tt> in the advisory) is passed to other functions that
expect a signed 32-bit integer.  In particular, the exploit uses the output
of <tt>/proc/self/mountinfo</tt> to get to a place in the kernel where that
is the case.  The attacker can create a directory hierarchy with a
path length larger than 1GB (roughly one-million nested directories),
bind-mount it into a user namespace,
and then delete the directory.  In the namespace, the attacker opens
and reads <tt>mountinfo</tt>, which causes
the string "//deleted" to be written
outside of the seq_file buffer.
The seq_file interface creates a buffer that is
2GB in size, but down in the code that writes the string, that value gets
interpreted as -2GB, which is used to calculate where to do the write. That
is far outside the buffer, of course, and so it overwrites memory at 
a known offset elsewhere in the <tt>vmalloc()</tt> region.
</p>

<p>
As might be guessed, writing a ten-byte fixed string outside of the buffer is
only the start of a complicated, but easily replicated, series of gyrations
leading to a root shell.   The Qualys advisory goes into great detail about
the journey, which involves several different kernel features that have
come about over the last decade or so: <a href="/Articles/532593/">user namespaces</a>, <a
href="/Articles/740157/">BPF</a>, and <a 
href="/Articles/819834/">user-space page fault handling</a> (or <a
href="https://www.kernel.org/doc/html/latest/filesystems/fuse.html">FUSE</a>,
which is much older).  But in the end, it is the mishandling of the integer
buffer size that gets the foot in the door; the <a
href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=8cae8cd89f05">fix</a>
is something of a band-aid to simply reject seq_buf allocations that get
"too large".
</p>

<p>
Qualys said that it has exploit code that can gain root on "<q>default
installations of Ubuntu 20.04, 
Ubuntu 20.10, Ubuntu 21.04, Debian 11, and Fedora 34 Workstation</q>",
furthermore "<q>other
Linux distributions are certainly vulnerable, and probably
exploitable</q>".   One of the suggested mitigations is turning off the
ability for unprivileged users to create user namespaces (via
<tt>/proc/sys/kernel/unprivileged_userns_clone</tt>), because that will
stop their ability to mount the deep directory hierarchy that results in
the 1GB+ path name.  But even without user namespaces, there may be an
alternative:
<blockquote class="bq">
However,
  the attacker may mount a long directory via FUSE instead; we have not
  fully explored this possibility, because we accidentally stumbled upon
  CVE-2021-33910 in systemd: if an attacker FUSE-mounts a long directory
  (longer than 8MB), then systemd exhausts its stack, crashes, and
  therefore crashes the entire operating system (a kernel panic).
</blockquote>
</p>

<p>
The systemd bug, which Qualys also describes well, stems from switching
from <a
href="https://man7.org/linux/man-pages/man3/strdup.3.html"><tt>strdup()</tt></a>
to <tt>strdupa()</tt> in the mount-path handling code.  That switched from
heap-based allocations to stack-based ones, which provides the opportunity
to exhaust the 8MB (by default) stack. So an overlong path that is found
when systemd is parsing <tt>/proc/self/mountinfo</tt> will 
result in a segmentation fault;  Linux is decidedly unhappy about running
without an init process, so it panics as well.
</p>

<p>
A user can trigger the crash by mounting a FUSE filesystem,
creating a directory path longer than 8MB, moving the FUSE filesystem to that
directory, and causing systemd to
parse the <tt>mountinfo</tt> file again.  The <a
href="https://github.com/systemd/systemd/pull/20256/commits/441e0115646d54f080e5c3bb0ba477c892861ab9">fix</a>
in this case is to switch back to using <tt>strdup()</tt> as it was before
an April 2015 <a
href="https://github.com/systemd/systemd/commit/7410616cd9dbbec97cf98d75324da5cda2b2f7a2">commit</a>.
</p>

<p>
The systemd crash was found while developing Sequoia exploit, which
uses BPF code to find and then overwrite the <tt>modprobe_path</tt>
variable in the kernel.  That path is used to run an
executable as root (normally <tt>/sbin/modprobe</tt>) when a kernel module gets
loaded.  Pointing that at a different path, where an attacker-controlled
executable lives, gives root privileges.
</p>

<p>
One would expect the BPF verifier to thwart any attempts to execute a
harmful program, since that is the primary mechanism to restrict users from loading
unsafe BPF programs.  But that is where user-space page-fault handling comes into play:
the <a
href="https://man7.org/linux/man-pages/man2/userfaultfd.2.html"><tt>userfaultfd()</tt></a>
system call allows the exploit to effectively pause the kernel after the
BPF verifier has been run.  Then the overwrite of
"//deleted" can be arranged to land at the "right" place in the BPF code,
which is loaded into the <tt>vmalloc()</tt> region.
<tt>userfaultfd()</tt> allows the exploit to change the BPF code
<i>after</i> it has been verified but before it gets JIT-compiled, thus
evading the verifier.
</p>

<p>
The out-of-bounds write of "//deleted" is turned into an information
disclosure that allows the exploit code to have limited control over what
gets overwritten.
After that, the <a
href="https://www.zerodayinitiative.com/blog/2020/4/8/cve-2020-8835-linux-kernel-privilege-escalation-via-improper-ebpf-program-verification">techniques</a>
from a 2020 BPF vulnerability found by Manfred Paul  were used to
"<q>transform this limited out-of-bounds write into an arbitrary read 
and write of kernel memory</q>"
The six-step "Exploitation overview" section of the advisory gives a nice
overview of the exploit, while the following section gives all the gory
details.  It makes for interesting reading for those who are curious about
kernel exploits and the intricate steps that are needed to make them work.
</p>

<p>
The reports of both flaws were in the hands of Red Hat for nearly a month
until they were reported to the closed mailing lists for kernel and
distribution security reports on July&nbsp;6.  Two weeks after that, the
coordinated release of the advisories was made and distribution updates started
rolling out.  It is not at all clear why there was a month-long delay,
since neither of the fixes seems particularly challenging.  Maybe that time
was spent looking for other similar problems in the kernel and systemd.
</p>

<p>
Clearly the integer conversion at the heart of the exploit needed fixing;
one wonders how many other <tt>size_t</tt>-to-<tt>int</tt> problems of that
sort still linger in the kernel.    One might also wonder what kind of a
can of worms was opened when <tt>userfaultfd()</tt> was added to the
kernel; it provides a way for user space to semi-arbitrarily pause the
kernel in spots of its choosing.  That may come in handy again for kernel
exploits down the road.
</p>

<p>
Meanwhile, systemd has hopefully scrutinized any other
stack-based allocations it is doing, especially for user-controllable
values like paths.  While exhausting the stack is often not a security
problem for user-space programs (except, of course, for exploits like <a
href="/Articles/727703/">Stack Clash</a>), systemd sits in a sensitive
place in many Linux systems.  Any user-controlled means to bring it down is
a clear route to a denial of service on the system.
</p>

<p>
Integer-conversion problems of the sort we see here are something that
would likely be impossible in some other languages (e.g. Rust).  Stack (or memory)
exhaustion, on the other hand, is not really something that can be handled
at the language level; hitting a resource limit must be handled somehow and
crashing a user-space program is often the least harmful thing the
operating system can do.  But at least we now have N-2 bugs in our systems;
unfortunately, the unknown N is likely distressingly large.
</p><br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Security-Vulnerabilities">Security/Vulnerabilities</a></td></tr>
            <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#seq_file">seq_file</a></td></tr>
            <tr><td><a href="/Security/Index/">Security</a></td><td><a href="/Security/Index/#Linux_kernel-Vulnerabilities">Linux kernel/Vulnerabilities</a></td></tr>
            <tr><td><a href="/Security/Index/">Security</a></td><td><a href="/Security/Index/#Systemd">Systemd</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/863729/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor863896"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Narrowing conversion</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 21, 2021 23:05 UTC (Wed)
                               by <b>tialaramex</b> (subscriber, #21167)
                              [<a href="/Articles/863896/">Link</a>] (12 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Clearly the integer conversion at the heart of the exploit needed fixing; one wonders how many other size_t-to-int problems of that sort still linger in the kernel.</font><br>
<p>
This is called an implicit narrowing conversion. Many modern languages outright forbid this, requiring that the programmer *explicitly* choose to perform a narrowing conversion or (perhaps better) even requiring that they explicitly decide what happens when the big thing won&#x27;t fit in the small thing.<br>
<p>
You can imagine that in kernel code, some sort of error, or panic should likely be the choice, if the programmer did not instead decide to approach the problem in a different way to avoid a narrowing conversion. Apparently out-of-box Windows MSVC programs warn if you do an implicit narrowing conversion but alas GCC does not, even under -Wall, although -Wconversion exists.<br>
<p>
Since it&#x27;s the topic du jour, in Rust you can&#x27;t have implicit narrowing conversion, but it does provide an explicit conversion that can silently lose information in narrowing, programmers might write:<br>
<p>
let signedInt = sixtyFourBitNumber as s32;<br>
<p>
Whereas perhaps they ought to write:<br>
<p>
let signedInt: s32 = sixtyFourBitNumber.try_into().unwrap(); // panic if it doesn&#x27;t fit<br>
<p>
or indeed:<br>
<p>
let signedInt: s32 = sixtyFourBitNumber.try_into()?  // only compiles if the function we do this in has a suitable error return<br>
<p>
let signedInt: s32 = sixtyFourBitNumber.try_into().unwrap_or(SAFE_DEFAULT); // we&#x27;re confident SAFE_DEFAULT is fine<br>
<p>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/863896/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor863902"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Narrowing conversion</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 22, 2021 0:08 UTC (Thu)
                               by <b>roc</b> (subscriber, #30627)
                              [<a href="/Articles/863902/">Link</a>] (9 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
&quot;as&quot; is one of Rust&#x27;s warts. You shouldn&#x27;t have the same syntax for both lossy and non-lossy conversions.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/863902/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor863903"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Narrowing conversion</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 22, 2021 0:41 UTC (Thu)
                               by <b>Gaelan</b> (guest, #145108)
                              [<a href="/Articles/863903/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
For non-lossy conversions, there&#x27;s the alternate syntax u64::from(some_u32), but it&#x27;s still not great.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/863903/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor863904"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Narrowing conversion</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 22, 2021 1:21 UTC (Thu)
                               by <b>roc</b> (subscriber, #30627)
                              [<a href="/Articles/863904/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
From and TryFrom let you express infallible and fallible scalar conversions. There probably should be a third trait+method to explicitly request a truncating/sign-modifying conversion. But &quot;as&quot; for scalar conversions is a footgun.<br>
<p>
I&#x27;m not sure what the best way to proceed from here is. One option would be to introduce that trait+method for truncating conversions, and deprecate or ban  lossy &quot;as&quot; scalar conversions in a future edition. But obviously a lot of existing code would be affected.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/863904/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor864059"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Narrowing conversion</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 23, 2021 0:47 UTC (Fri)
                               by <b>khim</b> (subscriber, #9252)
                              [<a href="/Articles/864059/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <font class="QuotedText">&gt; But obviously a lot of existing code would be affected.</font>

<p>Isn't it something Rust editions are supposed to cover?</p>


      
          <div class="CommentReplyButton">
            <form action="/Articles/864059/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor864078"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Narrowing conversion</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 23, 2021 7:50 UTC (Fri)
                               by <b>Fowl</b> (subscriber, #65667)
                              [<a href="/Articles/864078/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The code still would want to be upgraded to a newer edition at some point. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/864078/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor864085"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Narrowing conversion</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 23, 2021 9:54 UTC (Fri)
                               by <b>khim</b> (subscriber, #9252)
                              [<a href="/Articles/864085/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <p>Not really. In Rust, unlike in C++, editions are supposed to coexist. You can write one crate in Rust 2015, another in Rust 2018, and third in Rust 2021.</p>

<p>Sure, if you are actively developing your code then you would probably want to upgrade it, but there are no pressure to do that ASAP.</p>


      
          <div class="CommentReplyButton">
            <form action="/Articles/864085/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor864162"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Narrowing conversion</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 23, 2021 16:40 UTC (Fri)
                               by <b>jezuch</b> (subscriber, #52988)
                              [<a href="/Articles/864162/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I guess it&#x27;s &quot;not great&quot; by design, like the new-style casts in C++ are ugly by design to discourage casting in general.<br>
<p>
FWIW, AFAICT Rust doesn&#x27;t have implicit *widening* conversion either. Turns out, it too often turns into a footgun.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/864162/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor863925"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Narrowing conversion</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 22, 2021 8:30 UTC (Thu)
                               by <b>Wol</b> (subscriber, #4433)
                              [<a href="/Articles/863925/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; You shouldn&#x27;t have the same syntax for both lossy and non-lossy conversions.</font><br>
<p>
If it is (clearly) changing the length of the storage field - as in between int32 and int64, why not? Only an extreme novice would think that you could stuff an int64 into an int32 and not run at least the risk of truncation. Okay if it&#x27;s not obvious the target is an int32 then it&#x27;s a more fuzzy issue.<br>
<p>
Cheers,<br>
Wol<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/863925/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor863936"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Narrowing conversion</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 22, 2021 9:53 UTC (Thu)
                               by <b>atnot</b> (subscriber, #124910)
                              [<a href="/Articles/863936/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I think just deferring to experience isn&#x27;t very useful here. Adding explicit conversions quickly becomes muscle memory that isn&#x27;t given the thought it should be given. You might just not consider whether it is lossy or not in that moment. Since languages should make it easier to do the right thing than the wrong thing, requiring different mechanisms for lossy and lossless conversions would give a crucial opportunity to think about how it should really be handled.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/863936/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor863947"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Narrowing conversion</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 22, 2021 11:56 UTC (Thu)
                               by <b>roc</b> (subscriber, #30627)
                              [<a href="/Articles/863947/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
When you read &quot;foobar as u32&quot; it&#x27;s not obvious whether that is (potentially) lossy or not. OK, with rust-analyzer I just have to hover &quot;foobar&quot; to see what type it is, but it would be so simple to just require different syntax for lossy vs non-lossy conversions.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/863947/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor864520"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Narrowing conversion</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 28, 2021 16:33 UTC (Wed)
                               by <b>sandsmark</b> (guest, #62172)
                              [<a href="/Articles/864520/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Since it&#x27;s the topic du jour, in Rust you can&#x27;t have implicit narrowing conversion, but it does provide an explicit conversion that can silently lose information in narrowing, programmers might write:</font><br>
<p>
Again proving that the safety of Rust is just a subset of C++ with -Werror -Weverything. :-P<br>
<p>
(And I&#x27;d say C++ discourages it even more because casting is uglier/more verbose, but people tend to just cast everything just to get rid of warnings/errors so you basically end up with implicit casting anyways.)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/864520/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor864522"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Narrowing conversion</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 28, 2021 17:07 UTC (Wed)
                               by <b>mathstuf</b> (subscriber, #69389)
                              [<a href="/Articles/864522/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
That&#x27;s…quite a narrow view of what Rust provides. I&#x27;m feeling forgetful…what warning flag tells me when my code has data races in C++? When I write `return make_string().c_str();`?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/864522/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor863900"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The Sequoia seq_file vulnerability</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 22, 2021 0:02 UTC (Thu)
                               by <b>smcv</b> (subscriber, #53363)
                              [<a href="/Articles/863900/">Link</a>] (8 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; One of the suggested mitigations is turning off the ability for unprivileged users to create user namespaces (via /proc/sys/kernel/unprivileged_userns_clone)</font><br>
<p>
This sysctl is Debian/Ubuntu-specific; some other distro kernels have picked it up, such as Arch&#x27;s non-default linux-hardened kernel, but it isn&#x27;t an upstream feature. I believe the upstream equivalent is to set /proc/sys/user/max_user_namespaces to 0.<br>
<p>
Either of these mitigations will break user-space applications that expect to be able to create sandbox environments via user namespaces, such as Firefox, Chromium, podman/toolbox, and all users of bwrap (Flatpak, WebKitGTK, libgnome-desktop (for sandboxed thumbnailers), Steam, etc.), so they should probably only be done on systems where user-space is known not to need sandboxes or containers. This is a security trade-off: the mitigation reduces the kernel&#x27;s attack surface, but also reduces the ability for parts of user-space to distrust other parts of user-space.<br>
<p>
Some of these applications can work around inability for unprivileged programs to create user namespaces by using a setuid-root helper (Chromium&#x27;s deprecated setuid sandbox helper, or a setuid copy of bwrap), but this is another security tradeoff: a setuid-root helper might have root privilege escalation vulnerabilities itself.<br>
<p>
It is also not always possible for a setuid-root helper to provide full functionality. A setuid copy of bwrap disables some of its features, because it would not be possible to implement them securely; this reduced functionality is known to break some Flatpak apps, particularly those that make use of sub-sandboxing, notably (again) Chromium.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/863900/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor863918"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The Sequoia seq_file vulnerability</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 22, 2021 7:24 UTC (Thu)
                               by <b>ganneff</b> (subscriber, #7069)
                              [<a href="/Articles/863918/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt;Either of these mitigations will break user-space applications that expect to be able to create sandbox environments via user namespaces, such as Firefox, Chromium, podman/toolbox, and all users of bwrap (Flatpak, WebKitGTK, libgnome-desktop (for sandboxed thumbnailers), Steam, etc.), so they should probably only be done on systems where user-space is known not to need sandboxes or containers.</font><br>
<p>
Firefox (78.12.0esr-1~deb10u1) at least doesn&#x27;t seem to care - or doesn&#x27;t complain.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/863918/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor863954"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The Sequoia seq_file vulnerability</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 22, 2021 13:00 UTC (Thu)
                               by <b>smcv</b> (subscriber, #53363)
                              [<a href="/Articles/863954/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I suspect this means that the content processes (`firefox -contentproc`) are not using user namespaces to limit their view of the rest of the system to protect it from the possibility that they might get compromised by a malicious site; or perhaps they&#x27;re using a setuid helper to get into a different user namespace.<br>
<p>
I don&#x27;t immediately have a Debian 10 system to hand, but on Debian 11 systems with firefox 88.0.1 and firefox-esr 78.11.0esr, the top-level `firefox` process is in the same userns and filesystem namespace as my interactive shell, but each `firefox -contentproc` subprocess has its own userns (you can see this with `ls -l /proc/$pid/ns/user`) and is running in a private filesystem namespace with an empty root directory (you can see this with `ls -l /proc/$pid/root/`).<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/863954/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor865896"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The Sequoia seq_file vulnerability</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 10, 2021 17:24 UTC (Tue)
                               by <b>Margaret48</b> (guest, #129042)
                              [<a href="/Articles/865896/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
firefox unlike chromium silently disables most parts of its sandbox when userns aren&#x27;t available leaving only seccomp.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/865896/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor863917"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The Sequoia seq_file vulnerability</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 22, 2021 7:49 UTC (Thu)
                               by <b>ma4ris5</b> (guest, #151140)
                              [<a href="/Articles/863917/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
In this case, seq_buf_alloc() doesn&#x27;t have integer overflow, argument is already an unsigned 64 bit value.<br>
<p>
How about elaborating for the compiler, what the programmer&#x27;s intention is?<br>
What if there would be an attribute, which can elaborate expected valid value range?<br>
<p>
<font class="QuotedText">&gt; static void *seq_buf_alloc(unsigned long size</font><br>
<font class="QuotedText">&gt;                            __attribute__ ((expect_range (0, MAX_RW_COUNT))) )</font><br>
<font class="QuotedText">&gt; {</font><br>
<font class="QuotedText">&gt;	if (unlikely(size &gt; MAX_RW_COUNT))</font><br>
<font class="QuotedText">&gt;		return NULL;</font><br>
<font class="QuotedText">&gt;</font><br>
<font class="QuotedText">&gt; 	return kvmalloc(size, GFP_KERNEL_ACCOUNT);</font><br>
<font class="QuotedText">&gt; }</font><br>
<p>
Here compiler could warn, if caller of seq_buf_alloc() could pass out of range value for &#x27;size&#x27;.<br>
On the other hand, if no caller can create oversized value, compiler could optimize<br>
the if condition away as dead code.<br>
<p>
Older compilers could work still, because their code generation isn&#x27;t affected:<br>
They don&#x27;t know about the new &quot;expect_range&quot; attribute.<br>
Thus they would keep the check in dead code case.<br>
They wouldn&#x27;t be able to show the additional warnings though.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/863917/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor863937"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The Sequoia seq_file vulnerability</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 22, 2021 10:30 UTC (Thu)
                               by <b>ma4ris5</b> (guest, #151140)
                              [<a href="/Articles/863937/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I found a page which elaborates Rust&#x27;s approach for integer overflows:<br>
<a href="http://huonw.github.io/blog/2016/04/myths-and-legends-about-integer-overflow-in-rust/">http://huonw.github.io/blog/2016/04/myths-and-legends-abo...</a><br>
<p>
Rust seems to check integer overflows at debug builds (s32, s64),<br>
and it compiles out checks at production builds. So Rust seems to have too<br>
low level approach to overflows.<br>
<p>
My &quot;expect_range&quot; suggestion is such, that developer could elaborate the range<br>
regardless of the value&#x27;s type (u8, s8, ..., u32, u64, s32, s64), (possibly) the bit range<br>
of the value, so that compiler could verify that an overflow can&#x27;t happen when<br>
doing arithmetic calculations at compile or static analysis time.<br>
<p>
Thus there should be enough information for static analysis, and, or, compile time,<br>
to do mathematical proof, to imply that overflows are absent: out of range values don&#x27;t exist.<br>
<p>
Mathematical proof would enable compiler to skip unnecessary branches, and remove dead code.<br>
<p>
Optional warnings could be used to guide development into safe code.<br>
<p>
<p>
Arbitrary precision (integer) arithmetic elaborates a solution for this:<br>
<a href="https://en.wikipedia.org/wiki/Arbitrary-precision_arithmetic">https://en.wikipedia.org/wiki/Arbitrary-precision_arithmetic</a><br>
<font class="QuotedText">&gt; In many cases, the task or the programmer can guarantee that the integer values</font><br>
<font class="QuotedText">&gt; in a specific application will not grow large enough to cause an overflow. Such</font><br>
<font class="QuotedText">&gt; guarantees may be based on pragmatic limits: a school attendance program </font><br>
<font class="QuotedText">&gt; may have a task limit of 4,000 students. A programmer may design the computation </font><br>
<font class="QuotedText">&gt; so that intermediate results stay within specified precision boundaries. </font><br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/863937/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor864243"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The Sequoia seq_file vulnerability</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 25, 2021 9:38 UTC (Sun)
                               by <b>geuder</b> (guest, #62854)
                              [<a href="/Articles/864243/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Rust seems to check integer overflows at debug builds (s32, s64), and it compiles out checks at production builds.</font><br>
<p>
I have not liked that approach since the days of assert(3) and NDEBUG, which is from the 1980s or even 70s (didn&#x27;t do any programming during the latter). Code that behaves differently in debug builds just causes loads of new problems. You must fully test both variants to get a benefit reliably.<br>
<p>
For the vulnerability at hand such mechanism would not have helped: Even if kernel debug builds were tested, it would be unlikely to have a test case creating 10GB of path name.<br>
<p>
<p>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/864243/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor864258"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The Sequoia seq_file vulnerability</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 25, 2021 18:21 UTC (Sun)
                               by <b>tialaramex</b> (subscriber, #21167)
                              [<a href="/Articles/864258/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
For this vulnerability what we&#x27;ve got is a narrowing conversion rather than conventional integer overflow. There&#x27;s discussion above this on LWN. In C narrowing conversions are implicit -- if you assign a huge number into a small integer type, the compiler shrugs and throws away whatever doesn&#x27;t fit. Rust&#x27;s conversions are explicit -- if the types don&#x27;t match you need to say &quot;as&quot; to get it converted, however a programmer may not be brought up short by the need for conversion and realise this is a terrible idea because some of their values get thrown away.<br>
<p>
If you would rather overflow checks also happen in production, you can ask for the Rust compiler setting overflow-checks = true in your production builds, as well as debug where it is default.<br>
<p>
However, that would turn such bugs into a kernel crash, rather than local root. Not really what you want.<br>
<p>
Rust also lets you explicitly say what you intend to happen for overflow. For example you can say you want saturating arithmetic (127_i8.saturating_add(1_i8) == 127_i8) or wrapping arithmetic (127_i8.wrapping_add(1_i8) == -128_i8) and now, at last, you&#x27;ve actually expressed your intention and so it&#x27;s more likely this code might do what you intended rather than crashing or worse.<br>
<p>
Ultimately if the programmer did not express any intent, it&#x27;s difficult to see what a practical general purpose language ought to do.<br>
<p>
In WUFFS they get to just reject all programs that don&#x27;t specify. So if you look at byte A and byte B and you purport that you can add those together A+B and store the result as one byte, the WUFFS compiler rejects that code. You need to spell out constraints so that A and B will be small enough for this to work (WUFFS will check the constraints at runtime and error out if they are not met) OR explain how the addition should saturate or wrap to get one byte out (then WUFFS generates code that does so).<br>
<p>
This feels like an appropriate discipline in their situation, but most programmers would chafe badly under those conditions.<br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/864258/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor865424"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The Sequoia seq_file vulnerability</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 6, 2021 9:40 UTC (Fri)
                               by <b>Randakar</b> (guest, #27808)
                              [<a href="/Articles/865424/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Frankly crashing the kernel is *exactly* the right thing to do. <br>
<p>
In lieu of the compiler explicitly rejecting such conversions (which it should) the next best thing is to fail in the most loud and noisy way possible so that this type of bug has a bigger chance to get noticed.<br>
<p>
Silently doing unexpected things is almost always worse than an error, even if it crashes the system.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/865424/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor863927"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The Sequoia seq_file vulnerability</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 22, 2021 8:36 UTC (Thu)
                               by <b>pabs</b> (subscriber, #43278)
                              [<a href="/Articles/863927/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The BPF verifier evasion seems pretty concerning, but the article didn&#x27;t mention if that has been fixed. I also wonder if changes to block each of the steps in the exploit have been made.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/863927/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor863938"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The Sequoia seq_file vulnerability</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 22, 2021 10:10 UTC (Thu)
                               by <b>immibis</b> (guest, #105511)
                              [<a href="/Articles/863938/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I&#x27;m not seeing the problem with the BPF verifier here. It is not concerning that the BPF verifier can malfunction if arbitrary memory is arbitrarily overwritten at arbitrary points in the process. Most code malfunctions most of the time under those conditions.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/863938/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor863934"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The Sequoia seq_file vulnerability</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 22, 2021 10:32 UTC (Thu)
                               by <b>jmaa</b> (guest, #128856)
                              [<a href="/Articles/863934/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I&#x27;m curious what the fix would be for the BPF? Would have expected jitted code to be read/execute-only when compiled, but perhaps there&#x27;s some limitation preventing W^R?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/863934/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor864046"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The Sequoia seq_file vulnerability</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 22, 2021 20:55 UTC (Thu)
                               by <b>Paf</b> (subscriber, #91811)
                              [<a href="/Articles/864046/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The BPF verifier is evaded by writing to the memory containing the program after the verified has run.  So, nothing BPF can do about it.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/864046/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor864058"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The Sequoia seq_file vulnerability</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 23, 2021 0:35 UTC (Fri)
                               by <b>pabs</b> (subscriber, #43278)
                              [<a href="/Articles/864058/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The article made it sound like userfaultfd() could be used to modify the BPF after the verifier ran, re-reading the paragraph it sounds like I missed that that can&#x27;t happen without a memory write vulnerability?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/864058/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor864090"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The Sequoia seq_file vulnerability</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 23, 2021 11:59 UTC (Fri)
                               by <b>matthias</b> (subscriber, #94967)
                              [<a href="/Articles/864090/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yes, userfaultfd() is only used to give the write vulnerability time to do its work by suspending the thread responsible for verifying and compiling the BPF in the right moment. On my first read, I was also puzzled, why there was not more talk about this seemingly BPF vulnerability.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/864090/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor864252"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The Sequoia seq_file vulnerability</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 25, 2021 13:34 UTC (Sun)
                               by <b>aaronmdjones</b> (subscriber, #119973)
                              [<a href="/Articles/864252/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
And it&#x27;s times like these that I really thank myself for building my own kernels that only have what I need.<br>
<p>
I don&#x27;t have userspace helper binary support, I don&#x27;t have BPF support, I don&#x27;t have user namespaces support (unprivileged or not), I don&#x27;t have FUSE support, and I don&#x27;t have userfaultfd support.<br>
<p>
As far as I can see, between the lack of user namespaces and the lack of FUSE, I have nothing to worry about, since exploiting this vulnerability relies on mounting, which is a privileged operation in my case (no; mount(8) is not setuid).<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/864252/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor864283"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The Sequoia seq_file vulnerability</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 26, 2021 6:10 UTC (Mon)
                               by <b>wtarreau</b> (subscriber, #51152)
                              [<a href="/Articles/864283/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Same here and I totally agree.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/864283/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2021, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
