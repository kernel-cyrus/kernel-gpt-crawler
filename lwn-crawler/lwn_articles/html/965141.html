        <!DOCTYPE html>
        <html lang="en">
        <head><title>The first half of the 6.9 merge window [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/965141/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/965369/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/965141/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>The first half of the 6.9 merge window</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Please consider subscribing to LWN</b>
<p>
Subscriptions are the lifeblood of LWN.net.  If you appreciate this
content and would like to see more of it, your subscription will
help to ensure that LWN continues to thrive.  Please visit
<a href="/Promo/nst-nag1/subscribe">this page</a> to join up and keep LWN on
the net.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>March 14, 2024</br>
           </div>
As of this writing, just over 4,900 non-merge changesets have been pulled
into the mainline for the 6.9 release.  This work includes the usual array
of changes all over the kernel tree; read on for a summary of the most
significant work merged during the first part of the 6.9 merge window.
<br clear="all">
<p>
<h4>Architecture-specific</h4>
<p>
<ul class="spacylist">

<li> Support for the Intel <a
     href="https://www.intel.com/content/www/us/en/content-details/779982/flexible-return-and-event-delivery-fred-specification.html">Flexible
     Return and Event Delivery (FRED)</a> mechanism has been merged.  FRED
     improves low-level event delivery, allowing for simpler and more
     reliable code; see <a
     href="https://git.kernel.org/linus/720c85790753">this changelog</a>
     and <a href="https://git.kernel.org/linus/51383e741b41">this
     documentation commit</a> for more information.
<li> The core kernel has gained support for running AMD <a href="https://www.amd.com/content/dam/amd/en/documents/epyc-business-docs/white-papers/SEV-SNP-strengthening-vm-isolation-with-integrity-protection-and-more.pdf">Secure Nested
     Paging</a> (SNP) guests, part of AMD's confidential-computing solution.
     Full support requires KVM changes which, evidently, have been deferred
     until 6.10.
<li> The kernel can now make use of GCC's <a
     href="https://gcc.gnu.org/onlinedocs/gcc/Named-Address-Spaces.html">named
     address spaces</a> feature to optimize access to per-CPU data.
<li> The latest x86 hardware vulnerability is "register file data
     sampling", which affects Intel Atom CPUs.  The mitigations have been
     merged; see <a href="https://git.kernel.org/linus/4e42765d1be0">this
     documentation commit</a> for details.
</ul>


<p>
<h4>Core kernel</h4>
<p>
<ul class="spacylist">

<li> The kernel is now able to create and use pidfds with threads,
     rather than just the thread-group leader.  This feature can be
     accessed using the new <tt>PIDFD_THREAD</tt> flag with <a
     href="https://man7.org/linux/man-pages/man2/pidfd_open.2.html"><tt>pidfd_open()</tt></a>
     or <tt>CLONE_THREAD</tt> with <a
     href="https://man7.org/linux/man-pages/man2/clone.2.html"><tt>clone()</tt>
     or <tt>clone3()</tt></a>.  The semantics of thread-level pidfds varies
     a bit from process pidfds; see <a
     href="https://git.kernel.org/linus/b5683a37c881">this merge
     changelog</a> for details.
<li> There is a new kernel virtual filesystem for pidfds; see <a
     href="/Articles/963749/">this article</a> for details.
<li> The <a href="/Articles/961941/">BPF arena subsystem</a>, which
     manages shared memory between BPF programs and user space, has been
     merged.  To support use of this memory, the <a
     href="/Articles/964381/"><tt>cond_break</tt> macro</a> changes have
     been merged as well.

</ul>

<p>
<h4>Filesystems and block I/O</h4>
<p>
<ul class="spacylist">

<li> The zonefs and hugetlbfs filesystems now support <a
	href="/Articles/896255/">ID-mapped mounts</a>.
<li> The new <tt>RWF_NOAPPEND</tt> flag for 
     <a href="/Articles/670231/"><tt>pwritev2()</tt></a>
     allows an offset to be supplied for the write even if the file has
     been opened in append-only mode.  This flag makes <tt>pwritev2()</tt>
     behave as POSIX had intended with <tt>pwritev()</tt>.
<li> The old ntfs filesystem implementation has been removed in favor of
     ntfs3.
<li> The new <tt>FS_IOC_GETUUID</tt> <a
     href="https://man7.org/linux/man-pages/man2/ioctl.2.html"><tt>ioctl()</tt></a>
     command will retrieve the UUID for a given filesystem; it is a generic
     version of the (previously) ext4-only feature.  Another new command,
     <tt>FS_IOC_GETFSSYSFSPATH</tt>, will retrieve the location for a
     mounted filesystem under <tt>/sys/fs</tt>.
<li> The <a href="/Articles/776703/">io_uring</a> subsystem has gained
     the ability to truncate a file.
<li> Administrators of NFSv4 servers now have the ability to revoke
     open and lock states on files.
</ul>

<p>
<h4>Hardware support</h4>
<p>
<ul class="spacylist">
<li> <b>Miscellaneous</b>:
     StarFive JH8100 external interrupt controllers.

<li> <b>Networking</b>:
     RENESAS FemtoClock3 PTP clocks,
     Qualcomm QCA807x PHYs,
     Marvell Octeon PCI Endpoint NICs,
     esd electronics gmbh CAN-PCI(e)/402 controllers, and
     Freescale QUICC multichannel controllers.
</ul>

<p>
<h4>Miscellaneous</h4>
<p>
<ul class="spacylist">

<li> The kernel now uses version 1.76.0 of the Rust language.  This update
     stabilizes two features (<tt>const_maybe_uninit_zeroed</tt> and
     <strike><tt>ptr_metadata</tt></strike> <tt>byte_sub</tt>, which can
     replace the unstable <tt>ptr_metadata</tt>) used by the kernel, making
     the list of needed unstable features that much shorter.  There have
     been various other Rust-related changes as well; see <a
     href="https://git.kernel.org/linus/8ede842f669b">this merge
     changelog</a> for details.
<li> Anybody interested in the details of how to use bisection to track
     down a kernel regression may want to have a look at <a
     href="https://git.kernel.org/linus/781296727646">this new document</a>
     that covers the topic extensively.
</ul>


<p>
<h4>Networking</h4>
<p>
<ul class="spacylist">

<li> There has been a lot of work done to reduce the use of the
     networking subsystem's core RTNL lock and reduce contention overall. 
</ul>

<p>
<h4>Security-related</h4>
<p>
<ul class="spacylist">

<li> The <a href="/Articles/947173/">BPF token mechanism</a>, which allows
     the delegation of fine-grained permissions for BPF operations, has
     been merged.  This merge was attempted for 6.8 but ended up being
     reverted; this time it seems likely to stick.  <a
     href="https://git.kernel.org/linus/c8632acf193b">This changelog</a>
     gives an overview of the current state of this work.

</ul>


<p>
<h4>Internal kernel changes</h4>
<p>
<ul class="spacylist">

<li> The <a href="/Articles/960041/">BH workqueue mechanism</a>,
     intended as an eventual replacement for tasklets, has been merged.
<li> The timer subsystem has been <a href="/Articles/913568/">extensively
     reworked</a> to better choose the CPU on which an expired timer runs.
     See <a href="https://git.kernel.org/linus/d08c407f715f">this merge
     changelog</a> for some more information about this change.
<li> The UBSAN signed-overflow sanitizer has been restored with the idea
     of helping to drive compiler development toward better <a
     href="/Articles/959189/">signed wraparound</a> warnings.

</ul>
<p>
The 6.9 merge window can be expected to remain open through March&nbsp;24.
There is still a lot of work waiting to be pulled into the mainline; as
usual, that work will be summarized here once the merge window closes.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-6.9">Releases/6.9</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/965141/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2024, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
