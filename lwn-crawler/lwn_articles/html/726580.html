        <!DOCTYPE html>
        <html lang="en">
        <head><title>Ripples from Stack Clash [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/726580/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/726239/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/726580/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>Ripples from Stack Clash</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Did you know...?</b>
<p>
LWN.net is a subscriber-supported publication; we rely on subscribers
       to keep the entire operation going.  Please help out by <a
       href="/Promo/nst-nag4/subscribe">buying a subscription</a> and keeping LWN on the
       net.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>June 28, 2017</br>
           </div>
In one sense, the <a href="/Articles/725832/">Stack Clash vulnerability</a>
that was announced on June&nbsp;19 has not had a huge impact: thus far, at
least, there have been few (if any) stories of active exploits in the
wild.  At other levels, though, this would appear to be an important
vulnerability, in that it has raised a number of questions about how the
community handles security issues and what can be expected in the future.
The indications, unfortunately, are not all positive.
<p>
A quick review for those who are not familiar with this vulnerability may
be in order.  A process's address space is divided into several regions,
two of which are the stack and the heap areas.  The stack contains
short-lived data tied to the running program's call chain; it is normally
placed at a high address and it grows automatically (toward
lower addresses) if the program accesses memory below the stack's current lower
boundary.  The heap, instead, contains longer-lived memory and grows
upward.  The kernel, as 
of 2010, places a guard page below the stack in an attempt to prevent the
stack from growing into the heap area.
<p>
The "Stack Clash" researchers showed that it is possible to jump over this
guard page with a bit of care.  The result is that programs that could be
fooled into using a lot of stack space could be made to overwrite heap
data, leading to their compromise; setuid programs are of particular
concern in this scenario.  The fix that has been adopted is to turn
the guard page into a guard region of 1MB; that, it is hoped, is too much
to be readily jumped over.
<p>

<h4>Not a new problem</h4>
<p>
There are certain developers working in the security area who are quite fond
of saying "I told you so".  In this case, it would appear that they really
told us so.  An early attempt to deal with this problem can be found in <a
href="/Articles/103954/">this 2004 patch</a> from Andrea Arcangeli, which
imposed a gap of a configurable size between the stack and the heap.
Despite being carried in 
SUSE's kernels for some time, this patch
never found its way into the mainline.
<p>
In 2010, an X server exploit took advantage of the lack of isolation
between the stack and the heap, forcing a bit of action in the kernel
community; <a href="/Articles/400746/">the result</a> was a patch from
Linus Torvalds adding a single guard page (with no configurability) at the
bottom of the stack.  It blocked the X exploit, and many people (and LWN)
proclaimed the problem to be solved.  Or, at least, it seemed solved once
the various bugs introduced by the initial fix were dealt with.
<p>
In the comments to the above-linked LWN article (two days after it was
published), <a 
href="/Articles/401222/">Brad Spengler</a> and "<a 
href="/Articles/401063/">PaX 
Team</a>" claimed that a single-page gap was insufficient.  More recently,
Spengler posted <a
href="https://grsecurity.net/an_ancient_kernel_hole_is_not_closed.php">a
blog entry</a> in his classic style on how they told us about this problem
but it never got fixed because nobody else knows what they are doing.  The
thing they did not do, but could have done if they were truly concerned
about the security of the Linux kernel, was to post a patch fixing the
problem properly.
<p>
Of course, nobody else posted such a patch either; the community can only
blame itself for not having fixed this problem.  Perhaps LWN shares
part of that blame for presenting the problem as being fixed when it was
not; if so, we can only apologize and try to do better in the future.  But
we might argue that the real problem is a lack of people who are focused on
the security of the kernel itself.  There are few developers indeed whose job
requires them to, for example, examine and address stack-overrun threats.
Ensuring that this problem was properly fixed was not anybody's job, so
nobody did it.
<p>
The corporate world supports Linux
kernel development heavily, but there are ghetto areas that, seemingly,
every company sees as being somebody else's problem; security is one of
those.  The situation has improved a little in recent times, but the core
problem remains.
<p>
Meanwhile, one might well ask: has the stack problem truly been fixed this
time?  One might answer with a guarded "yes" â€” once the various problems
caused by the new patch are fixed, at least; a 1MB gap is likely to be
difficult for an attacker to jump over.  But it is hard to be sure, anymore.
<p>

<h4>Embargoes</h4>
<p>
Alexander "Solar Designer" Peslyak is the manager of both the open
oss-security and the closed "distros" list; the latter is used for the
discussion of vulnerabilities that have not yet been publicly disclosed.
The normal policy for that list is that a vulnerability disclosed there can
only be kept under embargo for a period of two weeks; it is intended to
combat the common tendency for companies to want to keep problems secret
for as long as possible while they prepare fixes.
<p>
As <a href="/Articles/726137/">documented by Peslyak</a>, the disclosure of
Stack Clash did not follow that policy.  The list was 
first notified of a problem on May&nbsp;3, with the details disclosed on
May&nbsp;17.  The initial disclosure date of May&nbsp;30 was pushed back by
Qualys until the actual disclosure date of June&nbsp;19.  Peslyak made it
clear that he thought the embargo went on for too long, and that the
experience would not be repeated in the future.
<p>
The biggest problem with the extended embargo, perhaps, was that it kept
the discussion out of the public view for too long.  The sheer volume on
the (encrypted) distros list was, evidently, painful to deal with after a
while.  But the delay also
kept eyes off the proposed fix, with the result that the patches merged by
the disclosure date contained a number of bugs.  The urge to merge fixes as
quickly as possible is not really a function of embargo periods, but long
embargoes fairly clearly delay serious review of those fixes.  Given the
lack of known zero-day exploits, it may well have been better to disclose
the problem earlier and work on the fixes in the open.
<p>
That is especially true since, <a href="/Articles/726586/">according to
Qualys</a>, the reason for the embargo extension was that the fixes were
not ready.  The longer embargo clearly did not result in readiness.  There
was a kernel patch of sorts, but the user-space side of the equation is in
worse shape.  A goal like "<q>recompile all userland code with GCC's
-fstack-check option</q>" was never going to happen in a short period
anyway, even if <tt>-fstack-check</tt> were well suited to this application â€” <a
href="/Articles/726587/">which it currently is not</a>.

<p>
There is a related issue in that OpenBSD broke the embargo by publicly
committing <a
href="https://github.com/openbsd/src/commit/4ed6bfeac112229466414b94cdbd983fb8017796">a
patch to add a 1MB stack guard</a> on May&nbsp;18 â€” one day after the
private disclosure of the problem.  This has raised a number of questions,
including whether OpenBSD (which is not a member of the distros list)
should be included in embargoed disclosures in the future.  But perhaps the
most interesting point to make is that, despite this early disclosure, all
hell stubbornly refused to break loose in its aftermath.  Peslyak <a
href="/Articles/726585/">noted</a> that:
<p>
<div class="BigQuote">
	This matter was discussed, and some folks were unhappy about
	OpenBSD's action, but in the end it was decided that since, as you
	correctly say, the underlying issue was already publicly known,
	OpenBSD's commits don't change things much.
</div>
<p>
As was noted above, the "underlying issue" has been known for many years.
A security-oriented system abruptly making a change in this area should be
a red flag for those who follow commit streams in the hope of finding
vulnerabilities.  But there appears to be no evidence that this disclosure
â€” or the other leaks that apparently took place during the long embargo â€”
led to exploits being developed before the other systems were ready.
So, again, it's not clear that the lengthy embargo helped the situation.<p>

<h4>Offensive CVE assignment</h4>
<p>

Another, possibly discouraging, outcome from this whole episode was a
demonstration of the use of CVE numbers as a commercial weapon.  It
arguably started with <a
href="https://mobile.twitter.com/kurtseifried/status/876818809079816193">this
tweet from Kurt Seifried</a>, reading: "<q>CVE-2017-1000377 Oh you
thought running GRsecurity PAX was going to save you?</q>".  <a
href="https://nvd.nist.gov/vuln/detail/CVE-2017-1000377">CVE-2017-1000377</a>,
filed by Seifried, states that the grsecurity/PaX patch set also suffers from
the Stack Clash vulnerability â€” a claim which its developers dispute.
Seifried has not said whether he carried out these actions as part of his
security work at Red Hat, but Spengler, at least, clearly sees a connection
there. 
<p>
Seifried's reasoning appears to be based on this text from <a
href="/Articles/726588/">the Qualys advisory</a> sent to the oss-security list:
<p>
<div class="BigQuote">
	In 2010, grsecurity/PaX introduced a configurable stack guard-page:
	its size can be modified through /proc/sys/vm/heap_stack_gap and is
	64KB by default (unlike the hard-coded 4KB stack guard-page in the
	vanilla kernel).  Unfortunately, a 64KB stack guard-page is not
	large enough, and can be jumped over with ld.so or gettext().
</div>
<p>
The advisory is worth reading in its entirety.  It describes an exploit
against <tt>sudo</tt> under grsecurity, but that exploit depended on a
second vulnerability and disabling some grsecurity protections.  With those
protections enabled, Qualys says, a successful exploit could take thousands
of years.
<p>
It is thus not entirely surprising that
Spengler <a href="/Articles/726589/">strongly denied</a> that the CVE
number was valid; in his unique fashion, he made it clear that he
believes the whole thing was commercially motivated; "<q>this taints the
CVE process<q>", he said.  Seifried <a href="/Articles/726590/">defended
the CVE</a> as "<q>legitimate</q>" but suggested that he was getting
tired of the whole show and might give up on it.
<p>
Meanwhile Spengler, not to be outdone, <a href="/Articles/726591/">filed
for a pile of CVE numbers</a> against the mainline kernel, to the <a
href="/Articles/726592/">befuddlement</a> of Andy Lutomirski, the author of
much of the relevant code.  Spengler <a href="/Articles/726593/">made it
appear</a> that this was a retaliatory act and suggested that Lutomirski
talk to Seifried about cleaning things up.  "<q>I am certain he will
treat a member of upstream Linux the same as I've been treated,
as he is a very professional and equitable person.</q>"
<p>
The CVE mechanism was created as a way to make it easier to track and talk
about specific vulnerabilities.  Some have questioned its value, but there
does seem to be a real use for a unique identifier for 
each problem.  If, however, the CVE assignment mechanism becomes a
factory for mudballs to be thrown at the competition, it is likely to lose
whatever value it currently has.  One can only hope that the community will
realize that turning the CVE database into a cesspool of fake news will do
no good for anybody and desist from this kind of activity.
<p>
<h4>In conclusion</h4>
<p>
Our community's procedures for dealing with security issues have been
developed over decades and, in many ways, they have served us well over
that time.  But they are also showing some signs of serious strain.  The
lack of investment in the proactive identification and fixing of security
issues before they become an emergency has hurt us a number of times and
will continue to do so.  The embargo processes we have developed are
clearly not ideal and could use improvement â€” if we only knew what form
that improvement would take.
<p>
It is becoming increasingly apparent to the world as a whole that our
industry's security is not at the level it needs to be.  Hopefully, that
will create some commercial incentives to improve the situation.  But it
also creates incentives to attack others rather than fixing things at
home.  That is going to lead to some increasingly ugly behavior; let us
just hope that our community can figure out a way to solve problems without
engaging in divisive and destructive tactics.  Our efforts are much better
placed in making Linux more secure for all users than in trying to take
other approaches down a notch.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Security-Vulnerabilities">Security/Vulnerabilities</a></td></tr>
            <tr><td><a href="/Security/Index/">Security</a></td><td><a href="/Security/Index/#Linux_kernel">Linux kernel</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/726580/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor726651"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2017 16:31 UTC (Wed)
                               by <b>sorokin</b> (guest, #88478)
                              [<a href="/Articles/726651/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
What I find disturbing in the story is the fact that programs on windows had been immune to this kind of vulnerability for ages. If you have a function with more than 4 kbytes of local variables, MSVC injects the code that touches all pages allocated for the variables. Windows requires that stack pages must be touched sequentially. Your program will be killed if it tries skipping a single page of the stack.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726651/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726698"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2017 23:11 UTC (Wed)
                               by <b>cesarb</b> (subscriber, #6266)
                              [<a href="/Articles/726698/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I doubt it was an intentional security feature on part of the Windows designers; it was probably a side effect of the design of its virtual memory subsystem, which as far as I could find doesn't have the kind of automatically growing virtual memory area that Linux has. Instead, it allows one to mark a page as a "guard page", where any attempt to access will cause an exception (in userspace; Windows has exceptions even in C), and automatically remove the "guard page" mark. The exception handler has to allocate another page and mark it as the new "guard page".<br>
<p>
Since there's only one "guard page" on the stack, and you have to touch it or the stack won't grow, compilers for Windows have to call a function to touch the guard page whenever the stack frame for a function is larger than one page. Since on Linux you don't have to touch the guard page for the stack to grow, compilers for Linux haven't implemented it.<br>
<p>
This is not the first time that different design choices happen to prevent a vulnerability. For instance, Linux (X11 actually) was not vulnerable to Shatter attacks, due to not sending function pointers through the same message loop used for inter-application messages.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726698/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726724"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 29, 2017 7:05 UTC (Thu)
                               by <b>vegard</b> (subscriber, #52330)
                              [<a href="/Articles/726724/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; any attempt to access will cause an exception (in userspace; Windows has exceptions even in C)</font><br>
<p>
Are you referring to page fault exceptions, which is a hardware feature different from C++ exceptions? I'm pretty sure it's the same on Linux, and you can even handle those by handling SIGSEGV and/or SIGBUS.<br>
<p>
<font class="QuotedText">&gt; I doubt it was an intentional security feature on part of the Windows designers; it was probably a side effect of the design of its virtual memory subsystem,</font><br>
<p>
I don't know, I think one-page-at-a-time expansion is a more sane design from the outset. I mean, for sure they didn't have the current Linux userspace exploits in mind, but I don't find it unthinkable that there was at the very least a vaguely security-related concern behind their design.<br>
<p>
I don't think we should assume by default that Windows got something right only because of a "lucky design choice"; that's a bit disingenuous.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726724/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726732"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 29, 2017 9:39 UTC (Thu)
                               by <b>farnz</b> (subscriber, #17727)
                              [<a href="/Articles/726732/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <p>Windows has had <a href="https://en.wikipedia.org/wiki/Microsoft-specific_exception_handling_mechanisms#Structured_Exception_Handling">a userspace exception mechanism</a> in all Win32 versions. The Windows kernel won't grow stacks automatically; instead, if you want a stack to grow, you set up a guard page, which will trigger a <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa366549(v=vs.85).aspx">Guard Page Violation</a> exception when touched (instead of the normal Page Fault exception), and then automatically put the page you set up when you configured the guard page into place.
<p>This lets you map in a new guard page, ready for the next step of growth.
      
          <div class="CommentReplyButton">
            <form action="/Articles/726732/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor726773"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 29, 2017 13:55 UTC (Thu)
                               by <b>felixfix</b> (subscriber, #242)
                              [<a href="/Articles/726773/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
"one-page-at-a-time expansion is a more sane design"<br>
<p>
What if the local var which expands the stack is a multi-page array which is populated randomly?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726773/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726830"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 29, 2017 22:22 UTC (Thu)
                               by <b>kmeyer</b> (subscriber, #50720)
                              [<a href="/Articles/726830/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The whole thing gets probed.  Why, do you think that particular case is sane and should be optimized for?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726830/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
<a name="CommAnchor726652"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2017 16:34 UTC (Wed)
                               by <b>fbacchella</b> (subscriber, #60898)
                              [<a href="/Articles/726652/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      And you forget that the distribution's patch was not of the upmost quality:

http://www.openwall.com/lists/oss-security/2017/06/22/6
https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1699772

And for own use case:

~$ (ulimit -s 4112 ; uname)
Linux
~$ (ulimit -s 4111 ; uname)
-bash: /usr/bin/uname: Argument list too long

      
          <div class="CommentReplyButton">
            <form action="/Articles/726652/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726653"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2017 16:35 UTC (Wed)
                               by <b>fbacchella</b> (subscriber, #60898)
                              [<a href="/Articles/726653/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
In a more readable format:<br>
<p>
~$ (ulimit -s 4112 ; uname) <br>
Linux <br>
~$ (ulimit -s 4111 ; uname)<br>
 -bash: /usr/bin/uname: Argument list too long<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726653/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor726657"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2017 17:39 UTC (Wed)
                               by <b>jhoblitt</b> (subscriber, #77733)
                              [<a href="/Articles/726657/">Link</a>] (7 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Would having the stack in a separate memory segment avoid this entire class of vulnerabilities?  If so, we just need to replace all modern hardware....<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726657/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726676"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2017 21:27 UTC (Wed)
                               by <b>flussence</b> (guest, #85566)
                              [<a href="/Articles/726676/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Current PC CPUs are, for the time being, still capable of doing real segmentation faults in hardware. It could be done if everyone in the world could be convinced the x86-64 ABI is a bad idea. (Maybe we could improve x32 with memory isolation to make it actually worth the hassle to use?)<br>
<p>
It seems weird that we have hardware and software mechanisms all over the place to keep the other layers of an OS from trampling each other, but the stack and heap are allowed to even though nothing good can possibly come of it.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726676/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726715"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 29, 2017 1:03 UTC (Thu)
                               by <b>jhoblitt</b> (subscriber, #77733)
                              [<a href="/Articles/726715/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Eh, I had no idea.  I suppose one wouldn't have to completely throw out the x86_64 ABI -- couldn't a tweaked ABI live in parallel with slightly different ELF metadata?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726715/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor726727"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 29, 2017 9:06 UTC (Thu)
                               by <b>jem</b> (subscriber, #24231)
                              [<a href="/Articles/726727/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I'm genuinely curious how you intend to solve this problem with an ABI change. Memory pages on the x86-64 can be write protected, and they can be marked non-executable, but to my knowledge there is no separation at the hardware level between "stack" pages and "non-stack" data pages.<br>
<p>
<font class="QuotedText">&gt; It seems weird that we have hardware and software mechanisms all over the place to keep the other layers of an OS from trampling each other, but the stack and heap are allowed to even though nothing good can possibly come of it.</font><br>
<p>
The difference here is that we are not talking about layers of an OS, but memory areas that are internal to a single process. Also, it's a bit inaccurate to talk about "the stack", since there are typically lots of separate stacks, one for each thread.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726727/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726961"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 2, 2017 3:07 UTC (Sun)
                               by <b>immibis</b> (guest, #105511)
                              [<a href="/Articles/726961/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
With segmentation, you can have separation between stack and non-stack data pages - such that even if you have an address that points to the heap, if you try to use that address to access the stack, you get a segfault. (A *literal* segfault, not one of those pagefaults that we now call segfaults for historical reasons)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726961/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726962"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 2, 2017 3:39 UTC (Sun)
                               by <b>Cyberax</b> (<b>&#x272D; supporter &#x272D;</b>, #52523)
                              [<a href="/Articles/726962/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
You can do this with the current architecture. Just use bit 62 of the address to indicate heap/stack and set the mappings accordingly. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726962/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726975"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 2, 2017 17:04 UTC (Sun)
                               by <b>dtlin</b> (subscriber, #36537)
                              [<a href="/Articles/726975/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
You shouldn't be able to change the segment selector through pointer arithmetic. In a flat address space, you have to somehow check that any pointer offset (that could conceivably be controlled by user input) doesn't cause the pointer to change that bit...<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726975/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor726842"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 30, 2017 6:48 UTC (Fri)
                               by <b>itvirta</b> (guest, #49997)
                              [<a href="/Articles/726842/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I thought long mode (64-bit mode) only supports flat segments, that contain the whole memory area<br>
from 0 to 2^64. Not just because segmentation isn't used in the ABI, but just that the hardware doesn't support it.<br>
Even if i386-style segmentation would be available, it would require pointers to have the segment id with them<br>
everywhere, which makes them unnecessarily longer (80-bit pointers? Might be somewhat awkward to handle because<br>
of alignment issues etc.)<br>
<p>
Now, hypothetically, reserving one bit out of 64 for a stack/heap indicator would give separation without using that much<br>
space, but we would require dedicated arithmetic instructions for pointers so that the usual arithmetic wouldn't be able to<br>
change the indicator bit... Either that, or just go back to having a large unreserved area between the two areas, which kinda<br>
seems like what the fix we have for the current issue.<br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726842/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor726662"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Increasingly hard to see how Brad Spengler is/was in the wrong</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2017 19:00 UTC (Wed)
                               by <b>ms-tg</b> (subscriber, #89231)
                              [<a href="/Articles/726662/">Link</a>] (12 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Hi Jonathan,<br>
<p>
Am I the only one that is increasingly finding it hard to see how Brand Spengler / PaX / GrSecurity / Open Source Security / whomever is or was in the wrong on any of this?<br>
<p>
Sure, it's true that their scorched-earth style of discourse is/was not helping their points of view to be heard. But seeing how all this has played out, it doesn't look like the mainstream kernel community, Linus included, came off a whole lot better, does it?<br>
<p>
Has anyone proposed the following modest commercial model: Someone, let's say Red Hat, pays a sizable annual contract for the services of PaX. In return, PaX works with someone at Red Hat whom they essentially teach, full-time, all the details of all their threat models, vulnerabilities, and protective measures, as understood and implemented by PaX? I would imagine that such a person would then have a fairly good opportunity, in their full-time role as such, to craft these ideas into kernel patches which are both (a) acceptable upstream, (b) signed-off by PaX as fully providing all protection claimed, and (c) unambiguously citing PaX as the source of the ideas behind them?<br>
<p>
In other words, could it become as simple as: pay PaX to sit down and work with someone full-time to upstream their ideas, and also pay that other person to act as the full-time intellectual and implementation intermediary between the two difficult cultures of PaX and upstream Linux?<br>
<p>
Just a thought...<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726662/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726666"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Increasingly hard to see how Brad Spengler is/was in the wrong</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2017 19:51 UTC (Wed)
                               by <b>riel</b> (subscriber, #3142)
                              [<a href="/Articles/726666/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Kees Cook and others are working to upstream the good stuff from the linux-hardened and PaX/grsecurity trees. The maintainer of the linux-hardened tree is helping out with this, too.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726666/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726668"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Increasingly hard to see how Brad Spengler is/was in the wrong</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2017 20:09 UTC (Wed)
                               by <b>ms-tg</b> (subscriber, #89231)
                              [<a href="/Articles/726668/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yes, but...<br>
<p>
Isn't the "missing part", that they are making patch sets that end up acceptable for upstream approval, but not necessarily approved by PaX as being complete and fully understanding the problem, and accounting for every detail that is changed from the original solution and why that doesn't violate any assumptions about the threat model?<br>
<p>
In other words, isn't the problem that there's no formal role assigned here for PaX itself? And wouldn't they be willing to play that role if<br>
(a) they were paid for it, probably by Red Hat<br>
(b) they're job was to approve the interpretation of the patches, or clearly explain what was still not right<br>
(c) they were clearly credited for originating the understanding of the vulnerability and/or hardening solution?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726668/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726669"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Increasingly hard to see how Brad Spengler is/was in the wrong</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2017 20:15 UTC (Wed)
                               by <b>andresfreund</b> (subscriber, #69562)
                              [<a href="/Articles/726669/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
That sounds like the most likely outcome of that would be zero progress.  grsecurity has a commercial interest in *not* getting this stuff into core.   Several people associated with grsec have a communication style clearly aimed at not resulting in actual cooperation.  They don't approve of working on things incrementally.  Why would it be a good idea to give them veto powers - and that's pretty much what you're suggesting.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726669/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor726674"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Increasingly hard to see how Brad Spengler is/was in the wrong</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2017 20:27 UTC (Wed)
                               by <b>pizza</b> (subscriber, #46)
                              [<a href="/Articles/726674/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Isn't the "missing part", that they are making patch sets that end up acceptable for upstream approval, but not necessarily approved by PaX as being complete and fully understanding the problem [...]</font><br>
<p>
You're missing a crucial point -- In many ways, there are fundamental conflicts between the needs of upstream and the needs of a hardened patchset.  Implications include API changes, performance regressions, maintainability, and so forth.  I'm not saying that either side is inherently _wrong_; just that there are legitimate areas of disagreement that could easily result in incomplete bits being mainlined.<br>
<p>
Another thing that the core kernel maintainers have repeatedly (and IMO correctly) prioritized is a maintainer's ability to play well with others.  None of them exist in a vacuum.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726674/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor726742"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Increasingly hard to see how Brad Spengler is/was in the wrong</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 29, 2017 11:28 UTC (Thu)
                               by <b>paulj</b> (subscriber, #341)
                              [<a href="/Articles/726742/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
That's been done in a way that doesn't benefit spender, PaXteam, etc., at all. Which has made the situation worse. Not really surprising that paying one set of people to work on other's people code, leaving those original authors out in the cold, would make that other set of people even more antagonistic.<br>
<p>
Yes, I know there's lots of people factor issues here, but... there is clear value in their security work regardless, and the above situation is highly sub-optimal (for users esp.).<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726742/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor726671"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Increasingly hard to see how Brad Spengler is/was in the wrong</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2017 20:22 UTC (Wed)
                               by <b>pizza</b> (subscriber, #46)
                              [<a href="/Articles/726671/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Has anyone proposed the following modest commercial model: Someone, let's say Red Hat, pays a sizable annual contract for the services of PaX.</font><br>
<p>
As the saying goes, it takes two to tango.<br>
<p>
It's my understanding that Pax/etc has refused to pursue this of their own accord, categorically rejected others trying to arrange this for them, and has set fire to just about every bridge in the process.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726671/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor726673"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Increasingly hard to see how Brad Spengler is/was in the wrong</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2017 20:28 UTC (Wed)
                               by <b>josh</b> (subscriber, #17465)
                              [<a href="/Articles/726673/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It makes a huge amount of sense to pay people to do this work, which is what's being done. However, if the goal is to make the upstream kernel secure, then rather than selecting people with a history of not collaborating with upstream and intentionally antagonizing everyone around them, it makes more sense to select people demonstrably capable of doing so.<br>
<p>
Take a look at the tantrum-level spitefulness on the CVE-related mail and ask yourself if that's who you'd want to employ. There's a reason that the community has carefully weaned itself away from dependencies on people like Joerg Schilling and Ulrich Drepper, in favor of people who work well with the community.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726673/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726729"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Increasingly hard to see how Brad Spengler is/was in the wrong</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 29, 2017 9:55 UTC (Thu)
                               by <b>nhippi</b> (subscriber, #34640)
                              [<a href="/Articles/726729/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
When KSPP started to materialize, it would have made sense to Linux Foundation to ask Brad to do it. Even if they didn't, Brad should have seen the writing in the wall and proposed to do it himself. We don't know why exactly Brad is not getting the KSPP money, and instead some other people are paid to upstream Brads code. But chances are "not being nice to your potential future customers" played a big part in it. <br>
<p>
Linus is not much better - which is especially bad because some people think the success of Linux is because of his style and LKML culture - rather than despite of it.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726729/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726752"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KSPP</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 29, 2017 13:44 UTC (Thu)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/726752/">Link</a>] 
      </p>
      
      </div>
      </summary>
      It is worth remembering that KSPP is not a Linux Foundation project, and there is no "KSPP money" slush fund that the LF could have directed differently.
      
          <div class="CommentReplyButton">
            <form action="/Articles/726752/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor727315"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Increasingly hard to see how Brad Spengler is/was in the wrong</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 6, 2017 17:18 UTC (Thu)
                               by <b>Wol</b> (subscriber, #4433)
                              [<a href="/Articles/727315/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Linus is not much better - which is especially bad because some people think the success of Linux is because of his style and LKML culture - rather than despite of it.</font><br>
<p>
I think you'll find Linus is a *lot* better.<br>
<p>
Yes he can have a potty-mouth. But he rarely uses it, and mostly when the other guy has been demonstrably stupid. Also the other guy is usually well-known to Linus.<br>
<p>
There's a big difference between a bully picking on everyone, and a playground scrap between friends. Linus is respected for his technical judgement, and his ability to keep out of things while dropping technical bombs into other peoples' conversations. There's two things - being able to tell someone politely that their code is wrong because ..., and also to be able to tell someone that their code "does not feel right". Linus has that ability in spades, while unfortunately Pax et al don't have those people skills ...<br>
<p>
Cheers,<br>
Wol<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/727315/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor726908"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Increasingly hard to see how Brad Spengler is/was in the wrong</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 30, 2017 17:13 UTC (Fri)
                               by <b>raven667</b> (subscriber, #5198)
                              [<a href="/Articles/726908/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt;  let's say Red Hat, pays a sizable annual contract for the services of PaX. In return, PaX works</font><br>
<p>
I don't think you are in any position to negotiate working conditions for GrSecurity developers, they are capable of doing that themselves, and you aren't the first person to propose an arrangement like this, if GrSecurity developers really wanted to work this way this would be a solved problem.  Since you are starting with a fantasy assumption the rest of your idea doesn't really matter.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726908/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726973"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Increasingly hard to see how Brad Spengler is/was in the wrong</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 2, 2017 15:34 UTC (Sun)
                               by <b>jospoortvliet</b> (guest, #33164)
                              [<a href="/Articles/726973/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
So the PAX st all team was offered money to upstream their work and was uninterested? That explains their aggression towards the kspp efforts i guess...<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726973/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor726659"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2017 20:24 UTC (Wed)
                               by <b>josh</b> (subscriber, #17465)
                              [<a href="/Articles/726659/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
This detailed follow-up, connecting all the myriad pieces of this story, and providing detailed supporting evidence to show how the various parties involved have acted, is exactly the kind of thing I come to LWN for. I've described LWN in the past as "the next best thing to reading LKML", but really, in this case, it's collating information from a dozen places. Thanks for the quality investigative reporting, here.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726659/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726855"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 30, 2017 11:33 UTC (Fri)
                               by <b>sml</b> (guest, #75391)
                              [<a href="/Articles/726855/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yep, my thoughts exactly. Thanks!<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726855/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor726937"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 1, 2017 6:03 UTC (Sat)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/726937/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; "the next best thing to reading LKML", </font><br>
<p>
That's when assuming infinite time, otherwise LWN comes first.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726937/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726965"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 2, 2017 5:27 UTC (Sun)
                               by <b>josh</b> (subscriber, #17465)
                              [<a href="/Articles/726965/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Well, yeah. The next best thing to reading *all* of LKML, and every other development mailing list out there.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726965/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor726686"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2017 21:46 UTC (Wed)
                               by <b>Trou.fr</b> (subscriber, #26289)
                              [<a href="/Articles/726686/">Link</a>] (9 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Of course, nobody else posted such a patch either; the community can only</font><br>
<font class="QuotedText">&gt; blame itself for not having fixed this problem. Perhaps LWN shares part of</font><br>
<font class="QuotedText">&gt; that blame for presenting the problem as being fixed when it was not; if so,</font><br>
<font class="QuotedText">&gt; we can only apologize and try to do better in the future. But we might argue</font><br>
<font class="QuotedText">&gt; that the real problem is a lack of people who are focused on the security of</font><br>
<font class="QuotedText">&gt; the kernel itself. There are few developers indeed whose job requires them</font><br>
<font class="QuotedText">&gt; to, for example, examine and address stack-overrun threats. Ensuring that</font><br>
<font class="QuotedText">&gt; this problem was properly fixed was not anybody's job, so nobody did it.</font><br>
<p>
While I'm usually a fan of LWN articles, the recent amount of self-delusion<br>
about security in the Linux kernel has been really annoying.<br>
<p>
Maybe you could have reflected on the fact that Linus has been repeatedly<br>
insulting people trying to improve Linux's security for years, which certainly<br>
is a deterent to any contribution on the subject.<br>
<p>
And there _are_ people who care about the Linux kernel security: they use grsec<br>
patches.<br>
<p>
The KSPP has been trying to improve the situation, but as ms-tg put it in another comment: hiring Brad and PaXTeam to actually port grsecurity to the mainline would have been the most efficient (at least in a technical point of view) way. Just remind yourself that (at least until last year) Brad was working on grsec _on his spare time_.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726686/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726701"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2017 22:38 UTC (Wed)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/726701/">Link</a>] (8 responses)
      </p>
      
      </div>
      </summary>
      <blockquote>
The KSPP has been trying to improve the situation, but as ms-tg put it in another comment: hiring Brad and PaXTeam to actually port grsecurity to the mainline would have been the most efficient (at least in a technical point of view) way. Just remind yourself that (at least until last year) Brad was working on grsec _on his spare time_.
</blockquote>
Apparently this offer was made. Brad refused (though why is unclear amid all the conspiracy-theorizing). Frankly it seems unlikely this could have ended well: Brad isn't going to be happy until everything he does goes straight into the kernel without review or question, and that's just not how development of <i>anything</i> works. The first code review would lead to a titanic explosion and probably a rapid firing. (Heck, I suspect one wouldn't have to wait that long: the first security bug after he was hired, even in code Brad had nothing to do with, would lead to a mass of snideness, an escalating flamewar...)
<p>
Employment requires a degree of treating your colleagues like human beings and considering that their concerns may have value and are not exclusively motivated by hatred and malice. I suspect there is a reason grsecurity is off working on its own...

      
          <div class="CommentReplyButton">
            <form action="/Articles/726701/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726703"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2017 22:51 UTC (Wed)
                               by <b>PaXTeam</b> (guest, #24616)
                              [<a href="/Articles/726703/">Link</a>] (7 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Apparently this offer was made.</font><br>
<p>
no, no such offer was made. the best Kees could offer at the time (about 2 years ago) was to talk to the CII (he said google's decision to compete with us instead of cooperation was made above his pay grade) and they didn't answer my question whether they'd be willing to fund the necessary hours to get this work done. but yeah, don't let the facts stop you from your conspiracy theorizing ;).<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726703/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726712"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2017 23:59 UTC (Wed)
                               by <b>pizza</b> (subscriber, #46)
                              [<a href="/Articles/726712/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; no, no such offer was made. the best Kees could offer at the time (about 2 years ago) was to talk to the CII (he said google's decision to compete with us instead of cooperation was made above his pay grade) and they didn't answer my question whether they'd be willing to fund the necessary hours to get this work done. but yeah, don't let the facts stop you from your conspiracy theorizing ;).</font><br>
<p>
Oh, please.<br>
<p>
Spender has explicitly stated, here on LWN (and undoubtedly elsewhere) that he would _never_ accept funding from any entity associated with Linux Foundation, including the CII -- in response to the CII asking him to write a proposal in order to get the funding ball rolling.<br>
<p>
That sort of response is a good example of what is known as a "self-inflicted career limiting move".<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726712/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726713"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 29, 2017 0:15 UTC (Thu)
                               by <b>PaXTeam</b> (guest, #24616)
                              [<a href="/Articles/726713/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; [...] the CII asking him to write a proposal in order to get the funding ball rolling.</font><br>
<p>
the CII did what? that never happened, you must have misunderstood something. i was the one who asked on cii-discuss in august 2015 how this whole thing could work (before investing my free time into writing a proposal) and got no real response, spender was never part of that discussion.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726713/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor726743"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 29, 2017 11:35 UTC (Thu)
                               by <b>paulj</b> (subscriber, #341)
                              [<a href="/Articles/726743/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
spender has stated that, but it's never been clear if he stated that _because_ he had been so antagonised/insulted by being left out in the cold, with other people being paid (presumably well) to work on code he wrote.<br>
<p>
It is obvious that that would induce a degree of bitterness and even hatred. The chain of cause and effect is not clear though.<br>
<p>
Further, regardless of prior events, it would still be good to try fix this situation, and find some way to navigate around the social and corporate politics so that spender, et al., can earn a living from their security work. Given that that work has clear value, as there are others being paid to take that work and upstream it.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726743/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726749"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 29, 2017 13:32 UTC (Thu)
                               by <b>ms-tg</b> (subscriber, #89231)
                              [<a href="/Articles/726749/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Further, regardless of prior events, it would still be good to try fix this situation, and find some way to navigate around the social and corporate politics so that spender, et al., can earn a living from their security work. Given that that work has clear value, as there are others being paid to take that work and upstream it.</font><br>
<p>
I am seeing this the same way. So, here's a second modest proposal, one sketch of an approach that could possibly help fix the situation:<br>
<p>
1.  Problem: Linus's belittling and antagonism for years<br>
<p>
Solution: Linus writes a formal, personal apology. Quoting all of his derogatory comments that were later proved false (in a concise way), and saying, "mea culpa", please accept our community apology and come back into the fold and work with us in good faith.<br>
<p>
2.  Problem: No clear paths forward. <br>
<p>
Solution: Ask (don't tell, don't make assumptions) for jointly-designed Next Steps.<br>
<p>
In a public forum, Linus in tandem with someone at Red Hat and someone at Linux Foundation or other funding-source formally write a short public letter making clear that they are open to paying, over a number of years, for Brad and Pax Team's time to work diligently with the community to upstream the source. And *ask them* for a suggestion of how that relationship might work. Listen to what they say -- see if there are solutions that meet all interests.<br>
<p>
Perhaps there's some reason why this sort of common sense approach cannot work -- would love to know more?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726749/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726835"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 29, 2017 23:25 UTC (Thu)
                               by <b>flussence</b> (guest, #85566)
                              [<a href="/Articles/726835/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt;1. Problem: Linus's belittling and antagonism for years</font><br>
<p>
<font class="QuotedText">&gt;Solution: Linus writes a formal, personal apology. Quoting all of his derogatory comments that were later proved false (in a concise way), and saying, "mea culpa", please accept our community apology and come back into the fold and work with us in good faith.</font><br>
<p>
And once Linus has apologised for being Finnish, grsecurity can apologise for being American.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726835/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor727045"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 3, 2017 18:33 UTC (Mon)
                               by <b>BenHutchings</b> (subscriber, #37955)
                              [<a href="/Articles/727045/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I don't see what nationality has to do with this. (Also, Linus is a naturalised American.)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/727045/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor726849"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 30, 2017 9:44 UTC (Fri)
                               by <b>paulj</b> (subscriber, #341)
                              [<a href="/Articles/726849/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I think it's fair to say there's blame on both sides, and both sides feel the unreasonableness of the other makes it impossible to work with them. As a result, I don't think any proposed solution that involves requiring one party to unilaterally accept all blame and apologise to the other will work.  Working /around/ assignation of blame and first starting to (re-)build some kind of working relationship (via intermediaries perhaps), while avoiding getting into blame and who is wrong for what, is usually step 1 in conflict resolution.<br>
<p>
Find a good intermediary, and finding the resources, would be the first steps, I'd imagine.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726849/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor726738"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Ripples from Stack Clash</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 29, 2017 10:53 UTC (Thu)
                               by <b>SLi</b> (subscriber, #53131)
                              [<a href="/Articles/726738/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
What's going on with the mail archive links? It seems to me links to mails in LWN articles are  broken in maybe 20% of the time, long term. Is it just that there is no non-broken mail archive service?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726738/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726751"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Mail archives</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 29, 2017 13:38 UTC (Thu)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/726751/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      There hasn't been a reliable mail archive, especially one that we could link to in an automated way, since gmane went away.  Sometimes I think we're just going to have to make our own.
      
          <div class="CommentReplyButton">
            <form action="/Articles/726751/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726782"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Mail archives</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 29, 2017 14:49 UTC (Thu)
                               by <b>pjones</b> (subscriber, #31722)
                              [<a href="/Articles/726782/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I would totally contribute to a kickstarter for funding this :)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726782/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor726938"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Mail archives</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 1, 2017 6:12 UTC (Sat)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/726938/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Since the recent and unfortunate gmane events I saw myself using more and more the services from this small and promising startup:<br>
<p>
<a href="https://groups.google.com/forum/#!msg/ciekawe-papierki/OxsZsiiVKF0/2LqULsHXCwAJ">https://groups.google.com/forum/#!msg/ciekawe-papierki/Ox...</a><br>
<p>
<font class="QuotedText">&gt; Sometimes I think we're just going to have to make our own.</font><br>
<p>
Errr... of which subset of the whole universe of lists?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726938/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor726798"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">This isn't fixed until the compilers are</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 29, 2017 17:05 UTC (Thu)
                               by <b>ebiederm</b> (subscriber, #35028)
                              [<a href="/Articles/726798/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<p>
Let's be clear no amount of kernel effort alone will ever fix this.  This is not fixed until the compilers are updated and user space is rebuilt.<br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726798/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726805"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">This isn't fixed until the compilers are</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 29, 2017 18:33 UTC (Thu)
                               by <b>cesarb</b> (subscriber, #6266)
                              [<a href="/Articles/726805/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
For arbitrary userspace, yes, but if you know how much stack space your userspace can jump over in the worst case, and it's on the initial thread, having a stack gap bigger than that amount can be a fix. For instance, if your worst function allocates a 256K buffer in the stack, having a 260K or bigger stack gap should be enough to prevent it from being exploited.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726805/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor726955"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">This isn't fixed until the compilers are</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 2, 2017 0:57 UTC (Sun)
                               by <b>areilly</b> (subscriber, #87829)
                              [<a href="/Articles/726955/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yes, this is not really an OS issue, although I don't really understand how OSes on 64-bit systems can't help by arranging for swapping death to occur long before the "clash."<br>
<p>
This is an application security bug issue, just like every other form of security violation via type violation bug.  Everyone has written a program that crashes (eventually) by doing infinite recursion.  It's not difficult or clever, it's coding an algorithm bug.<br>
<p>
All of the examples in the original Stack Clash report aren't system bugs, they're user-input validation bugs in software that has security implications, and -duh- appropriately unexpected input can tickle a bug that has bad results.<br>
<p>
The contiguously-allocated stack is just a convenient data structure that's used for the very good reason that it's efficient.  It is just a data structure that's used.  Use can include misuse.  Some languages and systems trade this efficiency for other structures and other trade-offs: some allocate stack-frames on the heap as a traditional linked structure, because that supports a very large number of threads in a small address space, at the cost of more expensive allocation.<br>
<p>
The way this issue is being discussed makes it sound as though Red Hat or Linus or the FreeBSD foundation are responsible for input-validation bugs in Exim.  That's simply not the case.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726955/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726986"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">This isn't fixed until the compilers are</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 3, 2017 7:29 UTC (Mon)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/726986/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
you can never count on the compilers 'fixing' a problem like this.<br>
<p>
If there is a way to crash/corrupt your machine from a sequence of instructions, attackers will use asm() to insert those specific instructions, the fact that the rest of your machine was compiled with a compiler that does something to avoid this bug isn't going to help you.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726986/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor726987"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">This isn't fixed until the compilers are</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 3, 2017 8:06 UTC (Mon)
                               by <b>Jandar</b> (subscriber, #85683)
                              [<a href="/Articles/726987/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
If an attacker can write the executed code with asm(), he/she is already past the defense this fix should create.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/726987/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor727058"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">This isn't fixed until the compilers are</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 4, 2017 3:15 UTC (Tue)
                               by <b>Aaron1011</b> (guest, #115128)
                              [<a href="/Articles/727058/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; If there is a way to crash/corrupt your machine from a sequence of instructions, attackers will use asm() to insert those specific instructions</font><br>
<p>
Stack Clash isn't a vulnerability in the kernel - it's a vulnerability that allows an attacker to gain control over a process that they wouldn't normally be able to (e.g. a guid/suid'd program like 'sudo'). The kernel change simply makes it less likely for this kind of vulnerability to be exploited (though stack probing is needed to truly fix the issue).<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/727058/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2017, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
