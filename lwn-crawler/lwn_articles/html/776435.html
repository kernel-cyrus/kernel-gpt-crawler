        <!DOCTYPE html>
        <html lang="en">
        <head><title>Approaching the kernel year-2038 end game [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/776435/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/776410/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/776435/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>Approaching the kernel year-2038 end game</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Please consider subscribing to LWN</b>
<p>
Subscriptions are the lifeblood of LWN.net.  If you appreciate this
content and would like to see more of it, your subscription will
help to ensure that LWN continues to thrive.  Please visit
<a href="/Promo/nst-nag1/subscribe">this page</a> to join up and keep LWN on
the net.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>January 11, 2019</br>
           </div>
In January 2038, the 32-bit <tt>time_t</tt> value used on many Unix-like
systems will run out of bits and be unable to represent the current time.
This may seem like a distant problem, but, as Tom Scott recently <a
href="https://twitter.com/tomscott/status/1083023988211757057">observed</a>,
the year-2038 apocalypse is now closer to the present than the year-2000
problem.  The fact that systems being deployed now will still be operating
in 2038 adds urgency to the issue as well.  
The good news is that work has been underway for years to prepare
Linux for this date, so there should be no need to call developers out of
retirement in 2037 in a last-minute panic.  Some of the final steps in this
transition for the core kernel have been posted, and seem likely to be
merged for 5.1.
<p>
There have been numerous phases to this work, which has been carried out
primarily by Arnd Bergmann and Deepa Dinamani.  Timekeeping within the
kernel has been reworked to use 64-bit values throughout, even on 32-bit
systems, for example.  A lot of work was required to get there, but that
was, in some sense, the easy part; since the changes were all internal to
the kernel, the developers involved were free to change interfaces when
needed.  Life becomes more difficult when it comes to the system-call
interface, since that cannot be changed at whim without breaking user-space
applications.
<p>
The approach that has been taken here, for many of the relevant system
calls, is to recognize that most systems already have a 64-bit solution for
32-bit applications.  Most 64-bit kernels are able to run 32-bit processes;
to do so, they provide a set of compatibility (or "compat") system calls to
perform impedance matching.  Typically, these compat calls simply reformat
32-bit types into their 64-bit equivalent, then pass the result to the
native 64-bit implementations.  In other words, the compat calls do exactly
what is needed to connect a user space process using 32-bit times to a
kernel that uses 64-bit times throughout.
<p>
Much of the work that has been done to this point, thus, has been promoting
these compat system calls to become the native 32-bit system calls.  User
space sees no changes, but the kernel is able to leave 32-bit times behind
entirely.  To that end, one of the key changes in <a
href="/ml/linux-kernel/20190110172216.313063-1-arnd@arndb.de/">this patch
set</a> posted by Bergmann is to take the compat calls and define them as
proper system calls for 32-bit systems.  In the process, these calls are
renamed; <tt>futex()</tt> becomes <tt>futex_time32()</tt>, for example.
Then, 32-bit architectures are <a
href="/ml/linux-kernel/20190110172216.313063-9-arnd@arndb.de/">switched
over</a> to use the new <tt>_time32()</tt> calls.
<p>
The only remaining problem, of course, is that user space is still using
32-bit times, so things will still explode on schedule in 2038.  Fixing
that problem is not something that the kernel can do on its own, but it can
provide the infrastructure to make the transition possible.  In particular,
for all of the <tt>_time32()</tt> calls described above, the patch set also
<a href="/ml/linux-kernel/20190110172216.313063-12-arnd@arndb.de/">exposes
the 64-bit versions</a> with <tt>_time64()</tt> suffixes.  So, once this
patch is applied, both the (broken)
32-bit and (fixed) 64-bit interfaces are available in 32-bit systems.
<p>
At this point, the ball moves into the court of the C library and
distribution developers.  A new C library release can define the
system-call interfaces with 64-bit time values, and implement those
interfaces with calls to the <tt>_time64()</tt> versions.  Older binaries,
instead, will continue to use the 32-bit versions.  For many applications,
all that will be needed at this point is a rebuild and they will be
prepared to survive the 2038 transition.  Others, of course, will require
more work.  Distributors have the option of rebuilding everything they ship
for 64-bit time, then disabling 32-bit times entirely by turning off the
<tt>COMPAT_32BIT_TIME</tt> configuration variable.  Most distributors,
though, are likely to support both modes for some time yet.
<p>
For the curious, the system calls affected are:

<tt>adjtimex()</tt>,
<tt>clock_adjtime()</tt>,
<tt>clock_getres()</tt>,
<tt>clock_gettime()</tt>,
<tt>clock_nanosleep()</tt>,

<tt>clock_settime()</tt>,
<tt>futex()</tt>,
<tt>io_getevents()</tt>,
<tt>io_pgetevents()</tt>,
<tt>mq_timedsend()</tt>,

<tt>mq_timedreceive()</tt>,
<tt>nanosleep()</tt>,
<tt>ppoll()</tt>,
<tt>pselect6()</tt>,
<tt>recvmmsg()</tt>,

<tt>rt_sigtimedwait()</tt>,
<tt>sched_rr_get_interval()</tt>,
<tt>semtimedop()</tt>,
<tt>timer_gettime()</tt>,
<tt>timer_settime()</tt>,

<tt>timerfd_gettime()</tt>,
<tt>timerfd_settime()</tt>, and
<tt>utimensat()</tt>.  <a
href="https://sourceware.org/glibc/wiki/Y2038ProofnessDesign">The plan for
the GNU C Library transition</a> has been posted in great detail as well.  
<p>
These changes fix the core kernel system-call interfaces, but that is not
the end of the story.  There are many other places in the kernel's
user-space API where time values appear, and many of them need to be fixed
as well.  Those are slowly being addressed.  Consider, for example,
the <tt>SO_TIMESTAMP</tt> socket option (described in <a
href="http://man7.org/linux/man-pages/man7/socket.7.html">this man
page</a>); it enables the reception of control messages with network
timestamp values.  Those values are specified using <tt>struct
timeval</tt>, which is not year-2038 safe.
<p>
<a
href="/ml/linux-kernel/20190108032657.8331-1-deepa.kernel@gmail.com/">This
patch set</a> from Dinamani addresses that problem by adding a new set of
options that are year-2038 safe.  An application can request
<tt>SO_TIMESTAMP_NEW</tt> to get a new control-message format with 64-bit
times; the <tt>SO_TIMESTAMPNS</tt> and <tt>SO_TIMESTAMPING</tt> options
have seen a similar treatment.  Socket timeout values also have a year-2038
problem; <a
href="/ml/linux-kernel/20190108052255.10699-1-deepa.kernel@gmail.com/">this
patch series</a> adds <tt>SO_RCVTIMEO_NEW</tt> and
<tt>SO_SNDTIMEO_NEW</tt> to address it.  Once again, libraries and
(possibly) applications will need to be changed to be able to make use of
these new options.
<p>
Once this work gets in, the kernel community, at least, can begin to think
that there is some light at the end of the tunnel.  Problems will remain,
mostly in filesystem timestamps and time values that are passed to
<tt>ioctl()</tt> calls, but the work as a whole can be seen as entering the
clean-up phase.  For library developers and distributors, though, the real
work is just beginning.  The good news is that they still have some time to
get their piece of the work done so that systems deployed in the near
future will be ready for the not-so-near (but approaching rapidly) 2038
deadline.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Year_2038_problem">Year 2038 problem</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/776435/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor776549"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2018 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 11, 2019 18:26 UTC (Fri)
                               by <b>gulsef073</b> (guest, #123117)
                              [<a href="/Articles/776549/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Perhaps the title should have read 'year-2038'?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/776549/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor776550"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-201^H38 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 11, 2019 18:28 UTC (Fri)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/776550/">Link</a>] 
      </p>
      
      </div>
      </summary>
      That would have made sense, wouldn't it?  It's amazing what can sneak through review...
      
          <div class="CommentReplyButton">
            <form action="/Articles/776550/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor776558"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 11, 2019 20:50 UTC (Fri)
                               by <b>Cyberax</b> (<b>&#x272D; supporter &#x272D;</b>, #52523)
                              [<a href="/Articles/776558/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; The good news is that work has been underway for years to prepare Linux for this date, so there should be no need to call developers out of retirement in 2037 in a last-minute panic.</font><br>
Why??? I hoped for an additional income stream around 2035!<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/776558/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor776580"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 12, 2019 13:17 UTC (Sat)
                               by <b>madscientist</b> (subscriber, #16861)
                              [<a href="/Articles/776580/">Link</a>] (22 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; can request SO_TIMESTAMP_NEW  ... SO_RCVTIMEOU_NEW and SO_SNDTIMEO_NEW ...</font><br>
<p>
I really, REALLY hate it when people add "new" to the end of symbols.  It's short-sighted, not to mention uninformative.<br>
<p>
Why not choose something clarifying instead, like SO_TIMESTAMP_64?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/776580/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor776582"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 12, 2019 13:28 UTC (Sat)
                               by <b>dskoll</b> (subscriber, #1630)
                              [<a href="/Articles/776582/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Yeah, that should be fixed before it's frozen forever as a warty API that we're stuck with.
      
          <div class="CommentReplyButton">
            <form action="/Articles/776582/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor776597"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 13, 2019 11:28 UTC (Sun)
                               by <b>erwbgy</b> (subscriber, #4104)
                              [<a href="/Articles/776597/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Agreed! I was just about to post that. They certainly won't be new in 2038.
      
          <div class="CommentReplyButton">
            <form action="/Articles/776597/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor776598"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 13, 2019 11:37 UTC (Sun)
                               by <b>warp</b> (guest, #14659)
                              [<a href="/Articles/776598/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Quite.<br>
<p>
_NEW is really horrible, as are things like 'next generation' especially when three years later you need to do something even newer or as a further generation.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/776598/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor776599"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">New</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 13, 2019 12:43 UTC (Sun)
                               by <b>tialaramex</b> (subscriber, #21167)
                              [<a href="/Articles/776599/">Link</a>] (14 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Birmingham's New Street is recorded at least as far back as the 13th Century. At some point presumably not very long before that it genuinely was a new street. In the 19th century expanding railway traffic caused the train companies to construct a major station next to it, at the time with a huge glass roof. Today "Birmingham New Street" station isn't even on New Street per se, the station and adjunct shopping centre having been rebuilt and sprawled over a larger area - but from pretty much anywhere in the UK if you say "New Street" you will be understood to mean that railway station as distinct from other streets that are new just as if you say "Waterloo" you will be understood to mean the railway station in London once named "Waterloo Bridge Station" and not the place in Belgium.<br>
<p>
It would be better to have named it SO_TIMESTAMP_64, but ultimately symbols aren't themselves meanings, they're just symbols, and a few examples like this help to make that abundantly clear.<br>
<p>
However, good news, if somebody gives something a name you don't like, you can just attach a different name (doing this to people is rude, but it will work). If yours is much more popular soon nobody will remember the "proper name" at all, and it will be regarded as a mistake if used. In principle as well as a bridge named after the battle of Waterloo, and one still named after the original city itself ("London Bridge") London also has one named for William Pitt (Pitt the Younger). But despite signs nobody called it "William Pitt Bridge", they called it "Blackfriars Bridge", soon the maps followed suit and today only historians or bridge nerds will have any idea where William Pitt Bridge even is. Start campaigning for SO_TIMESTAMP_64 today!<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/776599/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor776635"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">New</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 14, 2019 10:27 UTC (Mon)
                               by <b>Guhvanoh</b> (subscriber, #4449)
                              [<a href="/Articles/776635/">Link</a>] (7 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
And while you're on the subject of railway stations shouldn't London Bridge be known as London London Bridge just like London Waterloo, London Victoria, London Cannon Street etc. ?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/776635/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor776690"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">New</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 14, 2019 18:40 UTC (Mon)
                               by <b>mpr22</b> (subscriber, #60784)
                              [<a href="/Articles/776690/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Apart from Victoria (which needs to be disambiguated from the ones in Manchester and Southend) and Cannon Street (which needs to be disambiguated from the one in Hull), hardly anyone outside the travel industry or London local government bothers with the 'London' bit when referring to the London terminals that are not London Bridge :)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/776690/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor776693"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">New</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 14, 2019 20:00 UTC (Mon)
                               by <b>brother_rat</b> (subscriber, #1895)
                              [<a href="/Articles/776693/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
As we're already way off topic... there's also 'Gatwick' which is GTW by train and LGW by plane.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/776693/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor776702"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">New</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 14, 2019 20:49 UTC (Mon)
                               by <b>BlueLightning</b> (subscriber, #38978)
                              [<a href="/Articles/776702/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I think one reason the rail companies use the "London" prefix (or at least did, when I lived in London a few years ago) is so that when you have a "Not via London" rail ticket it's more obvious that you're not allowed to pass through those stations.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/776702/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor777433"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">New</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 24, 2019 2:08 UTC (Thu)
                               by <b>Wol</b> (subscriber, #4433)
                              [<a href="/Articles/777433/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
That was back in the days when the Overground came into the London termini, and you had to use the Underground to traverse Central London. Now with travel cards and zones and Thameslink, and the soon-to-open Crossrail, I don't think you get "not via London" any more.<br>
<p>
Cheers,<br>
Wol<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/777433/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor777491"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">New</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 24, 2019 18:51 UTC (Thu)
                               by <b>mpr22</b> (subscriber, #60784)
                              [<a href="/Articles/777491/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; I don't think you get "not via London" any more.</font><br>
<p>
To take an example relevant to myself, journeys between Northampton and the South Coast are still about 20-25% cheaper when made with a ticket that requires one to travel via the West London Line through Kensington Olympia rather than permitting interchange in central London.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/777491/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor777493"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">New</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 24, 2019 19:31 UTC (Thu)
                               by <b>TomH</b> (subscriber, #56149)
                              [<a href="/Articles/777493/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Sure, but as <a href="http://www.brfares.com/#!fares?orig=NMP&amp;dest=BTN">http://www.brfares.com/#!fares?orig=NMP&amp;dest=BTN</a> will show you that is because there are tickets routed "ANY PERMITTED" and cheaper tickets routed "KEN OLYMPIA" rather than having some with a "NOT LONDON" restriction.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/777493/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor777494"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">New</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 24, 2019 19:36 UTC (Thu)
                               by <b>TomH</b> (subscriber, #56149)
                              [<a href="/Articles/777494/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
That said you can get NOT VIA LONDON if you look at Bristol to York for example: <a href="http://www.brfares.com/#!fares?orig=BPW&amp;dest=YRK">http://www.brfares.com/#!fares?orig=BPW&amp;dest=YRK</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/777494/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor777029"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">New</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 17, 2019 18:36 UTC (Thu)
                               by <b>thyrsus</b> (guest, #21004)
                              [<a href="/Articles/777029/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I've always enjoyed this: "Ironically, the New River is considered by some geologists to be one of the oldest rivers in the world.[11]" <br>
<p>
<a href="https://en.wikipedia.org/wiki/New_River_%28Kanawha_River_tributary%29">https://en.wikipedia.org/wiki/New_River_%28Kanawha_River_...</a><br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/777029/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor777086"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">New &amp; Old</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 18, 2019 9:41 UTC (Fri)
                               by <b>rschroev</b> (subscriber, #4164)
                              [<a href="/Articles/777086/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Like how the Pont Neuf (New Bridge) in Paris is actually the oldest bridge in the city.<br>
<p>
<a href="https://en.wikipedia.org/wiki/Pont_Neuf">https://en.wikipedia.org/wiki/Pont_Neuf</a><br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/777086/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor777105"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">New &amp; Old</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 18, 2019 15:34 UTC (Fri)
                               by <b>tao</b> (subscriber, #17563)
                              [<a href="/Articles/777105/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
At least New York is a lot more recent than York, and New Orleans is a lot more recent than Orléans.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/777105/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor946991"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">New &amp; Old</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 7, 2023 17:59 UTC (Sat)
                               by <b>ceplm</b> (subscriber, #41334)
                              [<a href="/Articles/946991/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
You mean like <a href="https://en.wikipedia.org/wiki/Old_New_Synagogue">https://en.wikipedia.org/wiki/Old_New_Synagogue</a> in Prague, which is the oldest active synagogue in Europe?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/946991/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor778537"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">New</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 5, 2019 19:12 UTC (Tue)
                               by <b>eythian</b> (subscriber, #86862)
                              [<a href="/Articles/778537/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Amsterdam has solved this with Nieuwe Nieuwstraat.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/778537/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor780934"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">New</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 28, 2019 14:26 UTC (Thu)
                               by <b>remi.chateauneu</b> (subscriber, #51826)
                              [<a href="/Articles/780934/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <a rel="nofollow" href="https://en.wikipedia.org/wiki/Cartagena,_Spain">Cartagena in Spain</a>:

"<i>Possessing one of the best harbors in the Western Mediterranean, it was re-founded by the Carthaginian general Hasdrubal in 228 BC as Qart Hadasht ("New City"), a name identical to Carthage, for the purpose of serving as a stepping-off point for the conquest of Spain. The Roman general Scipio Africanus conquered it in 209 BC and renamed it as Carthago Nova (literally "New New City") to distinguish it from the mother city.</i>"



      
          <div class="CommentReplyButton">
            <form action="/Articles/780934/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor776696"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 14, 2019 20:20 UTC (Mon)
                               by <b>k8to</b> (guest, #15413)
                              [<a href="/Articles/776696/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
"new" is pretty bad in code in general, unless maybe you're talking about timestamp variables where you know one is more recent than the other.  I've dealt with codebases where the "NewProtocol" classes were three versions ago.  Since they didn't learn, NG was newer than new, and then "Turbo".  <br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/776696/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor777033"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 17, 2019 19:11 UTC (Thu)
                               by <b>BenHutchings</b> (subscriber, #37955)
                              [<a href="/Articles/777033/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The Linux network receive queue polling API was introduced as "NAPI" (new API) in 2002 and is still called that.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/777033/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor776603"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 14, 2019 22:00 UTC (Mon)
                               by <b>arnd</b> (subscriber, #8866)
                              [<a href="/Articles/776603/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I don't think it's too important here, to clarify: no user space code should actually use the _NEW symbols, but they should just use the existing names that contain no such suffix, e.g. SO_TIMESTAMP, SO_TIMESTAMPNS and SO_TIMESTAMPING. The fact that we now have nine identifiers instead of three makes it practically impossible to make sense of it anyway, but it can't really be avoided.<br>
<p>
The downside of the _64 suffix would be that it's more confusing for 64-bit architectures, on which both _OLD and _NEW refer to 64-bit timestamps. If you have any other suggestions for naming this, please reply on the mailing list with a patch.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/776603/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor776718"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 14, 2019 23:56 UTC (Mon)
                               by <b>rgmoore</b> (<b>&#x272D; supporter &#x272D;</b>, #75)
                              [<a href="/Articles/776718/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <p>And it's not as if this is a symbol that's likely to undergo a lot of change.  Naming something "_NEW" is problematic when it's something that undergoes a lot of churn, but that's not the case with these time symbols.  The old versions are quite old, and there's every expectation the "_NEW" version will be sufficient through 2038 and beyond.  Complaining about the naming seems like bikeshedding.
      
          <div class="CommentReplyButton">
            <form action="/Articles/776718/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor776626"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 14, 2019 8:10 UTC (Mon)
                               by <b>gdt</b> (subscriber, #6284)
                              [<a href="/Articles/776626/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
What is the behaviour of the current 32-bit APIs after 2038? There seems to be a range of possibilities: time_t values stop incrementing (maybe at some flag value); they two's-complement wrap into years prior to 1970; they wrap to 0? Is the behaviour consistent across system calls and filesystems.<br>
<p>
Just removing the 32-bit time_t API isn't a full answer. Even if I'm running a recent 2038-prepared kernel I might still attach an archival volume in the older pre-2038 format.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/776626/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor776630"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 14, 2019 9:54 UTC (Mon)
                               by <b>arnd</b> (subscriber, #8866)
                              [<a href="/Articles/776630/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I expect that the old APIs will remain available in kernels until shortly before 2038, but I'd like to make it a compile-time option for those that intentionally want to have kernels that leave them out earlier, in particular on architectures that never had them (riscv32 etc).<br>
<p>
After 2038, I would expect to just remove that entirely, as there will be very little value in running 20 year old user space that probably won't work anyway, as opposed to running it in a virtual machine with an older kernel and a backdated RTC.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/776630/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor777170"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 20, 2019 1:25 UTC (Sun)
                               by <b>giraffedata</b> (guest, #1954)
                              [<a href="/Articles/777170/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      I think you mistook the question.  It isn't what will happen to the 32 bit time APIs in versions of the kernel developed after 2038; it's how will the 32 bit APIs in today's kernel function when that kernel runs after 2038?
<p>
It's a good question; I'd like to understand that too.  I'm pretty sure I'm going to have some computers running then on which running a recent kernel won't be the best option.
<p>
OP also posed another question that perhaps you'd like to address: what about stored 32 bit time stamps?  Many filesystems contain 32 bit timestamps.  What will happen after 2038 if one tries to use an up-to-date kernel to read or write such a filesystem?  Will we have to copy all the data to a newer type of filesystem to maintain access to all the data?

      
          <div class="CommentReplyButton">
            <form action="/Articles/777170/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor777223"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 21, 2019 13:47 UTC (Mon)
                               by <b>arnd</b> (subscriber, #8866)
                              [<a href="/Articles/777223/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Generally speaking, I'd consider it a bug to use the old ABIs beyond 2038. Running a Linux kernel older than maybe 5.2 is certainly going to break in unexpected ways in 2038 (unless you are backdating the RTC and don't use network access etc).<br>
<p>
Running a newer kernel that supports both the time32 and time64 interfaces gives us compatibility until 2038, but that doesn't mean you should plan to actually use the time32 on systems that might have to run after 2038, since that won't be tested well, and generally means undefined behavior (signed integer overflow in C). In practice this means that any existing 32-bit user space should be rebuilt against a kernel and libc with 64-bit time_t in order to have a chance of it working in 20 years.<br>
<p>
In case of stored time stamps, you can always access file systems as read-only and get your data. There is already a problem with setting the timestamps of files beyond the valid range, which is different depending on the particular file system. On patch set that is planned will limit timestamps to the minimum and maximum supported by the file system, and this will likely be true both for calling utimes() and for timestamp updates to the current time that the kernel does itself.<br>
There may be an option to force read-only mounts of file system images that suffer from an overflow in the near future (for some value of "near", which could be as far as "within the next 30 years"), to ensure that you don't accidentally create an embedded system that stops working at a fixed time.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/777223/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor777434"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 24, 2019 2:14 UTC (Thu)
                               by <b>Wol</b> (subscriber, #4433)
                              [<a href="/Articles/777434/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; In practice this means that any existing 32-bit user space should be rebuilt against a kernel and libc with 64-bit time_t in order to have a chance of it working in 20 years.</font><br>
<p>
And if you want to run programs for which you don't have the source???<br>
<p>
Cheers,<br>
Wol<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/777434/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor777447"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 24, 2019 10:07 UTC (Thu)
                               by <b>arnd</b> (subscriber, #8866)
                              [<a href="/Articles/777447/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
You may be lucky that they don't use time_t in ways that cause an undefined integer overflow in 2038. However, since you don't have the source, there is no way of finding out whether the programs are safe or not, so the assumption would be that they are not.<br>
<p>
The plans for glibc are to keep compatibility support for the old symbols, so the application will still work correctly before any overflows happen, so it's likely that you are safe until some time in the 2030s when it has set the first timers long enough into the future that they overflow (e.g. key expiration dates are often months or years in the future). Again, to be sure you'd have to inspect the source code or ask someone who can do it, but that would not be that different from asking them for a rebuild against a C library from the 2020s.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/777447/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor777597"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 26, 2019 22:02 UTC (Sat)
                               by <b>kleptog</b> (subscriber, #1183)
                              [<a href="/Articles/777597/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
For filesystems you could simply declare the value on disk to be unsigned, or use a different epoch and then translate in the kernel. Sucks for the people who want to store timestamps from before 1970 though.<br>
<p>
Then you're just left with user space programs. You could do funky things like expanding the range by reducing resolution, but changing the assumption that adding 3600 moves you an hour forward will probably break more things than wrapping.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/777597/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
<a name="CommAnchor776634"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 14, 2019 10:25 UTC (Mon)
                               by <b>zoobab</b> (guest, #9945)
                              [<a href="/Articles/776634/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Most 32 bits chips that will be still alive in 18 years time are probably those ARM m0-m3, which are present in many devices now. And they do not run Linux, not even an OS like FreeRTOS in most cases, any patches for FreeRTOS and others?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/776634/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor776650"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 14, 2019 16:23 UTC (Mon)
                               by <b>ay</b> (subscriber, #79347)
                              [<a href="/Articles/776650/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
FreeRTOS is more of a threading library than an operating system, it doesn't provide calendering or time keeping functionality beyond simple timers. The issue on those is likely libc (usually newlib and newlib-nano) plus the MCU's hw rtc and calendar block and what it's capabale of (most do handle 2038 just fine) plus any vendor sdk routines around that. That said most of those systems will have a dead rtc battery by 2038 or be disposed of for some other reason so it's not likely to be a huge deal. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/776650/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor776729"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Unsigned!</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 15, 2019 4:06 UTC (Tue)
                               by <b>ncm</b> (guest, #165)
                              [<a href="/Articles/776729/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Really, the simplest thing for everyone to do who is stuck with a 32-bit runtime and 32-bit database/packet date/time fields is to just begin interpreting the time as a 32-bit unsigned value. That extends its usability right through 2106.  Anybody still using a 32-bit unix in 2106 will have much bigger problems than the date rolling over. (Don't bring up birthdates before 1970. Not interested.)<br>
<p>
The pcap format used for tcpdump took that route.  Come 2106, we will be able to say that any captured packet of interest dated apparently before 2038 (i.e., positive) is really post-2106, and everything is fine again for another 78 years.  Much of the stock market, with its nanosecond-scale clocks, has settled there too, with split 32-bit-second, 32-bit-nanosecond timestamps.  Nobody there worries about 2038, or 2106.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/776729/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor811200"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 31, 2020 15:13 UTC (Fri)
                               by <b>S8iDH5QTk</b> (guest, #136936)
                              [<a href="/Articles/811200/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Is it sure that we have to go 64-bit wide? 64 bits in every timestamp? Repeating the redundant high 32 bits, which will not change for 136 years?<br>
I would want 32-bit timestamps.<br>
<p>
In 2038, "after the last second", we just need a change in the epoch. Let's shift the epoch from 1970 to (1970+136).<br>
<p>
Given that we know that now (then) there is (will be)  Tue Jan 19 03:14:08 2038, and the timestamp shows me that we are 68 years before the epoch, it follows that the (new) epoch is (should be) now (then) + 68 years.<br>
<p>
It is similar to the thing that during any year (let it 2019 for example), a short date like "Fri Jan 31 15:38:17" is sufficient (for most purposes). After December 31, nobody thinks that suddenly has been dropped back in time. Just the next year has started. Now is 2020, and subsequent short dates should be interpreted as ".. in 2020".<br>
<p>
And in 2174 (2038+136), again an epoch-shift is needed. One in every 136 year.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/811200/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor811203"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 31, 2020 16:05 UTC (Fri)
                               by <b>excors</b> (subscriber, #95769)
                              [<a href="/Articles/811203/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
That might be okay for representing the current time, because device lifetimes are short enough that you can hardcode the current epoch in them. E.g. radio clocks in the UK use a signal that encodes the year as 2 digits. If a device manufactured in 2020 sees the year "50" transmitted, it knows that must mean 2050 not 1950. It would misinterpret the signal in 2150 but there's no chance the device will survive that long anyway.<br>
<p>
But that doesn't work when referring to distant past/future times, which the kernel sometimes needs to do. Your computer in 2038 might have files that were genuinely last modified in 1970, and you don't want "ls" to start saying they were modified in 2106. 64-bit timestamps are pretty cheap and they completely solve that problem without the need for heuristics.<br>
<p>
It's like how "Jan 31" might be good enough when arranging a holiday with someone, because you both interpret it relative to the same 'now'; but if you print out your holiday photos and put them in an album, you probably want to write "Jan 31 2020" on them, else when you look back in future years you won't have the context to interpret them correctly.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/811203/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor811217"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 31, 2020 16:46 UTC (Fri)
                               by <b>nybble41</b> (subscriber, #55106)
                              [<a href="/Articles/811217/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Is it sure that we have to go 64-bit wide? 64 bits in every timestamp?</font><br>
<p>
Yes. We need to be able to represent not only the current time but also all the timestamps recorded up to this point. For example, it should be possible to accurately represent the modification time of a file last modified in 1970 alongside a file modified in 2040, which cannot be accomplished simply by shifting the epoch. Ergo, unless we're willing to sacrifice resolution, we need more than 32 bits. And sizes larger than 32 bits but less than 64 bits are exceedingly awkward to deal with.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/811217/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor811283"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Approaching the kernel year-2038 end game</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Feb 1, 2020 22:09 UTC (Sat)
                               by <b>flussence</b> (guest, #85566)
                              [<a href="/Articles/811283/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Your proposal to change every piece of software to use a different 32-bit time system will not work, for the same reason every proposal to "simply" extend 32-bit IPv4 addresses has failed.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/811283/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2019, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
