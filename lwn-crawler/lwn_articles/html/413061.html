        <!DOCTYPE html>
        <html lang="en">
        <head><title>KS2010: Development process [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/413061/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/413061/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>KS2010: Development process</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>This article brought to you by LWN subscribers</b>
<p>
Subscribers to LWN.net made this article &mdash; and everything that
       surrounds it &mdash; possible.  If you appreciate our content, please
       <a href="/Promo/nst-nag3/subscribe">buy a subscription</a> and make the next
       set of articles possible.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>November 3, 2010</br>
           <hr>
<a href="/Articles/KernelSummit2010/">2010 Kernel Summit</a>
</div>
As the 2010 Kernel Summit headed toward its end, Linus Torvalds and Andrew
Morton were given a session slot to talk about how the development process
is working for them.  The bottom line: things are going well, but there are
a number of things which can be improved.  Release numbering is not one of
them, though.
<p>
Linus said that, on the whole, he's very happy with how things are
working.  He was very happy last year, and things have gotten better
since.  He does not have any major concerns.  That said, he does have some
pet peeves.
<p>
At the top of his list was pull requests for trees containing commits made
within the last hour; those, he said, make him want to kill somebody.
There is no excuse for such requests, especially after -rc3 or so - though
they may be understandable during the merge window (but he still doesn't
like them).  He also advised against faking commit dates to get around this
issue - something which has apparently "accidentally" happened in the past.
A dead 
giveaway, he says, is when he does a series of pulls and one of the later
ones turns out to be a fast-forward merge.
<p>
There were questions about emergency fixes or patches which have been
extensively tested in other settings.  But Linus's point is that he wants
developers to have tested the exact tree that they are asking him to pull.
<p>
Linus would also like to see more Reported-by, Reviewed-by, and Acked-by
tags in patches.  And, especially, he would like to see those tags from
outside people.  A bunch of Reviewed-by tags from people in the same
company do not have a lot of value; patches really need outside review.

On the other hand, he would like fewer embargoed reports of security bugs
the day before a major release.  That, it turns out, is what delayed the
2.6.36 release by a week.  He won't release a kernel with a known root
hole.  If you plan to ask for an embargo, he would rather just not be told.
<p>
Andrew, instead, said that he has never had any pet peeves - but he did
have a few requests.  He does a lot less work than he used to; he handles
about 1/3 of the patch volume that once went through his tree.  But he does
still maintain between 100 and 150 subsystem trees.  He would like some
help, not with all those trees, but with major decisions like the merging
of control groups or checkpoint/restart.  Merging control groups set the
kernel on a multi-year course; he would really like  not to have to make
those decisions on his own.  So he asked maintainers to get out of their
subsystem occasionally and look at major patches to other areas of the
kernel.
<p>
He seemed a little hurt by some recent requests for a separate tree for
memory management patches.  Those calls were driven by some bugs found in
the <tt>kmap_atomic()</tt> rewrite; the source problem is that code in -mm
doesn't appear in linux-next, so it does not get a lot of testing.  He
understands that his patch management could use improvement; he'll be
getting -mm into linux-next shortly.  Andrew said that he would like to keep
working on the memory management subsystem, an announcement which was
received with relief by a number of the people present.
<p>
The problem with memory management, Andrew said, is that it has become
incredibly complex; at this point, only Hugh Dickins understands the whole
thing.  It can be very hard to figure out how things work.  What is more
worrisome is that this complexity is turning up throughout the kernel.  In
response, he has been pushing harder and harder to get people to comment
their code.  Nobody ever pushes back; we all agree that it's needed.  But,
Andrew said, "we still suck at it."  We're going to be working on the
kernel for a 
very long time; code we write now should be seen as a sort of communication
to some stranger five years from now.  So we need to put more effort into
properly documenting our work.
<p>
Linus jumped in with one other pet peeve: he hates having to be the person to say
"no."  He finds it a lot easier to just grumble and say "OK, just this time,"
but it makes him unhappy.  According to Linus, most subsystem maintainers are
too eager to take new features; he would like them to be more selective.
There is one easy way to see which trees make him unhappy: look for those
which are pulled late in the merge window.  He has a tendency to delay
making decisions on merges which look ugly, so unpleasant trees pile up
until the end. 
<p>
Greg Kroah-Hartman jumped in with what was, perhaps, the most pressing
development process question: is it time to change the version numbering
scheme?  Some people are getting tired of the long numbers, and the term
"2.6 kernel" does not really mean anything anymore.  Alternatives could be
going to 3.0 for the next release or using a year-based scheme (so the next
kernel would be 2011.0, say).  The discussion went on for a while; it
became clear that not everybody sees the need for a change.  Additionally,
there appears to be a desire to see the minor number reach 42.  Linus ran a
straw poll which was won (42-33) by the "no change" contingent.  So the version
numbering scheme will not change for now; Greg promised to try again next
year. 
<p>
Arjan van de Ven asked: what is our biggest priority for the next six
months?  Linus answered quickly: he wants to see the VFS scalability work
merged in the very near future or he will be very unhappy.  Al Viro said
that he is not happy with all of that work, especially the dentry cache
scalability changes.  Linus allowed that "the code is interesting," but
said there do not appear to be any real alternatives.
<p>
Ted Ts'o said that the memory management and filesystem people need to get
together and figure out how the writeback problem will be solved.  Andrew
seconded that, saying that he has seen some "drive-by patches," but that
there does not seem to be a real plan.  Christoph Hellwig described that
statement as being unfair: the relevant people, he said, have been talking
about the problem and working on it.  Ted asked if there was a plan, saying
that he certainly hadn't seen one.  Christoph responded that the developers
have an idea of where they want to go.
<p>
There was a brief discussion of the device tree patches.  Linus said that
he thought device trees were "always a bad idea," that it is far better to
simply discover the hardware present on a system.  The catch, of course, is
that not all hardware supports robust discovery; in that case, there is no
alternative to describing the hardware externally.  Device trees seem to be
the way to go for such situations.
<p>
<a href="/Articles/413095/">Next: Future summits</a>.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Development_model">Development model</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/413061/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor413154"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2010: Development process</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 3, 2010 23:22 UTC (Wed)
                               by <b>vomlehn</b> (guest, #45588)
                              [<a href="/Articles/413154/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Hearing that Linux doesn't like device trees leaves me concerned that he is less focused on the embedded world than I might like. Embedded developers can't afford to stick self-describing buses on all of our hardware and having a standard way to describe hardware is a big plus. Also, seems PCs use something rather like the device tree to pass information from the bootloader to the kernel; is there a conceptual difference to justify the dislike?<br>
<p>
It's true we have a lot of work to do on the device tree, but the need is strong.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/413154/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor413173"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2010: Development process</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 4, 2010 2:30 UTC (Thu)
                               by <b>neilbrown</b> (subscriber, #359)
                              [<a href="/Articles/413173/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
As I understood it, Linus doesn't like device trees primarily because discoverable buses are just soooo much better.  So in overall design decisions, discoverable buses should be considered the norm and device tree is the second cousin that is used when there is no alternative.<br>
<p>
There is no suggestion that we must not have device trees, just that they be kept clearly in their place, which is secondary to discoverable buses.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/413173/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor413228"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2010: Development process</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 4, 2010 12:36 UTC (Thu)
                               by <b>etienne</b> (guest, #25256)
                              [<a href="/Articles/413228/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
IMHO, most of the device tree use I have seen is to define addresses of subcompoments, and I still think that is a job for the linker - having a special extra file as linker command to contain all those addresses simplify the process.<br>
It should be possible to have late relocation for very few fields in the bootloader (at least kernel relocations is possible on ia32/amd64) if you really want a single kernel for different "fat" microcontrollers.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/413228/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor413182"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2010: Development process</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 4, 2010 4:20 UTC (Thu)
                               by <b>swetland</b> (guest, #63414)
                              [<a href="/Articles/413182/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I'm perplexed at the desire for device trees.<br>
<p>
The idea that you're going to have one kernel that will run on the next spin of the hardware with no changes at all is somewhat laughable in most "real" embedded projects. Things move around and not just simple things like gpio assignments that you can stick in a static structure.<br>
<p>
Oops, turns out that you need a level shifter on part of the I2C bus that must be turned on before you initialize the peripherals behind it.  Until you start sticking bytecode in your device trees, changes like this will require kernel/driver changes.<br>
<p>
Basically device trees make my life harder by putting board configuration in the bootloader or another partition somewhere where it can get out of sync with the kernel.<br>
<p>
A lot of people seem to want embedded to look like PCs with everything based on (expensive) enumerable busses and (clunky) BIOSes that set up things before booting.  This is incompatible with building cost-effective and power-use-competitive hardware in highly competive embedded/mobile spaces.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/413182/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor413214"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2010: Development process</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 4, 2010 11:00 UTC (Thu)
                               by <b>Klavs</b> (guest, #10563)
                              [<a href="/Articles/413214/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I'm a bit confused here. You seem to be against BOTH devicetrees and discoverable buses? and if so - what solution do you think is the best for embedded environment?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/413214/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor413221"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2010: Development process</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 4, 2010 12:01 UTC (Thu)
                               by <b>swetland</b> (guest, #63414)
                              [<a href="/Articles/413221/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I love nice enumerable busses -- I just almost never have the luxury of them existing on the embedded platforms I work with.  In their absence, I find the existing board/machine file mechanism Linux uses gets the job done and without having to depend on fragile links between data structures embedded in the bootloader or elsewhere and the kernel.<br>
<p>
I'd be happy to see improvements to make it easier to maintain board files and such -- they can get a little unwieldy -- but I'm not convinced that a device tree approach actually improves the situation.  <br>
<p>
I've never worked on a production device (typically shipping between hundreds of thousands and millions of units) where having to compile a new kernel to pick up device-specific hardware support is the major pain point.  Certainly I never have a canned, existing kernel that I'm going to just use with no modifications -- power tuning and debugging during stabilization guarantees that we're going to be spinning quite a few kernel builds until things are ready to ship.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/413221/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor413269"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KS2010: Development process</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 4, 2010 16:41 UTC (Thu)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/413269/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
nobody is expecting that device trees will eliminate the need for you to compile your own kernel for a production system.<br>
<p>
it's also not that you will take a kernel compiled for one device and change the devicetree file and load it on another device.<br>
<p>
what they will do is make it so that there aren't 70 different subarchitectures in ARM that all have to be tested individually and replace it with a much smaller number with devicetrees identifying the minor details like where a particular piece of hardware is addressed. As such it will make it easier for people to maintain the kernel and make sure that it will work.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/413269/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2010, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
