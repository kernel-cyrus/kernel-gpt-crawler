        <!DOCTYPE html>
        <html lang="en">
        <head><title>Merged for 2.6.24, part 2 [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/255327/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/254985/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/255327/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>Merged for 2.6.24, part 2</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Ready to give LWN a try?</b>
<p>
With a subscription to LWN, you can stay current with what is happening in the Linux and free-software community and take advantage of subscriber-only site features.  We are pleased to offer you <b><a href="https://lwn.net/Promo/nst-trial/claim">a free trial subscription</a></b>, no credit card required, so that you can see for yourself.  Please, join us!
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>October 24, 2007</br>
           </div>
The 2.6.24 merge window has now closed; more than 7000 changesets were
merged before 2.6.24-rc1 was released.
The bulk of the new features for 2.6.24 were <a
href="http://lwn.net/Articles/254559/">described last week</a>.  Here's a
summary of patches merged since then, starting with user-visible changes:
<p>
<ul>

<li> There are new drivers for Marvell Libertas 8385/6 wireless chips,
     Freescale 3.0Gbps SATA controllers, Fujitsu laptops (LCD brightness in
     particular), and TI AR7 watchdog devices.

<p>
<li> Another set of old Open Sound System drivers has been removed from the 
     kernel.
<p>
<li> The "uninitialized block groups" feature has been merged into the 
     ext4 filesystem.  UBG helps to speed filesystem checks by keeping
     track of which parts of a disk partition have never been used, and,
     thus, do not require checking.
<p>
<li> As was <a href="http://lwn.net/Articles/247243/">discussed back in
     August</a>, the binary <tt>sysctl()</tt> interface has been marked
     deprecated, and the code for many of the sysctl targets (much of which
     appears to not have worked for some time) has been removed.  There is
     a new checker which looks for problematic sysctl definitions;
     according to Eric Biederman, "<q>As best as I can determine all of
     the several hundred errors spewed on boot up now are
     legitimate.</q>" 
<p>
<li> The semantics of the <tt>CAP_SETPCAP</tt> capability have been
     changed.  In previous kernels, this capability gave a process the
     ability to bestow new capabilities upon another process; now, instead,
     it allows a process to set capabilities within its own "inherited"
     mask.
<p>
<li> Process CPU time accounting (via taskstats) has been augmented with
     information allowing CPU usage time to be scaled by CPU frequency.
<p>
<li> The Control Groups (formerly <a
     href="http://lwn.net/Articles/236038/">process containers</a>) patch
     set has been merged.  Control groups will allow the CFS group
     scheduling feature to be used; it will also be the control mechanism
     used for containers in general.
<p>

<li> Process ID namespaces have been added; this feature lets container
     implementations create a different view of the list of processes on
     the system for every container.
<p>
<li> The <a href="http://lwn.net/Articles/245671/">kernel markers</a> patch
     set has been merged.
<p>
<li> The CIFS filesystem now has access control list (ACL) support.
<p>
<li> The old, unmaintained Fibre Channel support code has been removed.

</ul>
<p>

Changes visible to kernel developers include:
<p>
<ul>

<li> The process of merging the i386 and x86_64 architectures continues,
     with many files having been merged by the time the window closed.
     This job is far from complete, though.  For the curious, <a
     href="/Articles/255681/">this message from Ingo Molnar</a> talks a bit
     about what is going on there.  "<q>The x86 architecture is the most
     common Linux architecture after all - and users care much more about
     having a working kernel than they care about cleanups and
     unifications....
     This cannot be realistically finished in v2.6.24, without upsetting
     the codebase.</q>"
<p>
<li> The paravirt_ops structure has been split into several smaller, more
     specialized operations vectors.  These include <tt>pv_init_ops</tt>
     (boot-time operations), <tt>pv_time_ops</tt> (for time-related
     operations), <tt>pv_cpu_ops</tt> (privileged instructions),
     <tt>pv_irq_ops</tt> (interrupt handling), <tt>pv_mmu_ops</tt> (page
     table management), and a few others.
<p>
<li> There are some new bit operations which have been added:
<p>
<pre>
    int test_and_set_bit_lock(unsigned long nr, unsigned long *addr);
    void clear_bit_unlock(unsigned long nr, unsigned long *addr);
    void __clear_bit_unlock(unsigned long nr, unsigned long *addr);
</pre>
<p>
     These operations are intended to be used in the creation of single-bit
     locks; they work without the need for any additional memory barriers.
<p>
<li> There is a new <tt>KERN_CONT</tt> priority level for
     <tt>printk()</tt>.  It is, in fact, empty; it is meant to serve as a
     marker for <tt>printk()</tt> calls which continue a previous (not
     terminated with a newline) printed line.  
<p>
<li> The watchdog device drivers have been moved to a new home at
     <tt>drivers/watchdog</tt>. 
<p>
<li> A notifier mechanism for console events has been added; this feature
     is aimed at accessibility tools (like Speakup) which need to know when
     something has changed on the console display.
<p>
<li> The filesystem export operations, used to make filesystems available
     over protocols like NFS, have been reworked.  Two new methods
     (<tt>fh_to_dentry()</tt> and <tt>fh_to_parent()</tt>) replace the old
     <tt>get_dentry()</tt> interface.  There is a new structure (<tt>struct
     fid</tt>) used to describe file handles.  This work is aimed at making
     the export interface easier to use and (eventually) supporting 64-bit
     inode numbers.
<p>
<li> The <a href="http://lwn.net/Articles/239238/">virtio</a> patches -
     providing an infrastructure for I/O into and out of virtualized guests
     - have been merged.

</ul>
<p>
Now the stabilization period begins.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-2.6.24">Releases/2.6.24</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/255327/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor255955"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merged for 2.6.24, part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2007 19:57 UTC (Thu)
                               by <b>landley</b> (guest, #6789)
                              [<a href="/Articles/255955/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
Which Fibre Channel stuff was removed?  I couldn't find "fibre" in the 
changelog and fc has a zillion hits...
</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/255955/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor255963"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Fibre channel</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2007 20:32 UTC (Thu)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/255963/">Link</a>] 
      </p>
      
      </div>
      </summary>
      That would be the fc4 code; see <a rel="nofollow" href="http://git.kernel.org/git/?p=linux/kernel/git/torvalds/linux-2.6.git;a=commit;h=1ecd3902c6e16c2445165b872c49e73770b72da7">this commit</a>.
      
          <div class="CommentReplyButton">
            <form action="/Articles/255963/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor255981"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merged for 2.6.24, part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2007 21:36 UTC (Thu)
                               by <b>yokem_55</b> (guest, #10498)
                              [<a href="/Articles/255981/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
So does the incomplete status of the x86 merge mean that while the new arch is there, it isn't
generally usable, and thus the old split arches will be used until 2.6.25?
</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/255981/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor255983"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">x86 status</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2007 21:42 UTC (Thu)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/255983/">Link</a>] 
      </p>
      
      </div>
      </summary>
      No, the incomplete status means that there are still a lot of files with (essentially) duplicated code in the x86 tree.  The old arches are completely gone at this point, and the new one works, but it will continue to go through a fair amount of change for a while.
      
          <div class="CommentReplyButton">
            <form action="/Articles/255983/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2007, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
