        <!DOCTYPE html>
        <html lang="en">
        <head><title>6.0 Merge window, part 2 [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/904032/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/904454/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/904032/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>6.0 Merge window, part 2</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Ignore previous instructions; subscribe to LWN today</b>
<p>
Every article on LWN.net is written by humans, for humans. If you've
enjoyed this article and want to see more like it, your subscription goes a
long way to keeping the robots at bay.  We are offering <a href="https://lwn.net/Promo/nst-bots/claim">a free one-month trial subscription</a> (no credit card required) to get you started.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>August 15, 2022</br>
           </div>
Linus Torvalds <a
href="/ml/linux-kernel/CAHk-=wgRFjPHV-Y_eKP9wQMLFDgG+dEUHiv5wC17OQHsG5z7BA@mail.gmail.com/">released
6.0-rc1</a> and closed the merge window on
August&nbsp;14, as expected; by then, 13,543 non-merge changesets
had found their way into the mainline repository.  Just over half of those
were pulled after <a href="/Articles/903487/">our first 6.0 merge-window
summary</a> was written.  The latter part of the merge window tends to be
more focused on fixes than new features, but there were still a number of
interesting changes added during this time.
<p>
The most significant changes pulled in the second half of the 6.0 merge
window include:
<p>

<h4>Architecture-specific</h4>
<p>
<ul class="spacylist">

<li> The OpenRISC and LoongArch architectures have both gained support for
     PCI buses. 
<li> The RISC-V architecture now has support for the "Zicbom" extension,
     which provides for the management of devices with non-cache-coherent
     DMA.

</ul>

<p>
<h4>Core kernel</h4>
<p>
<ul class="spacylist">

<li> The <a href="/Articles/857862/">runtime verification subsystem</a>
     has been merged.  This subsystem allows the creation of a model of
     various kernel states and the transitions between them; should the
     kernel fail to follow the model at some point, it can raise the alarm
     or even panic the system.  One example is the <a
     href="https://git.kernel.org/linus/10bde81c7486">WIP model</a> which
     ensures that wakeup events do not happen with preemption enabled.
<li> The <a href="/Articles/812707/">DAMON</a> mechanism has gained some
     new features that can be used to influence memory management from user
     space.  Most significant is the "LRU_SORT" module, which can reorder
     the least-recently-used lists to prioritize some pages over others.
     See <a href="https://git.kernel.org/linus/6acfcd0d7524">this
     documentation commit</a> for details.
<li> Support for the creation of new <a
     href="/Articles/894598/">CXL</a> memory regions has been added; <a
     href="https://git.kernel.org/linus/779dd20cfb56">this commit
     changelog</a> describes how the sysfs-based administrative interface
     works.
</ul>

<p>
<h4>Filesystems and block I/O</h4>
<p>
<ul class="spacylist">

<li> The kernel has gained support for NVMe in-band authentication.
<li> The ext4 filesystem supports two new <tt>ioctl()</tt> operations â€”
     <tt>EXT4_IOC_GETFSUUID</tt> and <tt>EXT4_IC_SETFSUUID</tt>, which can
     fetch or set the UUID stored in a filesystem superblock.
<li> The NFSv4 server will now limit itself to 1024 active clients for each
     1GB of memory in the system.  Attempts to exceed that number will
     return temporary failures and start the process of cleaning up old,
     idle clients.

</ul>

<p>
<h4>Hardware support</h4>
<p>
<ul class="spacylist">
<li> <b>Clock</b>:
     Microchip PolarFire realtime clocks,
     TI K3 realtime clocks, and
     Nuvoton NCT3018Y realtime clocks.
<li> <b>GPIO and pin control</b>:
     Intel Meteor Lake pin and GPIO controllers,
     Renesas RZ/V2M pin and GPIO controllers,
     Renesas R-Car V4H pin controllers,
     Qualcomm 8909 pin controllers,
     Allwinner D1 pin controllers, and
     Qualcomm SM6375 pin controllers.
<li> <b>Input</b>:
     Elan eKTH6915 i2c-hid touchscreens.
<li> <b>Miscellaneous</b>:
     Microchip SAMA7G5 OTP controllers,
     Microchip Polarfire SPI FPGA managers,
     Qualcomm SPMI round-robin analog-to-digital converters,
     Qualcomm SM6350 interconnects,
     Freescale i.MX8MQ interconnects,
     MediaTek PCIe and DisplayPort PHYs,
     Meson G12A MIPI analog DPHYs,
     Freescale i.MX8qm LVDS PHYs,
     Microsoft Surface  tablet-mode switches,
     Qualcomm SM8450 camera clock controllers,
     Qualcomm SM8350 graphics clock controllers,
     Apple audio DMA controllers,
     Renesas R-Car UFS controllers,
     Alibaba Elastic RDMA adapters,
     TI TPS380x reset controllers,
     I2C-connected TPM 2.0 trusted platform modules,
     Broadcom BCM63138 LED controllers, and
     Mellanox BlueField reset controllers.
<li> <b>Sound</b>:
     NVIDIA Tegra210 output processing engines,
     Intel Meteor Lake audio interfaces,
     Qualcomm WSA8830/WSA8835 class-D amplifiers,
     Texas Instruments TAS2780 mono audio amplifiers, and
     Mediatek MT8186 audio interfaces.
<li> <b>USB</b>:
     Aspeed USB2.0 device controllers,
     Microchip PolarFire USB controllers,
     Analogix ANX7411 type-C DRP port controllers, and
     STMicroelectronics STM32G0 type-C PD controllers.
<li> <b>Also</b>: the VME bus subsystem has been moved into
     the staging directory (for the second time) and will be removed
     entirely unless somebody      steps up to maintain it.
</ul>

<p>
<h4>Miscellaneous</h4>
<p>
<ul class="spacylist">

<li> The <tt>perf</tt> tool has gained new reports describing lock
     contention and time used by kernel work; <a
     href="https://git.kernel.org/linus/48a577dc1b09">this merge commit</a>
     describes both (and a lot of other <tt>perf</tt> enhancements as
     well).  Even more <tt>perf</tt> enhancements came in with <a
     href="https://git.kernel.org/linus/96f86ff08332">this merge</a>.

</ul>

<p>
<h4>Virtualization and containers</h4>
<p>
<ul class="spacylist">

<li> The "guest vCPU stall detector" is a new pseudo-device that
     serves as a sort of watchdog; a virtual machine must "pet" it
     occasionally or the host can conclude that the machine has stalled.
     <a href="https://git.kernel.org/linus/6c93c6f3bad4">This commit</a>
     has a little more information.

</ul>

<p>
<h4>Internal kernel changes</h4>
<p>
<ul class="spacylist">

<li> The <tt>CONFIG_ANDROID</tt> configuration option <a
     href="/Articles/899743/">has been removed</a> as "<q>obviously a bad
     idea</q>".
<li> There is a new debugfs interface with a wealth of information about
     the known memory shrinkers and their performance.  <a
     href="https://git.kernel.org/linus/7507f0991d59">This documentation
     commit</a> has the details.
<li> The configuration option to build the kernel with <tt>-O3</tt>
     optimization <a href="https://git.kernel.org/linus/a6036a41bffb">has
     been removed</a>.  
</ul>
<p>

There are, of course, some things that didn't make it.  The
<tt>printk()</tt> pull request was <a
href="/ml/linux-kernel/CAHk-=wie+VC-R5=Hm=Vrg5PLrJxb1XiV67Efx-9Cr1fBKCWHTQ@mail.gmail.com/">rather
severely rejected</a> by Torvalds, so it seems there will be no work on
that subsystem at all in this cycle.  Coming after the <a
href="/ml/linux-kernel/20220623145157.21938-1-pmladek@suse.com/">reverting</a>
of the console-thread feature in 5.19, this makes two difficult cycles for
that subsystem.  Meanwhile, there had been some hopes that Rust support
would be merged for 6.0, but that code still needs wider review.
<p>
There are also a couple of significant memory-management features that had
been penciled in for 6.0 but were not pushed in the end.  The <a
href="/Articles/845507/">maple tree</a> data structure is getting closer,
but was deemed to not be ready enough to go into this release.  The <a
href="/Articles/894859/">multi-generational LRU</a> feature ended up as
collateral damage from that decision.  The current plan, <a
href="/ml/linux-kernel/20220803133541.18b82ec9344ed0e8b975fe5b%40linux-foundation.org/">according
to Andrew Morton</a>, is to get both patch sets into -mm with an eye toward
merging in 6.1.
<p>
First, though, the community has to get the 6.0 kernel out; that will mean
finding and fixing a lot of bugs between now and the release date, which
will almost certainly be either October&nbsp;2 or&nbsp;9.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-6.0">Releases/6.0</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/904032/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor905245"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">6.0 Merge window, part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 19, 2022 13:03 UTC (Fri)
                               by <b>flussence</b> (guest, #85566)
                              [<a href="/Articles/905245/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I haven&#x27;t used vanilla kernel sources in a long time and I was under the impression -O3 was something a downstream patch added, because it sounds like the sort of ridiculous tweaker thing Linus never would&#x27;ve stood for. Huh.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/905245/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor910093"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">6.0 Merge window, part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 3, 2022 7:24 UTC (Mon)
                               by <b>Sesse</b> (subscriber, #53779)
                              [<a href="/Articles/910093/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It was, for a short while, an option. Never the default.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/910093/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2022, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
