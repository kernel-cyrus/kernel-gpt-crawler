        <!DOCTYPE html>
        <html lang="en">
        <head><title>Closing out the 2.6.28 merge window [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/304592/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/304363/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/304592/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>Closing out the 2.6.28 merge window</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>This article brought to you by LWN subscribers</b>
<p>
Subscribers to LWN.net made this article &mdash; and everything that
       surrounds it &mdash; possible.  If you appreciate our content, please
       <a href="/Promo/nst-nag3/subscribe">buy a subscription</a> and make the next
       set of articles possible.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>October 27, 2008</br>
           </div>
About 1000 changesets were merged after <a
href="http://lwn.net/Articles/303609/">the previous summary</a> was posted
here.  Much of those came from architecture-specific trees.  Other changes
merged this time around include:
<p>
<ul>

<li> There are new drivers for 
     Mellanox ConnectX 10GbE network adapters,
     PowerPC PPC40x and PPC44x GPIO controllers,
     Panasonic "Let's Note" laptop special keys,
     Sharp SL-6000 backlight and LCD devices,
     Dialog Semiconductor DA9030/DA9034 backlight devices,
     Tabletkiosk Sahara Touch-iT backlight devices, and
     Toshiba TX4939 SoC ATA controllers.

<p>
<li> One more not-ready-for-prime-time driver was merged via the staging 
     tree; this one supports Redrapids Pocket Change cardbus devices.  The
     staging tree also brought an extensive set of fixes to the drivers
     added earlier in the merge window.

<p>
<li> The kernel has gained support for <a
     href="http://en.wikipedia.org/wiki/Ultra-WideBand">ultra-wideband</a>
     protocol stacks.  UWB can be used for normal networking, but the
     immediate application is <a
     href="http://lwn.net/Articles/241980/">wireless USB</a>, which will be
     supported in 2.6.28.

<P>
<li> The ACPI docking station code has gained support for bay and battery
     hotplug  events.
<p>

<li> The IA64 architecture now supports Xen.  Also added to IA64 is support
     for DMA remapping devices (IOMMUs).
<p>
<li> Support for <a href="http://lwn.net/Articles/108595/">kdump</a> has
     been added to the PowerPC architecture.
<p>
<li> The 9P (Plan9) filesystem now has RDMA support.


</ul>
<p>
Changes visible to kernel developers include:
<p>
<ul>

<li> There is a new <tt>core_param()</tt> macro:
<p>
<pre>
    core_param(name, var, type, perm);
</pre>
<p>
     Its purpose is to define "core" parameters and let them be
     represented in <tt>/sys/module/kernel/parameters</tt>.
<p>

<li> It is now possible to create a workqueue running at realtime priority
     with:
<p>
<pre>
    struct workqueue_struct *create_rt_workqueue(const char *name);
</pre>
<p>

<li> The block driver API has changed considerably, with the <tt>inode</tt> 
     and <tt>file</tt> parameters being removed from most block device
     operations.  The new API looks like this:
<p>
<pre>
    struct block_device_operations {
	int (*open) (struct block_device *bdev, fmode_t mode);
	int (*release) (struct gendisk *gd, fmode_t mode);
	int (*locked_ioctl) (struct block_device *bdev, fmode_t mode, 
	    		     unsigned cmd, unsigned long arg);
	int (*ioctl) (struct block_device *bdev, fmode_t mode, 
	    	      unsigned cmd, unsigned long arg);
	int (*compat_ioctl) (struct block_device *bdev, fmode_t mode, 
	    		     unsigned cmd, unsigned long arg);
	int (*direct_access) (struct block_device *bdev, sector_t sector,
			      void **kaddr, unsigned long *pfn);
	int (*media_changed) (struct gendisk *gd);
	int (*revalidate_disk) (struct gendisk *gd);
	int (*getgeo)(struct block_device *bdev, struct hd_geometry *geo);
	struct module *owner;
    };
</pre>
<p>

    The new prototypes do away with the <tt>file</tt> and <tt>inode</tt>
    structure pointers which were passed in previous kernels.
    Note that the <tt>ioctl()</tt> method is now called without the big
    kernel lock; code needing BKL protection must explicitly define a
    <tt>locked_ioctl()</tt> function instead.
<p>

<li> The <a href="http://lwn.net/Articles/296578/">range timer API</a>
     has been merged; callers can now specify a time period in which they
     would like the timeout to be delivered.  The kernel can then take
     advantage of the range to coalesce wakeups and keep the processor idle
     for longer periods.

</ul>
<p>
This time around, linux-next maintainer Stephen Rothwell has put together
<a href="http://lwn.net/Articles/304690/">a list of linux-next patches</a>
which did not get into 2.6.28.  Perhaps the biggest omission was the <a
href="http://lwn.net/Articles/251469/">credentials work</a>, which seemed
poised to go in this time around.  Other changes which failed to get merged
include the <a href="http://lwn.net/Articles/292650/">message catalog</a>
code (which looks like it will need a change of approach) and <a
href="http://lwn.net/Articles/277833/">TOMOYO Linux</a> (which seems to be caught
up in the same old "new security module with pathname-based rules" swamp).  
<p>
Now the stabilization period starts.  Linus, perhaps, was trying to set the
tone for this development cycle when he released a much smaller and earlier
<a href="http://lwn.net/Articles/304748/">2.6.28-rc2</a> than would have
normally been expected.  By way of comparison: 2.6.25-rc2 had 359 patches
applied since 2.6.25-rc1.  For 2.6.26-rc2, 446 changesets were merged, and,
for 2.6.27-rc2, the count was 780.  For 2.6.28-rc2, instead, a total of 22
changes went in.  Says Linus:
<p>
<div class="BigQuote">
	And hey, maybe we can even _continue_ the nice model of "just small
	fixes after -rc1". I know, it sounds insane, but it's a real
	pleasure to do an -rc2 with just a handful of fixes for real
	problems that real people see.  What a concept!
</div>
<p>
Should this pattern hold, it may well be that 2.6.28 will stabilize more
quickly and successfully than its predecessors.  It will, in any case, be
interesting to watch.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-2.6.28">Releases/2.6.28</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/304592/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor304922"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Closing out the 2.6.28 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 28, 2008 15:41 UTC (Tue)
                               by <b>iabervon</b> (subscriber, #722)
                              [<a href="/Articles/304922/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The immediate reason Linus gave for -rc2 being early was that bugs in -rc1 were preventing people from testing, which isn't exactly a good sign for stabilization. On the other hand, a lot of regressions this time seem to be quick and easy to fix, even when they required relatively unusual configurations to occur.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/304922/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2008, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
