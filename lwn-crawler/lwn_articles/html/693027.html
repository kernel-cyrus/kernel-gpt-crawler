        <!DOCTYPE html>
        <html lang="en">
        <head><title>USB charging, part 1: requirements [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/693027/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/693095/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/693027/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>USB charging, part 1: requirements</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>We're bad at marketing</b>
<p>
We can admit it, marketing is not our strong suit. Our strength is
writing the kind of articles that developers, administrators, and
free-software supporters depend on to know what is going on in the
Linux world. Please <a href="/Promo/nsn-bad/subscribe">subscribe today</a> to help us keep doing that, and so
we don’t have to get good at marketing.
</blockquote>
<div class="GAByline">
           <p>July 7, 2016</p>
           <p>This article was contributed by Neil&nbsp;Brown</p>
           </div>
<p>USB, the Universal Serial Bus, was primarily designed to transfer data
to and from peripherals, with a secondary function of providing power
to those peripherals so that they don't need to be independently powered.
This secondary function has gained importance over the years, so that
today it is sometimes the primary or only function.  Many smartphone
owners regularly use USB to charge their device  but rarely, if ever,  transfer data over USB.  When Linux is running on that
smartphone it needs to be able to optimize the use of whatever power
is available over the bus — a task that is neither straightforward nor
cleanly implemented in mainline Linux.  We start this two-part series
by looking at how USB communicates power availability information and
will conclude in the second part by looking at how Linux does, or more
often doesn't, make use of this information.</p>

<p>To begin, it will be helpful to be clear about some terminology.  USB
is an asymmetric bus — the two connected peers each play different
roles.  One peer is the master, or initiator, and controls all the data
flow; it is known as the &quot;host&quot; and has an A-series
connector 
(or receptacle) or, possibly, a B-series plug.  The other peer is the
slave, or responder, that can 
only send or receive data when the host tells it to.  This is known as
a USB &quot;device&quot; though, since &quot;device&quot; is an overly
generic term, it is 
sometimes referred to as a &quot;gadget&quot;. A USB gadget has a B-series
connector, of which there are a range of sizes, or an A-series plug.</p>

<p>A USB cable connecting a host to a gadget typically has 4 wires.  Two
carry power, VBUS and GND, and two carry data, DP and DM, also known
as D+ and D-. Power normally flows from the host to the gadget, but
this is not universal as we shall see later.
 USB 3.0 adds extra wires and pins to the A-series and B-series
 connectors to carry "SuperSpeed" data, but only changes power delivery
 in that power flowing in different directions can flow over different
 wires.  The USB 3.0 C-series cable is bidirectional and does add extra
 power signaling options, but the details of that would not particularly
 help the present discussion.

<p>Some USB peers can serve as either a host or a gadget using a
specification known as USB On-The-Go — USB-OTG.  These devices have a
B-series connector with a fifth pin called ID.  The port will act as a
gadget port unless a cable is plugged that connects the ID pin to
GND, possibly through a resistor.  When that happens, the device will
switch the port to host mode so it can control an attached gadget.</p>

<p>From the perspective of a mobile battery-powered Linux device with a
B-series port, the important question is: how much power can be drained
from the bus and used in the device?  As the voltage is fixed at 5V ±5%
this is equivalent to a question of how much current can be drained,
and the answer is usually given in milliamps (mA).  The device will
typically have power-management circuitry that can limit the current
used, and other circuitry that will divert some to charging the
battery when that is appropriate, but those details are not really
important at this stage.  For now, we only care about a number.</p>

<p>The <a href="http://www.usb.org/">USB Implementers Forum</a> provides several multi-page
specifications describing how to get that number, in particular the
Battery Charging v1.2 document ("BC-1.2", which is my primary source and
comes from
the <a 
href="http://www.usb.org/developers/docs/devclass_docs/">Class
Specification page</a>)  and the newer
<a href="http://www.usb.org/developers/powerdelivery/">USB Power Delivery</a> spec.  In practice, there are two classes of
answers.</p>

<h4>Current from a Standard Downstream Port</h4>

<p>The first class of answers applies when the device is connected by a
standard cable to a standard A-series host port such as on a notebook
or desktop computer.  A USB host provides a &quot;Standard
Downstream Port&quot; (SDP).  These ports must provide 100mA for at least the
first second after attachment and can be configured to deliver more — up to
500mA in USB-2 — after enumeration has completed.  If no 
enumeration happens, the port is expected to become suspended after 1
second at which point only 2.5mA is available.</p>

<p>Enumeration involves the host asking the gadget (in this case, our
mobile Linux device) about its configuration options, and then
requesting that some specific configuration be activated.  More
details on enumeration can be found in an earlier article on <a href="/Articles/395712/">the USB
composite framework</a>.  A configuration includes the amount of
current that will be required, which may be close to zero for a
separately powered device, or may be the maximum supported for
something that is power hungry and fully bus-powered.  The host knows
what it can provide and will ignore any configuration that requires
too much power.</p>

<p>This protocol is quite suitable for a gadget that is dependent on bus
power and needs a certain amount of current or else it cannot reliably
function.  It is less suitable for a battery-powered gadget
like a smartphone that can function with no bus-power at all, but
would be happy to receive as much as is available.  Such a device
can present two (or more) distinct configurations to the host: one
that claims to require 500mA and a second one that requires zero.  A
host with power to spare should activate the first one.  A host that
cannot provide this power should reject the first and accept the
second.</p>

<h4>Current from other port types</h4>

<p>There are a variety of other port types that a USB gadget can find
itself connected to.  A Dedicated Charging Port (DCP) provides power,
at least 500mA, but no data.  A Charging Downstream Port (CDP)
provides data access much like an SDP, but also provides at least 1.5A, and
as much as 5A, that is available even before bus enumeration.  USB C-series
connectors introduce more options with the same maximum current of 5A,
though there is the possibility of increasing the voltage up to 20V, which
would yield 100W of power.</p>

<p>For USB-OTG there is an extra port type, the Accessory Charger Adapter
(ACA) as well as an extended form: the ACA-Dock.  The ACA switches the OTG
port into host mode, but also provides power to it, rather than
requiring power from it.  The ACA-Dock provides power and can switch
the OTG port between host and gadget mode, presumably based on what
else is plugged into the dock.  An ACA-Dock will provide at least
1.5A, while a simple ACA can provide as little as 500mA.</p>

<p>Each of these peers can be detected directly by the USB <a href="https://en.wikipedia.org/wiki/PHY_(chip)">PHY</a> — the
circuitry responsible for the physical interface with the bus.  This
detection happens without needing to enter enumeration negotiations,
so if power is available it can be accessed quickly.</p>

<p>USB connection negotiations between a host and a gadget start with the
host providing a 5V level on VBUS and the gadget PHY detecting this
voltage.  The PHY then advertises its existence to the host by
pulling one of DP or DM up to the same level as VBUS, the choice of
pin giving some indication of supported bus speed.  At this point the
host starts enumeration.  Before it applies the full VBUS voltage, the
PHY can send other signals at a lower voltage and check the
response.  The simplest case involves setting a low voltage (e.g. 2V)
on DP and checking if it is echoed back on DM.  Seeing the same 2V on
DM strongly implies that the DP and DM lines are shorted together,
which is how a dedicated charger (DCP) can be detected.  A similar but
more complex signalling will detect a CDP.</p>

<p>For a USB-OTG port, the ID pin is supplied with 5V and, when there is no
cable plugged in or when a normal 4-pin B-series plug is in place, it
will stay at 5V drawing no current.  As mentioned, an OTG cable
will pull this pin down to GND and if a resistor is used to pull it down
the resistance indicates the type of device.  If ID is a short-circuit
to GND, or shows a resistance of at most 1kOhm, then a simple gadget
that doesn't provide any power is being attached.  The OTG must
provide 5V to VBUS and cannot expect anything back.  If a resistance
is measured between 1kOhm and 200kOhm (the minimum to be considered
open-circuit), then some sort of ACA is implied and the specific
resistance indicates the type of ACA.</p>

<p>The USB PHY controller in the mobile device can usually perform these
various tests in hardware, possibly with some software support, the
moment that a voltage change is detected, and can make the results
available to the Linux driver.  The Linux driver then just needs to
tell the power-management driver how much current to draw.</p>

<h4>A range of options</h4>

<p>When connected to an SDP, and after a configuration has been negotiated,
a simple number is available to the Linux device so it knows how much
current it can draw — the number that was requested in the
configuration that was activated.  In theory, it should be safe to draw
that much current at 5V.  When attached to other port types, it isn't
quite so simple.</p>

<p>According to BC-1.2, the current
provided by a dedicated charger, DCP, is I<sub>DCP</sub>, which has a
minimum of 500mA and a maximum of 5A.  Similarly, a CDP provides
I<sub>CDP</sub>, which ranges from 1.5A to 5A.  ACA configurations have
ranges too, the lower ends of which were mentioned earlier.  Setting a
current limiter in the portable device to a single number is normally
quite simple.  If we only have a range of allowable values, it isn't immediately
clear what number we should use.</p>

<p>The intended meaning of these ranges is that the power source must
provide at least the minimum listed current at a voltage within 5% of the
5V target, so at least
4.75V.  Demands for higher current may cause the voltage to drop and,
at some point, the supply may cut out completely.  The supply should
not cut out while the current is below the maximum, unless the voltage
has first dropped below 2V.</p>

<a href="/Articles/693502/">
<img src="https://static.lwn.net/images/2016/usb-prc-sm.png" border=0 hspace=5 align=right
alt="[Power response curves]" width=320 height=240>
</a>

<p>
The graph at right (click for larger, animated version) shows hypothetical
power curves 
 that could be presented by chargers, which would be within specifications.
 As the load increases, the current provided increases, and then
 eventually the voltage starts to drop.  The key requirements of the
 specification are that the trace must never enter the grey areas and
 that the charger must not shut down (depicted by a black disk) before
 the trace enters a pink area.
 <a href="http://www.righto.com/2012/10/a-dozen-usb-chargers-in-lab-apple-is.html#power_curve">This
 blog post</a> shows some power curves presented by real devices.
</p>

<p>Pulling all of this together, the negotiations on the bus will provide an
upper and lower bound for the amount of current that can be drawn.
The device can safely request the minimum and if that is less than the
maximum it can then slowly increase the requested current until
the maximum is reached, or until the supplied voltage drops below some
device-specific threshold that must be greater than 2V and at most
4.75V.  Each voltage level should be averaged over 250ms to avoid
being confused by transients.</p>

<p>While this procedure should be safe, it is not unheard of for charging hardware
to be less than perfect, and some cables can introduce more resistance
than one would like.  So a truly cautious driver would start
requesting current well below the negotiated minimum and advance
slowly with large margins for error.</p>

<h4>Dead batteries — when we don't have the luxury of time</h4>

<p>One situation that is particularly difficult to handle with USB
charging is that of a dead battery.  If a device had a dedicated power
supply, with known characteristics, and, in particular, if it was certain
of a supply of a few hundred mA, then the hardware could be designed
to boot  with only external power — even if there is no battery.  With
USB there is no such guarantee.  The only guarantee that USB provides
without any negotiation is that 100mA can be used for up to 1 second,
but longer term only 2.5mA is certain to be available.  100mA is
barely enough power to boot Linux on current hardware, 2.5mA is
certainly insufficient.</p>

<p>One option is to simply ignore the specification and pull 100mA
anyway.  Many chargers will support this and those that don't should
just shut down, which is no worse than trying to survive with 2.5mA.
There is, however, a better option.</p>

<p>BC-1.2 defines a Dead Battery Provision
(DBP) which allows for an extremely simple handshake to request that
100mA be available for a longer term — up to 45 minutes.  If the
gadget device places a voltage of 0.5V on the DP pin, this will keep
the bus from entering the suspended mode, so the drop to 2.5mA never
happens.  When making use of the DBP, the device is strongly
encouraged to limit its activities to only those which are required to
charge the battery to the &quot;Weak Battery Threshold&quot;, and then
activate just enough hardware to properly respond to USB enumeration
and negotiate available power correctly.</p>

<p>To proceed correctly requires hardware that knows to set DP
appropriately when the battery is flat, and software to avoid turning
on any unnecessary components until the power state has been properly
established.</p>

<h4>The task at hand</h4>

<p>To summarize, the tasks that Linux must support for full compliance
are:</p>
<ul class="spacylist">
<li>find out from the USB PHY what type of cable is attached and
   report this to the battery charger
<li>advertise USB gadget configurations with appropriate power demands
<li>determine which gadget configuration was chosen and report the
   available power to the battery charger
<li>adjust current within the given range to maintain suitable voltage</li>
<li>detect when the power supply is questionable during boot and limit
activation of components until that is resolved</li>
</ul>
 
<p>  In the concluding article, we will have a look at the various device
   types within Linux that are responsible for these different tasks
   and at how they work together to produce a charging solution.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#USB">USB</a></td></tr>
            <tr><td><a href="/Archives/GuestIndex/">GuestArticles</a></td><td><a href="/Archives/GuestIndex/#Brown_Neil">Brown, Neil</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/693027/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor693905"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 8, 2016 19:34 UTC (Fri)
                               by <b>corsac</b> (subscriber, #49696)
                              [<a href="/Articles/693905/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
When the battery is dead, can't the bootloader (usually uboot) boot with 2.5mA and actually enumerate USB to get more power?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/693905/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor693967"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 9, 2016 23:37 UTC (Sat)
                               by <b>neilbrown</b> (subscriber, #359)
                              [<a href="/Articles/693967/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; When the battery is dead, can't the bootloader (usually uboot) boot with 2.5mA and actually enumerate USB to get more power?</font><br>
<p>
2.5mA isn't very much.  It should be enough to keep memory refreshed while the CPU is suspended, but not much more.  It is the sort of current that would allow a keyboard to detect a keypress and send a wake-up to the host to say "please ask me what key is pressed", and maybe to keep a couple of LEDs on.  It should let an optical mouse keep the light on just enough to detect some movement so again it can trigger a wake-up<br>
<p>
An Arduino microcontroller which is a slow, low-power CPU that cannot run Linux (unless maybe if you trimmed it down a lot) uses around 20-30 mA.  An OMAP3 which is a TI processor from a few years ago needs a couple of hundred mA to do anything useful.<br>
There may be more modern processors which get away with less power, the "LITTLE" part of big.LITTLE designs do aim for very low power.  They might be able to respond to bus enumeration with under 100mA, but I know no specifics.<br>
<p>
If you need a CPU to be involved in negotiating the current (rather than using purpose-built hardware), then you need to be sure of at least a few seconds of a few hundred mA from the battery.  If the CPU manages to negotiate 500mA or more in those few seconds it should be fine to boot.  If not, it is back to sleep until the battery builds up a more substantial charge.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/693967/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor694033"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 11, 2016 0:35 UTC (Mon)
                               by <b>giraffedata</b> (guest, #1954)
                              [<a href="/Articles/694033/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      OK, 2.5mA is really niggardly, but what about 100 mA for a second?  Isn't that enough time for a boot loader to come up and enough to negotiate more?

      
          <div class="CommentReplyButton">
            <form action="/Articles/694033/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor694044"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 11, 2016 10:13 UTC (Mon)
                               by <b>neilbrown</b> (subscriber, #359)
                              [<a href="/Articles/694044/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
1 second is certainly enough for a u-boot to be loaded and do something useful.  I don't know if it is long enough to complete usb negotiation, but I suspect it is.<br>
But for many processors, 100mA isn't enough to execute any instructions, let alone load the boot-loader from nand-flash which is most likely where it is.  There maybe be some Linux-capable platforms which can run the boot-loader with only 100mA, but I doubt they are common.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/694044/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor693960"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 9, 2016 18:55 UTC (Sat)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/693960/">Link</a>] (11 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; The other peer is the slave, or responder, that can only send or receive data when the host tells it to. This is known as a USB "device" though, since "device" is an overly generic term, it is sometimes referred to as a "gadget". </font><br>
<p>
What was perceived wrong with USB "slave" that motivated the invention of "gadget"?<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/693960/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor694005"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 10, 2016 20:00 UTC (Sun)
                               by <b>flussence</b> (guest, #85566)
                              [<a href="/Articles/694005/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I guess it makes sense to call it differently, since USB is wedged somewhere between ATA's master/slave model and FireWire's peer-to-peer model. One side *is* the bus owner, but when it's normal to plug a pocket supercomputer into a brainless charging adaptor where both sides are USB-spec-compliant (hopefully), the existing terminology becomes kind of meaningless.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/694005/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor694022"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 10, 2016 22:56 UTC (Sun)
                               by <b>anselm</b> (subscriber, #2796)
                              [<a href="/Articles/694022/">Link</a>] (9 responses)
      </p>
      
      </div>
      </summary>
      <p>
There seems to be a general trend away from loaded terms like “master” and “slave” and towards more neutral terms. For example, what used to be called a “slave DNS server” is now often referred to as a “secondary DNS server”.
</p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/694022/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor694030"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB gadget vs slave</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 11, 2016 0:10 UTC (Mon)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/694030/">Link</a>] (7 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
This "trend" crossed my mind only after I posted the question...<br>
<p>
While the terms master and slave don't bring any good memories, they happen to have perfect technical accuracy. I wouldn't mind trading them against other terms, however it's going to be difficult to find alternatives which are both accurate and PC at the same time since the relationship between two pieces of hardware tends to be more brutal than touchy-feely. "Gadget" falls quite far off the mark.<br>
<p>
From: flussence<br>
<font class="QuotedText">&gt; ... a pocket supercomputer into a brainless charging adaptor ...</font><br>
<p>
Brainless power: see how the master/slave terminology is even more accurate in this particular case?<br>
<p>
Anyway: while charging is an important and growing topic (thanks for the article), it's still not the bulk of the USB spec/complexity/implementation/etc.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/694030/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor694041"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB gadget vs slave</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 11, 2016 8:16 UTC (Mon)
                               by <b>farnz</b> (subscriber, #17727)
                              [<a href="/Articles/694041/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <p>Except that, in a deep and technical sense, the brainless power adapter is the USB "master" or "host", while the supercomputer attached to it is the "slave", "device", or "gadget".
<p>And OTG makes it even more complex, as the "host" role can swap between devices.
      
          <div class="CommentReplyButton">
            <form action="/Articles/694041/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor694050"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB gadget vs slave</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 11, 2016 11:05 UTC (Mon)
                               by <b>tao</b> (subscriber, #17563)
                              [<a href="/Articles/694050/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I think that was the whole point? That the slave owners are the brainless ones...<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/694050/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor694061"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB gadget vs slave</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 11, 2016 13:13 UTC (Mon)
                               by <b>farnz</b> (subscriber, #17727)
                              [<a href="/Articles/694061/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <p>Trouble with that is that the terminology swaps around - the pocket computer is the device, whether it's attached to a desktop supercomputer host that outpaces it, or to a dumb charger host that couldn't outpace a 1970s home computer :)
      
          <div class="CommentReplyButton">
            <form action="/Articles/694061/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor694104"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB gadget vs slave</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 11, 2016 17:00 UTC (Mon)
                               by <b>mbunkus</b> (subscriber, #87248)
                              [<a href="/Articles/694104/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; While the terms master and slave don't bring any good memories, they happen to have perfect technical accuracy.</font><br>
<p>
I respectfully disagree with the term being technically accurate. For me the relationship between master &amp; slave has two connotations: one is a question of rights (as in the slave doesn't have any and the master can order it/him/her around to do whatever) and one is who's doing the work (as in the slave does all the work and the master only assigns, supervises, punishes).<br>
<p>
However, there are many situations where us admins speak about master/slave in technical environments and where those connotations don't really fit:<br>
<p>
1. Databases. Here the master is often simply the single point where data can be changed. However, it's not like the master is not doing any work — often enough the work is divided somewhat equally between all nodes in the cluster.<br>
<p>
2. High-availability clusters. Here the master is the one actually doing all the work, and it isn't even telling the slave what to do all the time. Usually the slave machine verifies that the master is still alive and takes over if that check fails — but that's usually not initiated by the master but by the slave's own will — and the nodes suddenly switch their roles, too. They're more often called active/passive clusters, and that's a much more fitting term to me; it's much more of a relationship between equal partners than any kind of hierarchy.<br>
<p>
3. DNS servers. Again the masters may or may not do a significant amount of work depending on whether or not it's listed as a NS for the domain in question. Additionally it doesn't instruct the slave to update its files, it only notifies the slave. The slave decides based on its configuration if and when to update its zones. On top of that master and slave servers are often run by different entities (companies).<br>
<p>
We use master/slave for so many different cases in tech that I'd prefer not to use them even without considering the historical context of those terms.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/694104/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor694106"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB gadget vs slave</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 11, 2016 17:13 UTC (Mon)
                               by <b>pizza</b> (subscriber, #46)
                              [<a href="/Articles/694106/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; I respectfully disagree with the term being technically accurate. For me the relationship between master &amp; slave has two connotations: one is a question of rights (as in the slave doesn't have any and the master can order it/him/her around to do whatever) and one is who's doing the work (as in the slave does all the work and the master only assigns, supervises, punishes).</font><br>
<p>
There's a third connotation -- the question of authority.  Ie the master is authoritative, the slave is not.<br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/694106/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor694148"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB gadget vs slave</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 11, 2016 21:37 UTC (Mon)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/694148/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; There's a third connotation -- the question of authority. Ie the master is authoritative, the slave is not.</font><br>
<p>
Yes - this is how this terminology has been successfully been used for decades.<br>
<p>
Which side has authority and decides matters to correctness as in "Does it work?". Black/white questions[*]. Who does the work is optimization territory = quantitative stuff. Glad the terminology relates to the former.<br>
<p>
[*] Sorry; really couldn't resist this one :-)<br>
<p>
<font class="QuotedText">&gt; &gt; I respectfully disagree with the term being technically accurate.</font><br>
<p>
"Send patches"<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/694148/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor694462"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB gadget vs slave</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 14, 2016 1:24 UTC (Thu)
                               by <b>kevinm</b> (guest, #69913)
                              [<a href="/Articles/694462/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
These are some great points, and I would suggest that for all of these examples a pair of terms borrowed from partner dance would be appropriate: Leader / Follower.  There's no connotation there of one doing more work than the other; there's the implication of "call and response" (another term from partner dance); and the possibility of switching roles as in the HA cluster case is apropos.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/694462/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor694464"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 14, 2016 2:15 UTC (Thu)
                               by <b>gdt</b> (subscriber, #6284)
                              [<a href="/Articles/694464/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <p>The sentiment is correct but the DNS example is incorrect.</p>

<p>Mockapetris in RFC882 used "primary/secondary" to refer to the role of servers and "master/slave" to refer to the origin of DNS records. Terminology to distinguish the servers and the records they serve is perhaps too fine to be useful once the DNS system existed, whatever clarity the differing terminology bought during the design of the DNS system.</p>

<p>The use of primary/secondary in BIND4 configurations confused many. Master/slave was felt to be clearer and appeared in BIND8 configuration.</p>

<p>"Original" and "copy" &mdash; or many other suggestions &mdash;  may have been better and perhaps clearer terms, but that would have required BIND to break away entirely from the terminology in the DNS RFCs.</p>

<p>Then there's the question of if inanimate objects such as servers should be anthropomorphised to the extent that a "slave server" is not a "neutral term"; a topic I am unqualified to determine.</p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/694464/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor694042"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 11, 2016 9:09 UTC (Mon)
                               by <b>roblucid</b> (guest, #48964)
                              [<a href="/Articles/694042/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Thanks Neil, your articles are always a very interesting read!<br>
<p>
As for this, not having any hardware background the intricacies of something "you just plug in" has been eye opening.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/694042/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor695330"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 25, 2016 16:48 UTC (Mon)
                               by <b>koala_man</b> (guest, #109913)
                              [<a href="/Articles/695330/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Totally agree. I've noticed that certain combinations from my ever-growing pile of chargers and adapters make gadgets behave in vaguely different ways. This article finally put it into context!<br>
<p>
Much appreciated, Neil!<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/695330/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor694516"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 14, 2016 14:48 UTC (Thu)
                               by <b>bleung</b> (guest, #96239)
                              [<a href="/Articles/694516/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Hi Neil,<br>
<p>
Thanks for posting this informative article.<br>
<p>
Several minor corrections.<br>
#1 : The two data carrying wires are Dp and Dn or D+ and D-, not DP and DM.<br>
<p>
#2: There is no such thing as "USB 3.0 C-series"<br>
<p>
There is USB Type-C, which is a third type of connector introduced in 2014. USB Type-C is intended to replace both Type-A and Type-B connectors and plugs. It is not required that USB Type-C ports support USB 3.0 or USB 3.1 data rates. In fact, many of the implementations on phones today use Type-C but only connect the receptacle to USB 2.0 Host and Device controllers, and most of the Type-C cables on the market today are USB 2.0 only, meaning they have only the base 4 wires, and none of the SuperSpeed wires.<br>
<p>
<p>
USB Type-C and the related specification USB Power Delivery introduce much more complex and more rigidly defined power capabilities than the USB BC 1.2 you write about. It may be worthwhile for you and I to at some point to collaborate and do a more detailed explainer about USB-C and PD charging in the future! <br>
<p>
See my explanation of USB Type-C Configuration Channel, for example : <a href="https://plus.google.com/+BensonLeung/posts/4xq4EDjXMw8">https://plus.google.com/+BensonLeung/posts/4xq4EDjXMw8</a><br>
<p>
Also, my G+ collection for USB Type-C Explained : <br>
<a href="https://plus.google.com/collection/0Vdov">https://plus.google.com/collection/0Vdov</a><br>
<p>
Thanks!<br>
Benson<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/694516/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor694517"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 14, 2016 14:53 UTC (Thu)
                               by <b>bleung</b> (guest, #96239)
                              [<a href="/Articles/694517/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Nix my first minor correction. It looks like "DM" for "Dee-Minus" is also acceptable and widely used as much as "Dn" for "Dee-negative"<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/694517/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor694692"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 17, 2016 3:22 UTC (Sun)
                               by <b>WolfWings</b> (subscriber, #56790)
                              [<a href="/Articles/694692/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
And despite all this well-written documentation, most devices out in the wild (and thus most chargers and so-forth) that aren't using USB-C ports simply wire up the data pins to specific voltages to advertise what amperage they support and the devices suck down power if that's high enough.<br>
<p>
Thank Apple for simply implementing something years (a decade really) before any real (and quite complicated) standard came out, so that's become the de-jure standard even if it's not officially any kind of standard. And that de-jure standard is what those $8 wall-plug adapters your local membership-store has on the shelf, not ones that follow the full USB charger spec.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/694692/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor694801"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 18, 2016 21:26 UTC (Mon)
                               by <b>chfisher</b> (subscriber, #106449)
                              [<a href="/Articles/694801/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I think you meant de facto, not de jure.<br>
<p>
de facto - adverb "in fact, or in effect, whether by right or not."<br>
<p>
de jure - adverb "according to rightful entitlement or claim; by right." - implying it is the legal standard/<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/694801/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor695347"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 25, 2016 20:23 UTC (Mon)
                               by <b>eds</b> (guest, #69511)
                              [<a href="/Articles/695347/">Link</a>] (11 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
So If I connect a battery-powered device to a host computer, USB data communication is required before charging can begin.<br>
<p>
But what if I don't trust the host computer?  And use a cable or adapter that connects the power pins but not the data pins.  Does that mean the host will (and should) refuse to supply sufficient charging current, because no device enumeration occurred?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/695347/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor695351"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 25, 2016 21:04 UTC (Mon)
                               by <b>mohaine</b> (guest, #6101)
                              [<a href="/Articles/695351/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yes.  You should get 100 ma that will quickly degrade to 2.5 ma.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/695351/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor695366"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 25, 2016 22:43 UTC (Mon)
                               by <b>mathstuf</b> (subscriber, #69389)
                              [<a href="/Articles/695366/">Link</a>] (7 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
If you don't trust the host computer…don't plug a cable into it? If you want just power, look to the SyncStop[1] (formerly the "USB Condom").<br>
<p>
[1]<a href="http://syncstop.com/">http://syncstop.com/</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/695366/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor695386"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 26, 2016 6:15 UTC (Tue)
                               by <b>eds</b> (guest, #69511)
                              [<a href="/Articles/695386/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yes, I'm specifically asking what happens when such a device is in use.  SyncStop blocks the data pins, which is exactly what I described.<br>
<p>
If no data pins means no enumeration, and no enumeration means the host will cut the current back, then it's not a very useful way to recharge.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/695386/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor695409"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 26, 2016 10:48 UTC (Tue)
                               by <b>gioele</b> (subscriber, #61675)
                              [<a href="/Articles/695409/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Yes, I'm specifically asking what happens when such a device is in use. SyncStop blocks the data pins, which is exactly what I described.</font><br>
&gt;<br>
<font class="QuotedText">&gt; If no data pins means no enumeration, and no enumeration means the host will cut the current back, then it's not a very useful way to recharge.</font><br>
<p>
What SyncStop/USB condom should do is to have a chip connected to the data pins that does the enumeration-dance with the host and, once it is done, it should forward the current to the gadget/phone/camera attached to it. In this way the enumeration is done, but not by the phone/camera itself.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/695409/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor695423"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 26, 2016 14:12 UTC (Tue)
                               by <b>jezuch</b> (subscriber, #52988)
                              [<a href="/Articles/695423/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; What SyncStop/USB condom should do is to have a chip connected to the data pins that does the enumeration-dance with the host and, once it is done, it should forward the current to the gadget/phone/camera attached to it.</font><br>
<p>
How does it know that it doesn't send too much power for the device not to fry?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/695423/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor695437"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 26, 2016 15:40 UTC (Tue)
                               by <b>jem</b> (subscriber, #24231)
                              [<a href="/Articles/695437/">Link</a>] 
      </p>
      
      </div>
      </summary>
      A power supply does not send power to a device, the device draws power from the supply. The voltage is fixed at 5 volts (newer versions can supply 20 volts, when negotiated), the current drawn is up to the device.
      
          <div class="CommentReplyButton">
            <form action="/Articles/695437/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor695412"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 26, 2016 11:26 UTC (Tue)
                               by <b>mathstuf</b> (subscriber, #69389)
                              [<a href="/Articles/695412/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yes, it blocks the data pins to your device, but will negotiate on its behalf (and as a "proof" it doesn't put data through to your device, it doesn't hook the data lines up in that side).<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/695412/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor695761"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 29, 2016 5:38 UTC (Fri)
                               by <b>eds</b> (guest, #69511)
                              [<a href="/Articles/695761/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I can find no evidence that SyncStop / USB condom has anything at all connected to the data lines.  Everything I've seen describes it as a passthrough with data lines cut.<br>
<p>
But perhaps I just haven't searched hard enough.  Do you have a link?  Or know of a competing product that does this?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/695761/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor695762"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 29, 2016 5:41 UTC (Fri)
                               by <b>mathstuf</b> (subscriber, #69389)
                              [<a href="/Articles/695762/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It has to communicate with the host for power. Otherwise it's just be a simple cable which doesn't route any of the data lines at all. It doesn't have data lines to the device side though.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/695762/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
<a name="CommAnchor695377"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 26, 2016 0:56 UTC (Tue)
                               by <b>neilbrown</b> (subscriber, #359)
                              [<a href="/Articles/695377/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt;  Does that mean the host will (and should) refuse to supply sufficient charging current</font><br>
<p>
No, it means that the host *may* refuse to supply sufficient charging current.<br>
<p>
There are lots of USB-powered thingies around, like fans for summer, hand-warming mittens for winter, and pretty blinking lights for the festive season.  They don't enumerate the bus, but they work fine when plugged into most USB sockets.  If you tried to plug 4 of them into an unpowered USB hub, I suspect they wouldn't work.  Hopefully the hub would detect the excess current draw and turn off.<br>
<p>
The key point about battery powered mobile devices is that sometimes you plug in a USB cable to charge, sometimes to transfer data, sometimes for both.  The device needs to know what to do.  If it just pulled all the current it could, like the warming mittens, it might cause the port to shut down and then you would never get your cat photos.  The mittens have no cat photos, so causing a port shutdown isn't a concern.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/695377/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor695387"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">USB charging, part 1: requirements</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 26, 2016 6:19 UTC (Tue)
                               by <b>eds</b> (guest, #69511)
                              [<a href="/Articles/695387/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Thanks for the clarification.<br>
<p>
I realize I have anecdotal evidence this is true, having charged my bicycle headlight off a laptop USB port many times.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/695387/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2016, Eklektix, Inc.<BR>
            
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
