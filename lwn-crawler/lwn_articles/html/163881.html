        <!DOCTYPE html>
        <html lang="en">
        <head><title>The end of gcc 2.95 support [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/163881/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/163269/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/163881/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>The end of gcc 2.95 support</h1>
<div class="Byline">[Posted December 13, 2005 by corbet]
               <p>
               </div>
</div>
<div class="ArticleText">
For years, otherwise useful kernel patches have been rejected because they
use language features which are not supported by version 2.95 of the gcc
compiler.  The developers have been reluctant to remove support for this
ancient version of gcc (released in 1999) because some not-so-old
distributions used it, and because a couple of architectures required it.
More importantly, however: gcc&nbsp;2.95 simply runs faster than later
versions.  For a kernel hacker waiting for a build to complete, compilation
speed can be far more important than additional language features or more
highly optimized code generation.
<p>

In the middle of the mutex conversation, however, it was pointed out that
some of the alternatives under consideration would not work with 2.95.  In
response, Andrew Morton, the biggest defender of 2.95 compatibility, <a
href="/Articles/163891/">threw in the towel</a>.  It seems that quite a few
things in the kernel already fail to work with 2.95, and the situation is
not getting better.  So, says Andrew:
<p>
<div class="BigQuote">
	It's time to give up on it and just drink more coffee or play more
	tetris or something, I'm afraid.
</div>
<p>
He followed up with <a href="/Articles/163893/">a patch</a> officially
removing gcc&nbsp;2.95 compatibility from the kernel.  A <a
href="/Articles/163897/">suggestion</a> to drop gcc&nbsp;3.0 quickly
followed; the 3.0 release was never widely used, and it lacks some features
that the kernel developers would like to use.  Moving directly to 3.1 as
the oldest supported gcc would make life easier without a whole lot
of additional pain.
<p>
Nothing has been merged into the mainline yet - and may not be until 2.6.16
opens.  But the writing is clearly on the wall: anybody still trying to use
these older compilers with current kernels will have to upgrade soon.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Build_system">Build system</a></td></tr>
            <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Development_tools">Development tools</a></td></tr>
            <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#GCC">GCC</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/163881/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor164245"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The end of gcc 2.95 support</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 15, 2005 1:41 UTC (Thu)
                               by <b>dank</b> (guest, #1865)
                              [<a href="/Articles/164245/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      May as well drop 3.1, too.  It was a runt<br>
version that was quickly replaced by 3.2.<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/164245/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor164830"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">We're going to require 3.2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 19, 2005 19:05 UTC (Mon)
                               by <b>Blaisorblade</b> (guest, #25465)
                              [<a href="/Articles/164830/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Indeed, the current -mm tree requires 3.2.<br>
<p>
<a href="http://www.kernel.org/pub/linux/kernel/people/akpm/patches/2.6/2.6.15-rc5/2.6.15-rc5-mm3/announce.txt">http://www.kernel.org/pub/linux/kernel/people/akpm/patche...</a><br>
<p>
And I know of _official_ (meaning from important developers) warnings against 3.0/3.1 GCCs - in fact, most distros switched directly from 2.95/2.96 to 3.2 (I know this for sure for Mandrake, for instance).<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/164830/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor164246"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The end of gcc 2.95 support</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 15, 2005 1:57 UTC (Thu)
                               by <b>imcdnzl</b> (guest, #28899)
                              [<a href="/Articles/164246/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      Debian Woody also has gcc 2.95 enabled as default so those still stuck on that will need to change their setup. Agree with changing it though as using gcc 2.95 on Woody broke lots of things at times...<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/164246/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor164308"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The end of gcc 2.95 support</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 15, 2005 10:20 UTC (Thu)
                               by <b>hawk</b> (subscriber, #3195)
                              [<a href="/Articles/164308/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      Those people should probably upgrade to Sarge anyway...<br>
However, Woody isn't even 2.6 compatible, is it?<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/164308/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor164476"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The end of gcc 2.95 support</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 15, 2005 20:07 UTC (Thu)
                               by <b>captrb</b> (guest, #2291)
                              [<a href="/Articles/164476/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
       <br>
Yes, it was 2.6 compatible when it was released.  2.4 was still the <br>
default, but I believe there were boot floppies for 2.6. <br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/164476/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor164810"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The end of gcc 2.95 support</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 19, 2005 15:21 UTC (Mon)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/164810/">Link</a>] 
      </p>
      
      </div>
      </summary>
      not completely, if you run a 2.6 kernel on woody there are several other packages that you need to change out (procps is the one that annoyed me)<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/164810/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor164309"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The end of gcc 2.95 support</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 15, 2005 10:21 UTC (Thu)
                               by <b>cjwatson</b> (subscriber, #7322)
                              [<a href="/Articles/164309/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Frankly, anyone trying to use 2.6.13+ or so on woody is almost certainly in for a world of hurt anyway. Woody users are by far best off sticking with the 2.4 series.<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/164309/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor164452"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The end of gcc 2.95 support</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 15, 2005 18:00 UTC (Thu)
                               by <b>pj</b> (subscriber, #4506)
                              [<a href="/Articles/164452/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      Would this change affect all architectures, or just x86?  does 3.2 support all the architectures 2.95 does/did?  Embedded linux devs would be quite unhappy to have their standard toolset suddenly stop working...<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/164452/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor164505"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The end of gcc 2.95 support</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 15, 2005 22:07 UTC (Thu)
                               by <b>khim</b> (subscriber, #9252)
                              [<a href="/Articles/164505/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <p><i>Would this change affect all architectures, or just x86?</i></p>

<p>All</p>

<p><i>does 3.2 support all the architectures 2.95 does/did?></i></p>

<p><a href="http://gcc.gnu.org/gcc-3.1/changes.html">No</a>.</p>

<p><i>Embedded linux devs would be quite unhappy to have their standard toolset suddenly stop working...</i></p>

<p>That's why it's discussed today and not two years ago...</p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/164505/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor167089"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The end of gcc 2.95 support</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 10, 2006 23:46 UTC (Tue)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/167089/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Many non-x86 architectures needed later GCC versions anyway, and others benefited greatly from them (e.g. SPARC64 can be compiled either with an ancient and crocked-up 1998-vintage egcs hack, or with GCC 3.2+; performance with the latter is detectably higher in my admittedly unscientific benchmarks, and with -Os --- not supported in the ancient egcs --- the kernel's much smaller too).<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/167089/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor165390"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The end of gcc 2.95 support</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 22, 2005 21:09 UTC (Thu)
                               by <b>scharkalvin</b> (guest, #7372)
                              [<a href="/Articles/165390/">Link</a>] 
      </p>
      
      </div>
      </summary>
      now that I've started using the Jackass! install method<br>
anything older than 3.4.4 is a pain.  When you are runing on<br>
ancient HW spending a little more time on compile to gain<br>
speed on the resulting code is worth the time spent.<br>
(K6-300 cpu)<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/165390/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2005, Eklektix, Inc.<BR>
            
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
