        <!DOCTYPE html>
        <html lang="en">
        <head><title>2.6.x-rc0 [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/355923/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/355016/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/355923/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>2.6.x-rc0</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Did you know...?</b>
<p>
LWN.net is a subscriber-supported publication; we rely on subscribers
       to keep the entire operation going.  Please help out by <a
       href="/Promo/nst-nag4/subscribe">buying a subscription</a> and keeping LWN on the
       net.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>October 7, 2009</br>
           </div>
The mislabeling of 2.6.32-rc1 in the makefile might have been the cause of
some confusion, though the skipping of -rc2 will have avoided the worst of
it.  But it seems that there is confusion with version numbers at other
times, leading to a push for a change that Linus has absolutely no
intention of making.
<p>
Responding to the 2.6.32-rc3 announcement, Len Brown <a
href="/Articles/355924/">noted</a> that, as far as the version 
number is concerned, there is no difference between (say) 2.6.31 and a
kernel checked out near the end of the 2.6.32 merge window, despite the
fact that those two kernels differ significantly from each other.  Len had
a simple request:
<p>
<div class="BigQuote">
	This could be clarified if you update Makefile on the 1st commit
	after 2.6.X is frozen to simply be 2.6.Y-merge or 2.6.Y-rc0 or
	something.  Anything but 2.6.X.
</div>
<p>
Others echoed this request, but Linus <a href="/Articles/355925/">made it
clear</a> that he was not interested in this idea:
<p>
<div class="BigQuote">
	So no. I'm not going to do -rc0. Because doing that is
	_stupid_. And until you understand _why_ it's stupid, it's
	pointless talking about it, and when you _do_ understand that it's
	stupid, you'll agree with me.
</div>
<p>
So what is the problem with the -rc0 idea?  It turns out there are a few,
one of which being that there is already a much more flexible mechanism
built into the kernel build system.  If the <tt>LOCALVERSION_AUTO</tt>
configuration option is set, the extra version information will be set in a
more specific manner.  Your editor, who has not been at home long enough to
install a new kernel on his desktop for a bit, is currently running a
kernel which reports its version as:
<p>
<pre>
    2.6.31-rc5-00002-g3ce001e
</pre>
<p>
It says that the kernel is the one found at git commit ID <tt>g3ce001e</tt>;
the <tt>00002</tt> indicates that it is two commits after 2.6.31-rc5.  This
version number makes the <i>exact</i> kernel being run clear in a way that
a simple makefile tweak would not.  Even if -rc0 were really indicative, it
would not really say which kernel was being run.
<p>
It gets worse than that, though, especially when developers start bisecting
kernels to track down bugs.  Consider this example: the two post-2.6.31-rc5
commits in your editor's kernel are a pair of 
BKL-removal patches which fell through the cracks and didn't make the
2.6.32 merge window.  Assuming they make it into 2.6.33, the (simplified)
git revision history will look something like this:
<p>
<blockquote>
<img src="https://static.lwn.net/images/ns/kernel/git-revisions.png" width=633 height=132
alt="[Revisions diagram]" border=0>
</blockquote>
<p>
A developer trying to use bisection to find a problem in 2.6.33-rc1 might
well end up at your editor's commit <tt>g3ce001e</tt> - as a stopping
point, of course; that commit could not possibly be the <i>cause</i> of the
problem.  Should that developer look at the kernel version number at that
point, they will not see 2.6.33-rc0 (even if Linus were to make that
change) or even 2.6.32 - the version will be 2.6.31-rc5, the version that
particular commit is based on.  In the git era,
kernel development is not a straight-line affair.  
<p>
What this implies is that anybody who depends on the kernel version number
as found in the Makefile is likely to end up confused.  There is, of
course, one important exception: that number is meaningful only for the
actual release it represents.  At any other time, it is an unreliable
guide.
<p>
That doesn't change the fact that people are getting confused by running a
kernel which identifies itself as 2.6.x, but which is really closer to
2.6.x+1.  So it seems likely that a couple of things will be done to help.
One of those is to make the <tt>LOCALVERSION_AUTO</tt> option enabled by
default, and, possibly, difficult to disable.  The other is to add some
smarts to the build system which tries to check whether the kernel being built
differs from the one which was tagged with the official release number.  If
that is the case, a simple "<tt>+</tt>" is appended to the version number.
So a kernel checked out in the middle of the 2.6.33 merge window would
identify itself as 2.6.32+.
<p>
Linus doesn't much like that last option (he sees it as losing a lot of
information that the full <tt>LOCALVERSION_AUTO</tt> option provides), but
he "doesn't hate" it either.  He actually managed to not hate the idea
enough to put together <a href="/Articles/355932/">a patch</a> implementing
it.  It has not been merged as of this writing; there is still some
discussion happening about possible changes to the
<tt>LOCALVERSION_AUTO</tt> format.  But it seems likely that something
along these lines will go in during the 2.6.33 merge window, if not before.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Development_model-Version_numbers">Development model/Version numbers</a></td></tr>
            <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases">Releases</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/355923/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor356064"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.x-rc0</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 8, 2009 14:42 UTC (Thu)
                               by <b>k3ninho</b> (subscriber, #50375)
                              [<a href="/Articles/356064/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I want a 2.6.x-branch version number to differentiate between a release kernel and one which has been branched for the merge window - no matter how far through that window it is.  It's sensible release management and removes any confusion should someone think they're running a stable release when instead they're using a merge-window nightmare (both of which would be labelled 2.6.x).  Just imagine the bugs filed against 2.6.x when the regressions are introduced in the 2.6.(x+1) merge window.  Linus is wrong.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/356064/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor356093"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.x-rc0</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 8, 2009 17:22 UTC (Thu)
                               by <b>iabervon</b> (subscriber, #722)
                              [<a href="/Articles/356093/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The problem is that people want to base their development on kernels that don't have lots of instability in them, so they pick a tag from Linus's repository that is likely to be stable, and that tag has a version in the Makefile like "2.6.31". When they start their feature, it's completely unstable, but has a "2.6.x" version. When subsystem maintainers put together series, they pick up these topics, and they don't change the Makefile version themselves (since they don't maintain the Makefile), and the don't merge Linus's tree, especially not during the merge window (because that creates a lot of cross-merges and useless merge commits and cases where things from -system1 are broken because of a change in -system2 merged first into the merge window and them into -system1).<br>
<p>
The end result is that, regardless of what Linus does, if there is a commit which builds a kernel that claims to be "2.6.x" in his tree, then most of the least stable commits in his tree will also claim to be "2.6.x".<br>
<p>
One thing that might work would be for Linus to not put "2.6.x" in his tree, but instead put "2.6.x+1-rc0" in his tree and only put "2.6.x" in the 2.6.x-stable tree. This would have the nice side effect that string compare would start sorting tags within a tree correctly, and it's obviously equivalent to the current situation at a string-equality level within a given tree, but I don't know if Linus would like not having releases ever cut from his tree any more.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/356093/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor356098"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.x-rc0</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 8, 2009 17:38 UTC (Thu)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/356098/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
so turn on LOCALVERSION_AUTO and have it set the version number at compile time instead of depending on the static value in the makefile.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/356098/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor356083"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.x-rc0</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 8, 2009 16:33 UTC (Thu)
                               by <b>djc</b> (subscriber, #56880)
                              [<a href="/Articles/356083/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I think the tools (e.g. git/hg bisect) can deal with branchiness, and will solve that problem at least.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/356083/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor356108"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.x-rc0</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 8, 2009 19:07 UTC (Thu)
                               by <b>jimparis</b> (guest, #38647)
                              [<a href="/Articles/356108/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I'm not a fan of the trailing plus.<br>
<p>
Consider this discussion:<br>
 "I'm having a problem with ftdi_sio in 2.6.28"<br>
 "That's a known bug that's been fixed in 2.6.29+"<br>
<p>
Does that mean "it's fixed in 2.6.29 and later" or "it was fixed after 2.6.29 was released"?<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/356108/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor356157"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">2.6.x-rc0</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 8, 2009 23:38 UTC (Thu)
                               by <b>giraffedata</b> (guest, #1954)
                              [<a href="/Articles/356157/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <blockquote>
"I'm having a problem with ftdi_sio in 2.6.28"
<p>
"That's a known bug that's been fixed in 2.6.29+"
</blockquote>
<p>
That would be a poor response even without the ambiguity you point out, because there are lots of code versions that report themselves as 2.6.29+, so the response neither tells the complainer where to get a fix or how to recognize a kernel that contains the fix.  You'd have to say "will be fixed in 2.6.30" or actually get specific about where he can find the code today.

      
          <div class="CommentReplyButton">
            <form action="/Articles/356157/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2009, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
