        <!DOCTYPE html>
        <html lang="en">
        <head><title>What's not going into 2.6.18 [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/186427/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/185904/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/186427/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>What's not going into 2.6.18</h1>
<div class="Byline">[Posted June 6, 2006 by corbet]
               <p>
               </div>
</div>
<div class="ArticleText">
The 2.6.17 development cycle is coming to an end, with the final release
likely to happen before the middle of June.  So, naturally, the attention
of the kernel developers is turning toward the 2.6.18 cycle.  As a way of
encouraging thought on what should happen then, Andrew Morton has posted <a
href="http://lwn.net/Articles/186223/">a 2.6.18 merge plan summary</a>
describing how he expects to dispose of the patches currently sitting in the
-mm tree.  There has been occasional talk of doing a bugfix-only kernel
cycle, but it's clear that 2.6.18 won't be that cycle - there are
a lot of patches tagged for merging.
<p>

The features which are expected to be merged are interesting, but they are
best discussed once they hit the mainline repository; until then, their
fate remains uncertain.  So, for now, suffice to say that 2.6.18 will
likely include an S/390 hypervisor filesystem, a number of memory
management patches, some software suspend improvements, a new i386 hardware
clock subsystem, some SMP scheduler improvements, the <a
href="http://lwn.net/Articles/153353/">swap prefetch patches</a> (maybe),
<a href="http://lwn.net/Articles/178253/">priority-inheriting futexes</a>,
a rework of the <tt>/proc/pid</tt> code, a number of MD (RAID)
improvements, a new kernel-space inotify API, and a bunch of code from
subsystem trees which does not appear in -mm directly.  As is usual, a
great deal of code will be flowing into the mainline for the next release.
<p>

It can also be interesting to look at what will <i>not</i> be merged.  From
Andrew's posting, the following big patch sets are likely to be held back:
<p>
<ul>

<li> There is a great deal of code which requires action by various
     subsystem maintainers.  But, says Andrew, "<q>I continue to have
     some difficulty getting this material processed.</q>"  He will step
     up his efforts to get responses from maintainers, but some patches
     will likely continue to languish.
     <p>
     In particular, some dismay has been expressed regarding how long it
     can take to get drivers into the mainline.  It seems that, perhaps,
     the quality bar is being set too high.  It is always possible to find
     things to criticize in a body of code, but sometimes the best thing to
     do is to proceed with the code one has and improve it as part of an
     ongoing process.  There is concern that reviewers are insisting on
     perfection and keeping out code which is good enough, and which could
     be of value to Linux users.
<p>
<li> The <a href="http://acx100.sourceforge.net/index.html">acx100
     driver</a> supports a useful range of wireless chipsets.
     Unfortunately, there are some concerns about how this driver was
     developed and whether its inclusion could cause legal problems for
     Linux.  Until that issue is resolved, this driver is likely to remain
     out in the cold.
<p>
<li> The per-task delay accounting patches are sitting on the edge.  The
     main concern here appears to be that these patches create a new
     interface for getting per-task information from the kernel.  Any other
     new code which exports that sort of information (and a number of
     patches exist) will be expected to use this new API.  So more review
     and discussion may be called for here.  There is also a separate patch
     set for non-task-oriented statistics which will probably not be merged
     this time around for the same reason.
<p>
<li> <a href="http://lwn.net/Articles/156921/">eCryptfs</a> is uncertain as
     well.  This filesystem implements its own mechanism for stacking on
     top of a base filesystem, but the primary reviewer would rather see
     the creation of a generic stacking layer for all to use.  This is an
     issue which is often encountered by people trying to do new things;
     they are asked to make their infrastructure more generic.  The intent
     is good, but it can cause delays and extra work for developers trying to
     add new features.
<p>
<li> The UTS namespaces patch.  This patch, which implements a small part
     of the container concept, is not particularly useful on its own.  So
     it will probably wait until more of the container infrastructure is in
     place.
<p>
<li> The <a href="http://lwn.net/Articles/155510/">adaptive readahead
     patches</a> are deemed to be too young for now.  Some benchmark
     results show significant performance improvements from these patches,
     but others are less clear.
<p>
<li> Reiser4.  Says Andrew: "<q>We need to do something about this.  It
     does need an intensive review and there aren't many people who have
     the experience to do that right, and there are fewer who have the
     time.  Uptake by a vendor or two would be good.</q>"  This
     filesystem has been waiting on the sidelines for a very long time, and
     no prospective merge is yet in sight.
<p>
<li> The <a href="http://lwn.net/Articles/184750/">generic IRQ code</a> is
     said to be "still stabilizing" and more likely to be merged in
     2.6.19.  That is also the case for the <a
     href="http://lwn.net/Articles/185666/">lock validator</a>.
</ul>
<p>

All of this is subject to change when the merge window actually opens.
Developers are making cases for specific patches; Ingo Molnar is asking for
reconsideration of the generic IRQ and lock validator patches, for
example.  Watch this space in the coming weeks to see what really happens.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Development_model">Development model</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/186427/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor186660"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Personal thoughts of Reiser 4 and the Kernel</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 8, 2006 2:52 UTC (Thu)
                               by <b>pr1268</b> (subscriber, #24648)
                              [<a href="/Articles/186660/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <p>I think it's sad that the Reiser 4 FS code continues to sit and simmer.  Granted, I realize how much difficulty Hans', <a title="Reiser FS Acknowledgements" link="http://www.namesys.com/X0reiserfs.html#ackn">Vladimir Savelijev's</a>, and the fellow Reiser 4 developers' code has given the Kernel developers - I <i>do</i> respect the developers' high standards - but I also agree with Andrew that it can't sit much longer.</p>

<p>Does this whole debate (going on since 2003?) about Reiser 4 and the Linux Kernel truly espouse the philosophies of open source? Or, am I blind to part of this debate?</p>

<p>Thank you for allowing me to share my thoughts.</p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/186660/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor186674"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Personal thoughts of Reiser 4 and the Kernel</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 8, 2006 5:09 UTC (Thu)
                               by <b>cventers</b> (guest, #31465)
                              [<a href="/Articles/186674/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      Unfortunately I think Reiser4 has been held back by a bit of politics on <br>
both sides. My observation is that Hans and his team are brilliant, and so <br>
are many of the kernel people that object, and since there has been heat <br>
in the past, well - you probably get where I'm going with this.<br>
<p>
I wonder what the remaining complaints are at this point. If it's just <br>
stylistic I'd say that it's silly to keep it out as it's a filesystem (not <br>
a piece of core code). If people aren't getting hit with panics or data <br>
munching bugs, and the code is reasonably good, why has it been held up <br>
for _so_ long?<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/186674/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor186687"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Personal thoughts of Reiser 4 and the Kernel</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 8, 2006 7:39 UTC (Thu)
                               by <b>Los__D</b> (guest, #15263)
                              [<a href="/Articles/186687/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <p><i>If it's just
stylistic I'd say that it's silly to keep it out as it's a filesystem (not
a piece of core code).</i></p>

<p>Wasn't one of the gripes that it touches major pieces of the core VFS, not just it's own? If it's still so, I can see a <b>VERY</b> good reason to be perfectionist about this.</p>

<p>It's quite a while since I followed the discussion though, so they might already have been forced to pull the VFS parts out.</p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/186687/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor186706"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Personal thoughts of Reiser 4 and the Kernel</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 8, 2006 9:11 UTC (Thu)
                               by <b>cventers</b> (guest, #31465)
                              [<a href="/Articles/186706/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      I think you may be misremembering this a bit. To my recollection, one of <br>
the key friction points was that reiser4 developed this whole new concept <br>
of plugins, which was _very_ similar to the VFS. Kernel developers don't <br>
want abstraction layers hanging off of abstraction layers. So it really <br>
wasn't that they were abusing the VFS, it was just that they were building <br>
their own VFS under the VFS.<br>
<p>
It was suggested that they take the differences in their plugin system and <br>
build those capabilities into the VFS itself, so that it would be <br>
available to every filesystem.<br>
<p>
I'm not sure what the status of the code is these days. I would imagine <br>
that enough time has gone by that many of these things have been <br>
addressed, and reiser4 is probably a lot closer to being ready for <br>
mainline (if it isn't already).<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/186706/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor186827"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Personal thoughts of Reiser 4 and the Kernel</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 8, 2006 17:08 UTC (Thu)
                               by <b>Los__D</b> (guest, #15263)
                              [<a href="/Articles/186827/">Link</a>] 
      </p>
      
      </div>
      </summary>
      *plonk*<br>
<p>
Yep, it was that way around! :)<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/186827/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
<a name="CommAnchor186821"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">some dismay has been expressed</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 8, 2006 16:40 UTC (Thu)
                               by <b>wilck</b> (guest, #29844)
                              [<a href="/Articles/186821/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <blockquote><em>In particular, some dismay has been expressed regarding how long it can take to get drivers into the mainline.</em></blockquote>

<p>Does anyone have link (thread)?
      
          <div class="CommentReplyButton">
            <form action="/Articles/186821/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor186835"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">some dismay has been expressed</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 8, 2006 17:43 UTC (Thu)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/186835/">Link</a>] 
      </p>
      
      </div>
      </summary>
      The quote of the week is from that thread.  The starting point would appear to be <a href="http://thread.gmane.org/gmane.linux.kernel/412622">this note from Jeff Garzik</a>.
      
          <div class="CommentReplyButton">
            <form action="/Articles/186835/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor188175"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">some dismay has been expressed</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 16, 2006 21:23 UTC (Fri)
                               by <b>gdamjan</b> (subscriber, #33634)
                              [<a href="/Articles/188175/">Link</a>] 
      </p>
      
      </div>
      </summary>
      The chicken or egg problem with new drivers in kernel code (drivers don't get enough testing when outside of the tree, kernel devs don't trust code that's not been used) can be solved by easying the process of appling outside patches for early adopters. <br>
<p>
For example, for kernels I compile for desktop/laptop use I don't care if I integrate some exeperimental wifi drivers. But the manual proces of searching for patches, applying them, recompilling, not forgetting to compile for each kernel version etc.. is really hard. <br>
<p>
What would be great if there's a repository of 'for testing' patches, that would be liberal about who&amp;how can put patches there. And an integrated method in the kernel-build-proccess to pull and apply those patches. I think git should be pretty good at cherry-picking patches? The info about which patches were added should be saved in .config, so I would only need that one file in any kernel-source, run 'make update' - get's the testing but also -stable patches, make oldconfig and make to have the latest stable kernel with the latest testing patches.<br>
<p>
This should really be part of the kernel(-build-process).<br>
<p>
<p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/188175/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2006, Eklektix, Inc.<BR>
            
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
