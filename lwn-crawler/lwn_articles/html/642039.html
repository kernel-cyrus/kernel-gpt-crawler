        <!DOCTYPE html>
        <html lang="en">
        <head><title>The 4.1 merge window closes [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/642039/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/641581/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/642039/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>The 4.1 merge window closes</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>LWN.net needs you!</b>
<p>
Without subscribers, LWN would simply not exist.  Please consider
       <a href="/Promo/nst-nag2/subscribe">signing up for a subscription</a> and helping
       to keep LWN publishing.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>April 28, 2015</br>
           </div>
By the time Linus released <a href="/Articles/641911/">4.1-rc1</a> and
closed the merge window for this development cycle, some 10,659 non-merge
changesets had been pulled into the mainline repository.  That makes 4.1 a
reasonably busy development cycle, but far from the busiest; 3.19 had
11,400 changes during the merge window, and 3.15, the record holder, had
just over 12,000.  Even if 4.1 is not a record breaker, though, anybody who
worried that 4.0 signaled a general slowdown 
in kernel development can rest easier now.
<p>
Only about 900 of those changesets were pulled since <a
href="/Articles/641016/">last week's summary</a>, but there were some
interesting changes buried in that last batch.  Some of the more
significant, user-visible changes include:
<p>
<ul>
<li> The XFS filesystem has gained <tt>RENAME_WHITEOUT</tt> support,
     meaning that it should now work with the overlayfs union filesystem.
     Also new in XFS is support for the <a
     href="/Articles/629965/"><tt>FALLOC_FL_INSERT_RANGE</tt></a> option to
     <tt>fallocate()</tt>, allowing applications to insert a hole into a
     file. 
<p>
<li> The Btrfs filesystem has seen some important fixes, though they may
     not be hugely relevant for many users: they apply to filesystems 20TB and
     larger or to individual files that are 3TB or larger.
<p>
<li> The <a href="/Articles/239238/">virtio</a> subsystem has a new
     virtio-input driver; its job is to collect and forward input-device
     events to a virtual device.
<p>
<li> The arm64 architecture has gained support for the Advanced
     Configuration and Power Interface, otherwise known as ACPI.
     Supporting ACPI for ARM <a href="/Articles/574439/">has been
     controversial</a> in the past; many 
     developers would rather see the device tree mechanism used universally
     for hardware discovery on that architecture.  The addition of ACPI
     happened quietly in the end, though, and it seems likely that there
     will be servers using ACPI shipping in the near future.  That said,
     there is still some work to do; the <a
     href="http://git.kernel.org/linus/836ee4874e201a5907f9658fb2bf3527dd952d30">merge
     commit</a> notes that "<q>we don't support any
     peripherals yet, so it's fairly limited in scope.</q>"  See <a
     href="/Articles/642050/">Documentation/arm64/arm-acpi.txt</a> for a
     lot of information about ACPI on ARM.
<p>
<li> The MD (RAID) subsystem can now manage RAID&nbsp;1 arrays in a
     distributed fashion 
     across a cluster.  This code is currently marked as being
     experimental, but it is evidently nearing a production-ready state.
<p>
<li> New hardware support includes:
     <p>
     <ul>
     <li> <b>DMA</b>:
     	  Ingenic JZ4780 DMA controllers,
	  Renesas USB-DMA controllers,
	  Applied Micro X-Gene SoC DMA engines, and
	  Freescale RAID engines.
     <p>
     <li> <b>Miscellaneous</b>:
     	  ChromeOS embedded controllers,
	  ChromeOS "lightbar" devices, and
	  Dell keyboard backlights.
     </ul>
</ul>
<p>
Changes visible to kernel developers include:
<p>
<ul>

<li> The "exception table" lists locations in the kernel that might
     generate faulting address references; in essence, the table contains a
     list of every invocation of <tt>copy_*_user()</tt> and related
     functions.  When a fault happens in kernel mode, this table is
     consulted to see whether the fault was expected or not.  This
     mechanism allows the kernel to safely access user-space data without
     having to explicitly check each pointer before dereferencing it.
     <p>
     Each loadable module has an exception table of its own to
     mark such invocations.  As of 4.1, the module loader will actively
     check to ensure that every exception-table entry points to a location
     within the module's executable text.  Any entry not pointing to a
     known text section must be erroneous, but evidently they come up,
     especially in situations where a new executable section is being added
     to the kernel.  Developers will want to watch out for this new type of
     failure, especially when working on the less-mainstream architectures.

</ul>
<p>
One thing that did not get merged this time around was the kdbus
interprocess communication system.  Linus did not comment on his decision
to leave it out, but it seems clear that this code was too controversial to
be pulled straight into the mainline.  Now both the supporters of kdbus and
those who are concerned about aspects of its design have another
development cycle to discuss the issues, and, hopefully, come to some sort
of conclusion that allows kdbus to proceed.
<p>
Meanwhile, the 4.1 kernel is now in the stabilization phase of the
development cycle.  If things follow the recent pattern, the final 4.1
kernel release will happen on June&nbsp;14.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-4.1">Releases/4.1</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/642039/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor643026"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">kdbus</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted May 3, 2015 18:35 UTC (Sun)
                               by <b>smurf</b> (subscriber, #17840)
                              [<a href="/Articles/643026/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Seems that Linus has a few issues like "remove kdbus access to cmdline/comm" (because it's an anti-feature and everything you could possibly do with that information you should do some other way, or not at all) and "collect user credentials the right way". Seems reasonable and good for the next merge window if that gets fixed.<br>
<p>
I don't think the "controversy" has any bearing on the matter. Frankly, most of them follow the "they complain about A, we changed that to B, now they complain about B because it's not A-ish enough" meme/timeline.<br>
<p>
<a href="http://news.gmane.org/find-root.php?message_id=CA%2b55aFwNP%2b7A9U1M5xCJ4feY1hYMcU7LNP2ALw0jgn0f2Py0Tg%40mail.gmail.com">http://news.gmane.org/find-root.php?message_id=CA%2b55aFw...</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/643026/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2015, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
