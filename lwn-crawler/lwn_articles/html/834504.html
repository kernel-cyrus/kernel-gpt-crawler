        <!DOCTYPE html>
        <html lang="en">
        <head><title>The rest of the 5.10 merge window [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/834504/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/834925/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/834504/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>The rest of the 5.10 merge window</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>We're bad at marketing</b>
<p>
We can admit it, marketing is not our strong suit. Our strength is
writing the kind of articles that developers, administrators, and
free-software supporters depend on to know what is going on in the
Linux world. Please <a href="/Promo/nsn-bad/subscribe">subscribe today</a> to help us keep doing that, and so
we don’t have to get good at marketing.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>October 26, 2020</br>
           </div>
Linus Torvalds <a
href="/ml/linux-kernel/CAHk-=whcRFYSm0jj3Xh3xCyBaxCHA1ZMNO0h_gZso_WZFDUtiQ@mail.gmail.com/">released
5.10-rc1</a> and closed the 5.10 merge window 
on October&nbsp;25; by that time, 13,903 non-merge changesets had
been pulled into the mainline repository.  Of those, over 6,700 were merged
since <a href="/Articles/834157/">LWN's summary</a> of the first half of
the merge window.  A fair number of interesting features found their way
into the kernel among those commits; read on to catch up with what's coming
in&nbsp;5.10.
<p>

<h4>Architecture-specific</h4>
<p>
<ul class="spacylist">

<li> The s390 architecture has never quite gotten the hang of leap seconds;
     when a leap second happens, the system must be rebooted to make its
     time reflect the new reality.  This, as noted in <a
     href="https://git.kernel.org/linus/b2539aa0d7ff">this commit</a>,
     "<q>is not desired</q>".  As of 5.10, s390 systems will be able
     to adjust to leap seconds on the fly.
<li> The MIPS architecture can now boot kernels compressed with the zstd
     algorithm.
<li> The RISC-V architecture has gained support for booting on systems with
     EFI firmware.
<li> Support for non-devicetree i.MX platforms has been removed after
     having seen no activity for some years.
</ul>


<p>
<h4>Core kernel</h4>
<p>
<ul class="spacylist">

<li> Some types of BPF programs <a href="/Articles/825415/">can now
     sleep</a> during their execution.  This feature is limited to tracing
     and security-module programs for now.
<li> The new <tt>BPF_PROG_BIND_MAP</tt> command for the <a
     href="https://man7.org/linux/man-pages/man2/bpf.2.html"><tt>bpf()</tt></a>
     system call binds a map to a loaded program; its purpose is to
     facilitate the storage of metadata that the program involved does not
     use directly.
<li> BPF programs can now access per-CPU variables with the
     <tt>bpf_per_cpu_ptr()</tt> and <tt>bpf_this_cpu_ptr()</tt> helper
     functions. 
<li> The <tt>process_madvise()</tt> system call has been added; it allows
     one process to perform an <a
     href="https://man7.org/linux/man-pages/man2/madvise.2.html"><tt>madvise()</tt></a>
     call on behalf of another.  <tt>process_madvise()</tt> was covered in
     <a href="/Articles/810076/">this January 2020 article</a> but the API
     has changed since then; see <a
     href="https://git.kernel.org/linus/ecb8ac8b1f14">this commit</a> for
     the merged version.
</ul>

<p>
<h4>Filesystems and block I/O</h4>
<p>
<ul class="spacylist">

<li> The overlay filesystem has a new "volatile" mode that causes it to
     ignore all forms of <a
     href="https://man7.org/linux/man-pages/man2/fsync.2.html"><tt>fsync()</tt></a>
     calls.  That is, of course, a dangerous mode to operate in, but it is
     evidently helpful for tasks like image builds where, should the system
     die in the middle, one can just start over.  See <a
     href="https://git.kernel.org/linus/c86243b090bc">this commit</a> for
     some details.
<li> The <a href="/Articles/794364/">zonefs filesystem</a> has gained a new
     <tt>explicit-open</tt> mount option.  If that option is present,
     opening a file for writing will force the associated zone to be made
     active on the device.  This guarantees that a zone that is
     successfully opened can be successfully written to later.  <a
     href="https://git.kernel.org/linus/48bfd5c6fac1">This documentation
     patch</a> has a little more information.
<li> The XFS V4 filesystem format has been deprecated; users are expected
     to upgrade to the more-capable V5 format.  That said, V4 will be
     supported until at least 2030, so users have some time to make this
     change. 
<li> The ext4 filesystem has a new "fast commits" mode that can
     significantly reduce the latency of many file operations.  The claimed
     performance improvements are large; see <a
     href="/ml/linux-ext4/20201015203802.3597742-1-harshadshirwadkar@gmail.com/">this
     patch posting</a> for some benchmark results along with a discussion
     of the fast commits feature in general.
<li> The new <tt>nosymfollow</tt> mount option prevents path resolution
     from following symbolic links on the mounted filesystem.  This option
     does not prevent applications from using <a
     href="https://www.man7.org/linux/man-pages/man2/readlink.2.html"><tt>readlink()</tt></a>
     and following symbolic links themselves, though.
</ul>

<p>
<h4>Hardware support</h4>
<p>
<ul class="spacylist">

<li> <b>Clock</b>:
     Micro Crystal RV3032 realtime clocks,
     R-Car V3U clocks,
     Allwinner A100 clock control units,
     MediaTek MT8167 clock controllers, and
     Qualcomm SM8150 and SM8250 display clock controllers.
<li> <b>Miscellaneous</b>:
     Vivaldi keyboards,
     Renesas RPC-IF HyperBus controllers,
     Ricoh RN5T618 charger/fuel gauges,
     TI BQ25980 battery chargers,
     Mellanox BlueField I2C controllers,
     joysticks connected via analog-to-digital converters,
     Zinitix touchscreens,
     Toshiba Visconti watchdog timers, and
     TI R5F remote processor subsystems.
<li> <b>Networking</b>:
     MediaTek MT7531 Ethernet switches,
     Marvell Prestera switches, and
     Microchip MCP25xxFD SPI CAN controllers.
</ul>


<p>
<h4>Networking</h4>
<p>
<ul class="spacylist">

<li> It is now possible to load a BPF program that can modify TCP header
     options on packets as they pass through the system.  See the changelog
     in <a href="https://git.kernel.org/linus/0813a841566f">this commit</a>
     for some information.
<li> The merging of <a href="/Articles/544399/">multipath TCP</a> support
     continues; 5.10 will have the ability to transmit data on multiple
     flows simultaneously.
<li> The IGMPv3/MLDv2 multicast protocol (<a
     href="https://tools.ietf.org/html/rfc4604">RFC 4604</a>) is now
     supported. 
<li> The ISO 15765-2:2016 CAN transport protocol is now supported.
</ul>


<p>
<h4>Security-related</h4>
<p>
<ul class="spacylist">

<li> The <a
     href="https://www.kernel.org/doc/html/latest/admin-guide/LSM/SafeSetID.html">SafeSetID
     security module</a> has gained the ability to control group-ID changes
     as well.
</ul>

<p>
<h4>Virtualization and containers</h4>
<p>
<ul class="spacylist">

<li> The KVM hypervisor can now defer to a user-space process to handle
     accesses to unknown model-specific registers (MSRs).  See <a
     href="https://git.kernel.org/linus/1ae099540e8c">this commit</a> for
     some more information and <a
     href="https://git.kernel.org/linus/1a155254ff93">this commit</a> for a
     filtering mechanism that gives more control over MSR handling.

</ul>




<p>
<h4>Internal kernel changes</h4>
<p>
<ul class="spacylist">

<li> The <a href="/Articles/486301/">contiguous memory allocator</a>
     has gained optional NUMA awareness; using it requires setting the
     <tt>DMA_PERNUMA_CMA</tt> configuration option and booting with the
     <tt>cma_pernuma=</tt> command-line option to specify the size of the
     per-NUMA space.  The DMA mapping layer has been updated to use this
     feature if it is enabled.
<li> There is a new API for allocating non-coherent DMA areas; see <a
     href="https://git.kernel.org/linus/0d71675f87dc">this documentation
     patch</a> for more information.  There is also a new function
     (<tt>dma_direct_alloc_pages()</tt>) for obtaining DMA-addressable
     memory directly from the page allocator.
<li> Changes have been made to <tt>prandom_u32()</tt>, as <a
     href="/Articles/828705/">discussed in August</a>, to address some
     theoretical security issues there.  The new code uses a variant of the
     SipHash hashing function to generate pseudo-random numbers and has
     added some internal entropy sources.
</ul>
<p>
Now the time has come to find and fix the remaining bugs in all of that
code.  That process will continue over the next seven or eight weeks,
culminating on a final 5.10 release on December&nbsp;13 or&nbsp;20.  As the
final release for 2020, 5.10 will probably become the next
long-term-support kernel as well so, in a real sense, the work on 5.10 will
only be beginning when that release happens in December.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-5.10">Releases/5.10</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/834504/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor835304"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 5.10 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 26, 2020 17:37 UTC (Mon)
                               by <b>xjtuwjp</b> (subscriber, #91330)
                              [<a href="/Articles/835304/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I thought 5.9 is the LTS, because every 5 release one LTS, but checked in kernel.org, it is not the case <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/835304/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor835321"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 5.10 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 26, 2020 18:08 UTC (Mon)
                               by <b>mfuzzey</b> (subscriber, #57966)
                              [<a href="/Articles/835321/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It&#x27;s normally the last kernel release of the year that is designated LTS<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/835321/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor835343"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 5.10 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 26, 2020 22:00 UTC (Mon)
                               by <b>Paf</b> (subscriber, #91811)
                              [<a href="/Articles/835343/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
My understanding is Greg very explicitly doesn’t stick to a schedule or advertise the LTS selection very far in advance (If it’s in advance at all?), because he doesn’t want features getting rushed in to make the LTS release, etc.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/835343/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor835462"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 5.10 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 28, 2020 14:39 UTC (Wed)
                               by <b>knurd</b> (subscriber, #113424)
                              [<a href="/Articles/835462/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; My understanding is Greg very explicitly doesn’t stick to a schedule </font><br>
<p>
Yes, there is no &quot;schedule&quot;, but he follows a quite predictable scheme (that iirc even got mentioned here in a LWN.net article somewhere): he alwys picks the latest mainline release as new longterm kernel at the start of the year. And that scheme means that 5.15 will likely be the overnext longterm kernel. For details see these tweets:<br>
<p>
<a href="https://twitter.com/kernellogger/status/1321446705594773508">https://twitter.com/kernellogger/status/1321446705594773508</a><br>
<a href="https://twitter.com/gregkh/status/1321459550994784259">https://twitter.com/gregkh/status/1321459550994784259</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/835462/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor835346"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 5.10 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 26, 2020 23:09 UTC (Mon)
                               by <b>vivo</b> (subscriber, #48315)
                              [<a href="/Articles/835346/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It&#x27;s never marked as LTS from the beginning, it happen later even much later<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/835346/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor835353"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 5.10 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 27, 2020 9:07 UTC (Tue)
                               by <b>zuki</b> (subscriber, #41808)
                              [<a href="/Articles/835353/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Reportedly 5.10 will be LTS: <a href="https://twitter.com/kernellogger/status/1320731458311491587">https://twitter.com/kernellogger/status/1320731458311491587</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/835353/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor840028"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 5.10 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 14, 2020 6:41 UTC (Mon)
                               by <b>pflykt</b> (subscriber, #2757)
                              [<a href="/Articles/840028/">Link</a>] 
      </p>
      
      </div>
      </summary>
      For Multipath TCP there is a newer <a href=https://lwn.net/Articles/800501/>newer lwn article</a> that explains the current effort. For the upstreamed implementation one also needs the <a href=https://github.com/intel/mptcpd>user space mptcp daemon</a>. 
      
          <div class="CommentReplyButton">
            <form action="/Articles/840028/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2020, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
