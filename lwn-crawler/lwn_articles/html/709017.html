        <!DOCTYPE html>
        <html lang="en">
        <head><title>4.10 Merge window part 1 [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/709017/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/708476/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/709017/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>4.10 Merge window part 1</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Ready to give LWN a try?</b>
<p>
With a subscription to LWN, you can stay current with what is happening in the Linux and free-software community and take advantage of subscriber-only site features.  We are pleased to offer you <b><a href="https://lwn.net/Promo/nst-trial/claim">a free trial subscription</a></b>, no credit card required, so that you can see for yourself.  Please, join us!
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>December 14, 2016</br>
           </div>
When Linus Torvalds <a href="/Articles/708766/">released the 4.9 kernel</a>
on December&nbsp;11, he repeated his warning that the 4.10 merge window
would be shorter than usual to accommodate the holidays.  Maintainers were
advised to get their pull requests in early, and many have gotten the word.
As of this writing, three days into the 4.10 merge window, 
nearly 6,900 non-merge changesets have been pulled into the mainline
repository, a pace that seems likely to continue for a while.
<p>
Some of the more interesting user-visible changes merged so far are:
<p>
<ul>
<li> The <a href="/Articles/682582/">writeback throttling patches</a> have
     been merged; this should help to keep systems more responsive in the
     face of heavy background writeback activity.
<p>
<li> The arm64 architecture has gained support for user-space probes (uprobes).
     Also, arm64 can now emulate the "privileged access never" feature, keeping
     the kernel from accessing user-space memory in unintended ways.
<p>
<li> The networking layer now supports per-UID network packet routing, a
     feature brought in from the Android world, where it is used to
     configure per-app routing policies.
<p>
<li> Support for <a
     href="https://tools.ietf.org/html/draft-ietf-spring-segment-routing-09">IPv6
     segment routing</a>, a source-routing mechanism, has been added to the
     networking code.
<p>
<li> There is a new BPF map type that implements a least-recently-used
     (LRU) list.  Said new map type does not, unfortunately, come with any
     new documentation describing how it works.  The curious can glean some
     information from <a
     href="https://git.kernel.org/linus/3a08c2fd763450a927d1130de078d6f9e74944fb">this
     changelog</a> and <a
     href="https://git.kernel.org/linus/5db58faf989f16d1d6a3d661aac616f9ca7932aa">the
     test code</a>.
<p>
<li> It is now possible <a href="/Articles/698073/">to attach a BPF program
     to a control group</a> which then performs network filtering for all
     processes within that group.
<p>
<li> BPF programs can be attached to the networking lightweight tunnel
     infrastructure; these programs can make observations about passing
     traffic or modify that traffic on the fly.  The <a
     href="https://git.kernel.org/linus/f74599f7c5309b21151233b98139e9b723fd1110">sample
     code</a> shows how this facility can be used.
<p>
<li> The netfilter subsystem has gained support for "stateful objects",
     counters and quotas in particular.  See <a
     href="https://marc.info/?l=netfilter-devel&m=148029128323837&w=2">this
     post</a> for some information on this feature.
<p>
<li> On EFI-firmware systems, the kernel can now store some random data as
     a firmware variable, then use it at boot time to initialize the
     random-number generator.  This allows entropy to be carried over from
     one boot to the next and should make for stronger randomness
     immediately after the system boots.
<p>
<li> The perf events subsystem and user-space tooling have seen a lot of
     changes this time around; see <a
     href="https://git.kernel.org/linus/bca13ce4554ae9cf5083e5adf395ad2266cb571b">this
     commit message</a> for a list.
<p>
<li> The "mediated device" mechanism allows software-defined devices to be
     made available via <a href="/Articles/474088/">the VFIO interface</a>.
     It is intended to facilitate 
     making devices available to virtualized guests.  See <a
     href="/Articles/709029/">Documentation/vfio-mediated-device.txt</a>
     for details.
<p>
<li> The user-space LED driver subsystem has been merged; see <a
     href="/Articles/709024/">Documentation/leds/uleds.txt</a> and <a
     href="/Articles/703785/">this article</a> for more information.
<p>
<li> New hardware support includes:
     <p>
     <ul>
     <li> <b>Processors and systems</b>:
     	  Intel CPUs with "Turbo Boost Max Technology".
     <p>
     <li> <b>Clocks</b>:
	  Mediatek MT2701 clocks,
	  Qualcomm MSM8994 global clock controllers,
	  Qualcomm MSM8994 pin controllers,
	  Qualcomm RPM-based clock controllers,
	  HiSilicon Hi3798CV200 and HI3516CV300 clock controllers,
	  Allwinner A64 clock controllers, and
	  Renesas r8a7743 and r8a7745 clock pulse generators.
     <p>
     <li> <b>Graphics</b>:
	  Silicon Image SII8620 HDMI/MHL bridges,
	  TI TFP410 DVI/HDMI bridges,
	  ZTE VOU display controllers,
	  Hisilicon Hibmc GPUs,
	  NXP i.MX23/i.MX28/i.MX6SX MXSFB LCD controllers, and
	  Amlogic Meson display controllers.
     <p>
     <li> <b>Industrial I/O</b>:
     	  Analog Devices AD7766/AD7767 analog-to-digital controllers (ADCs),
	  ST Microelectronics STM32 ADCs, 
	  Texas Instruments LMP91000 potentiostats,
	  Texas Instruments TMP108 temperature sensors,
	  Honeywell ABP pressure sensors,
	  ACCES 104-QUAD-8 quadrature encoders,
	  Domintech ARD10 3-axis accelerometers,
	  MiraMEMS DA311 and DA280 digital accelerometers,
	  STMicroelectronics HTS221 temperature-humidity sensors, and
	  Invensense MPU-3050 gyroscopes.
     <p>
     <li> <b>Miscellaneous</b>:
     	  ST FDMA DMA engines,
	  Altera Arria10 system resource GPIO controllers,
	  NI PXI NIC78bx LED controllers,
	  Amlogic S905/GX* SD/MMC host controllers,
	  Cadence SD/SDIO/eMMC host controllers,
	  Qualcomm ADSP peripheral image loaders,
	  Synopsis Designware I2S audio interfaces,
	  Analog Devices ADV7511 HDMI Audio interfaces,
	  MediaTek USB3 dual role USB controllers,
	  NXP LPC18XX one-time programmable memory,
	  Broadcom one-time programmable memory controllers,
	  Holtek Ht16K33 LED controllers,
	  Altera SoCFPGA Arria10 FPGA programmers,
	  Fintek F81532/534 USB-to-serial adapters,
	  Marvell Armada 3700 SPI controllers,
	  Freescale i.MX LPSPI controllers, and
	  Microchip TC654/TC655 fan controllers.
     <p>
     <li> <b>Networking</b>:
     	  Mellanox Technologies SwitchIB and SwitchIB-2 Infiniband switches,
	  Oxford Semiconductor OXNAS dwmac Ethernet controllers,
	  Amlogic Meson GXL Internal PHYs,
	  QorIQ DPAA Ethernet controllers, and
	  Alacritech Slicoss gigabit Ethernet cards.
     </ul>

</ul>
<p>
Changes visible to kernel developers include:
<p>
<ul>

<li> The new <tt>CONFIG_BUG_ON_DATA_CORRUPTION</tt> config variable will
     cause the kernel to oops when data corruption is detected; it is
     currently applied to the linked-list implementation.
<p>
<li> The low-level mutex implementation <a href="/Articles/699784/">has been
     rewritten</a> to get rid of most of the architecture-specific code.
<p>
<li> The CPU-idle notifier has been deleted after the final user was
     removed from the kernel.
<p>
<li> All existing CPU hotplug notifiers have been converted to <a
     href="/Articles/537562/">the new state-machine architecture</a> and
     the notifier mechanism itself is set to be removed by the end of the
     merge window.
<p>
<li> The configuration mechanism recognizes <a
     href="https://git.kernel.org/linus/237e3ad0f195d8fd34f1299e45f04793832a16fc">a
     new <tt>imply</tt> keyword</a>.  It functions like <tt>select</tt>
     except that the named option can still be turned off manually if
     desired. 
<p>
<li> The new <tt>vfree_atomic()</tt> function frees memory like
     <tt>vfree()</tt>; that freeing is deferred to a workqueue, though, so
     this function can be called in atomic context.
<p>
<li> There is a new mechanism for tracking functional dependencies between
     otherwise unrelated devices; see <a
     href="https://static.lwn.net/kerneldoc/driver-api/device_link.html">the
     documentation</a> for details. 
<p>
<li> The s390 architecture can now make use of the <a
     href="/Articles/486301/">contiguous memory allocator</a> subsystem.
</ul>
<p>

The 4.10 merge window would normally be expected to close on
December&nbsp;25, but it is clear that the merging of patches will stop by
the 23rd at the latest.  There are a number of important repositories yet
to be pulled, so we can expect there to be a fair number of changes merged
before that date.  As usual, LWN will continue to follow the merge window
through the end.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-4.10">Releases/4.10</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/709017/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor709720"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">4.10 Merge window part 1</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 20, 2016 16:55 UTC (Tue)
                               by <b>riteshsarraf</b> (subscriber, #11138)
                              [<a href="/Articles/709720/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Delighted to read that the writeback throttling patches are now mainline. One less external patch to apply.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/709720/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor712417"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">4.10 Merge window part 1</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jan 24, 2017 23:36 UTC (Tue)
                               by <b>jospoortvliet</b> (guest, #33164)
                              [<a href="/Articles/712417/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Testing now and - working as expected. Finally no more stalls due to heavy I/O!<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/712417/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2016, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
