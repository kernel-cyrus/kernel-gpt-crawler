        <!DOCTYPE html>
        <html lang="en">
        <head><title>Synchronized GPU priority scheduling [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/873334/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/873624/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/873334/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>Synchronized GPU priority scheduling</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Ready to give LWN a try?</b>
<p>
With a subscription to LWN, you can stay current with what is happening in the Linux and free-software community and take advantage of subscriber-only site features.  We are pleased to offer you <b><a href="https://lwn.net/Promo/nst-trial/claim">a free trial subscription</a></b>, no credit card required, so that you can see for yourself.  Please, join us!
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>October 22, 2021</br>
           </div>
Since the early days, Unix-like systems have implemented the concept of
process priorities, where higher-priority processes are given more
CPU time to get their work done.  Implementations have changed, and
alternatives (such as <a href="/Articles/743740/">deadline scheduling</a>)
are available for specialized situations, but the core priority (or, in an
inverted sense, "niceness") concept 
remains essentially the same.  What should happen, though, in a world where
increasing amounts of computing work is done outside of the CPU?  Tvrtko
Ursulin has put together <a
href="/ml/linux-kernel/20211004143650.699120-1-tvrtko.ursulin@linux.intel.com/">a
patch set</a> showing how the nice mechanism can be extended to GPUs as
well.
<p>
As Ursulin describe the situation, the "<q>current processing landscape
seems to be more and more composed of pipelines where computations are done
on multiple hardware devices</q>".  The kernel directly controls the
availability of CPU time for the work that is actually done on the CPU.
But, increasingly, computing work is offloaded to GPUs, AI accelerators, or
cryptocurrency-mining peripherals.  Those processors, while capable, can also be
overloaded by the demands placed on them.  If they run their workloads in a
way that disagrees with the kernel's idea of process priorities, the end
result may not be what the user would like to see.
<p>
As an example, Ursulin pointed out that the Chrome browser will lower the
priority of tabs that are not currently in the foreground.  If one of those
background tabs is doing a lot of rendering in the GPU, though, it may slow
down the 
foreground tab even though the background work is supposed to be running at
low priority. 
It turns out that at least some of these GPUs, including some
Intel i915 versions, can perform priority-based scheduling internally.  But
that requires informing the GPU of the relevant priorities, and
there is currently no way to communicate those decisions, which are
made in user space, to the GPU.  
<p>
Ursulin's approach is to add the concept of "context nice" to the i915
driver. This value, which is tied to the priority of the process submitting
work, is used with suitably capable GPUs to influence the
scheduling of that work.  This approach works, but only until
the priority of the process on the CPU is changed; if the browser switches
to a new tab and wants to increase its priority, continuing to run the
associated work on
the GPU side at a lower priority would not lead to greater user
satisfaction.  To avoid 
that problem, Ursulin's patch series  adds a new notifier to the
scheduler so that interested kernel subsystems can be informed whenever a
process's priority is changed.  The i915 driver then hooks into that
notifier so that it can update its priority information to keep up with the
CPU priority of any process that is running work on the GPU.
<p>
The notifier has turned out to be the most controversial part of this patch
set.  Ursulin noted that there could be security concerns with calling into
a device driver from deep within the scheduler whenever a process's
priority has changed.  John Wanghui <a
href="/ml/linux-kernel/562d45e1-4a27-3252-f615-3ab1ef531f2b@huawei.com/">suggested</a>
that a separate "I/O nice" value could be added to control priorities on
the GPU; this would be different from the "ionice" that already exists for
block I/O but would function in a similar way.  Barry Song, instead, <a
href="/ml/linux-kernel/CAGsJ_4wF1SmDL6eoEXRB-NwGLALkwhj9wLC5JKaQJpaQx1=5ZA@mail.gmail.com/">complained</a>
that the use of simple nice values is insufficient; it does not take into
account the effect of control groups or accumulated run time on actual
access to the CPU.  That could lead to scheduling results on the GPU that
would be inconsistent with what happens on the CPU.
<p>
Ursulin mostly <a
href="/ml/linux-kernel/382a4bd5-bb74-5928-be67-afbdc7aa3663@linux.intel.com/">agreed</a>
with Song's criticisms, but also made the claim that even just using the
process nice value is better than no control over execution priority on the
GPU at all.  This initial implementation could be extended later to include
support for control groups and such if that seemed warranted.  Meanwhile,
though, he has <a
href="/ml/linux-kernel/6818e34e-d41c-67b7-85dd-76d2e47bc078@linux.intel.com/">concluded</a>
that perhaps the scheduler notifier is not necessary after all.  By using
the current process priority whenever work is submitted to the GPU, similar
results 
would be obtained; the main difference is that a priority change would not
apply to work that had already been passed to the GPU.  The next version of
this patch set, it appears, will drop the notifier.
<p>
Ursulin has done some simple benchmark tests where a
graphical application is running alongside a "GPU hog" process.  If the GPU
hog is given a low priority, the graphical application is able to produce
significantly higher frame rates than it can in the absence of priority
control.  He concluded: "<q>So it appears the
feature can indeed improve the user experience</q>".  It thus seems
likely that some version of this work will eventually find its way into the
mainline; what remains to be seen is how much it will have to change before
it gets there.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Device_drivers-Accelerators">Device drivers/Accelerators</a></td></tr>
            <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Scheduler">Scheduler</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/873334/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor873856"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 24, 2021 16:07 UTC (Sun)
                               by <b>jezuch</b> (subscriber, #52988)
                              [<a href="/Articles/873856/">Link</a>] (49 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Personally, I would go as far as to -STOP the inactive tabs. Any tab I&#x27;m not looking at which is doing any kind of CPU or GPU work is a power virus for me.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873856/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873857"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 24, 2021 16:09 UTC (Sun)
                               by <b>NYKevin</b> (subscriber, #129325)
                              [<a href="/Articles/873857/">Link</a>] (42 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Most end users want to get Slack (or any other in-browser chat app) notifications when they receive messages, even if the Slack (or whatever) tab is not focused.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873857/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873868"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 24, 2021 22:04 UTC (Sun)
                               by <b>k8to</b> (guest, #15413)
                              [<a href="/Articles/873868/">Link</a>] (30 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I suspect most users would be happier with a proper native client, but we can&#x27;t have nice things.<br>
<p>
Given being forced into using slack as it is by external factors though, yes I would prefer it to be able to run in the background, although in practice I give it a sandboxed browser session all to itself. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873868/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873871"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 24, 2021 23:43 UTC (Sun)
                               by <b>developer122</b> (guest, #152928)
                              [<a href="/Articles/873871/">Link</a>] (12 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Or maybe everyone just wants to do everything in a browser these days.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873871/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873875"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 1:06 UTC (Mon)
                               by <b>NYKevin</b> (subscriber, #129325)
                              [<a href="/Articles/873875/">Link</a>] (10 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Personally, I am very much tired of entirely-functional mobile sites telling me &quot;You should use our app, it&#x27;s so much better&quot; over and over again, when the only additional functionality you get with the app is notification spam.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873875/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873895"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 10:12 UTC (Mon)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/873895/">Link</a>] (9 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Of course that just means the website is out of date, because these days websites can *also* give you notification spam! (At least recent Android and all major web browsers let you shut them up again, but that&#x27;s rarely used...)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873895/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873917"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 14:50 UTC (Mon)
                               by <b>NYKevin</b> (subscriber, #129325)
                              [<a href="/Articles/873917/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
There is an option in Chrome&#x27;s settings to auto-deny that permission (and there&#x27;s a separate option to auto-deny audio, which is also handy). I have no idea if other browsers have a similar setting.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873917/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor874021"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 26, 2021 13:59 UTC (Tue)
                               by <b>LtWorf</b> (subscriber, #124958)
                              [<a href="/Articles/874021/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The problem with chrome is that if you deny a permission to a website, it tells the website the permission is denied. Causing the website to forever nag you to grant the permission.<br>
<p>
In a better world websites (that are in general malicious and hostile software) would be given an API that always returns success.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/874021/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor874047"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 26, 2021 16:02 UTC (Tue)
                               by <b>fenncruz</b> (subscriber, #81417)
                              [<a href="/Articles/874047/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Though someone would probebrly come up with some JavaScript timing attack to work out if it&#x27;s a real success or a faked success.<br>
<p>
Then somehow work out how to use that to fingerprint you to send you even more ads.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/874047/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor874056"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 26, 2021 18:13 UTC (Tue)
                               by <b>LtWorf</b> (subscriber, #124958)
                              [<a href="/Articles/874056/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I think they already have imprecise timers provided by browsers to js, to mitigate exactly this kind of attacks.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/874056/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor874324"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 29, 2021 9:15 UTC (Fri)
                               by <b>taladar</b> (subscriber, #68407)
                              [<a href="/Articles/874324/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
That would require the browser to simulate a convincing accept permission scenario for each of those permissions though (e.g. white noise from a microphone,...)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/874324/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor874334"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 29, 2021 12:40 UTC (Fri)
                               by <b>mathstuf</b> (subscriber, #69389)
                              [<a href="/Articles/874334/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Given the myriad audio issues I&#x27;ve seen, it could just simulate pulling from the &quot;wrong&quot; microphone source that happens to be silent :) . Or act as if it is muted in the audio pipeline.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/874334/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor874497"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 31, 2021 21:48 UTC (Sun)
                               by <b>NYKevin</b> (subscriber, #129325)
                              [<a href="/Articles/874497/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; In a better world websites (that are in general malicious and hostile software) would be given an API that always returns success.</font><br>
<p>
This is exactly what happens if you deny audio permission in Chrome (it just mutes the tab, and the site is none the wiser), because audio was not designed with a &quot;permissions&quot; system in the first place (there&#x27;s no standardized API by which Chrome, or any user agent, *could* indicate that the entire site, as a whole, is muted). Unfortunately, I don&#x27;t think any browser currently does this for notifications.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/874497/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor873906"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 27, 2021 2:29 UTC (Wed)
                               by <b>foom</b> (subscriber, #14868)
                              [<a href="/Articles/873906/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Website notification spam is opt in via permission dialog, while app notification spam is opt out via a difficult-to-discover notification configuration UI. That seems like it&#x27;s probably a huge advantage in &quot;user engagement&quot; for apps right there.<br>
<p>
Now, I&#x27;m sure there&#x27;s a way sites could detect that notifications are disabled and put up blocking popups saying &quot;Reddit is better with notifications enabled!&quot; which prevent you from using the site until you enable them...<br>
<p>
And, hey, maybe they&#x27;ll do that in the future for desktop users who can&#x27;t install the app. Can&#x27;t pass up a chance to piss off more people, right?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873906/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor874097"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 27, 2021 11:21 UTC (Wed)
                               by <b>mathstuf</b> (subscriber, #69389)
                              [<a href="/Articles/874097/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; while app notification spam is opt out via a difficult-to-discover notification configuration UI.</font><br>
<p>
Note that you can now long click on any notification to get access to this configuration UI.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/874097/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor873879"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 4:34 UTC (Mon)
                               by <b>rgmoore</b> (<b>&#x272D; supporter &#x272D;</b>, #75)
                              [<a href="/Articles/873879/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <p>As a practical matter, the browser has become something pretty close to a guest operating system.  The host OS still needs to be in overall control, but things like how to deal with individual tabs in the browser are better dealt with at the guest OS level rather than the host OS level.


      
          <div class="CommentReplyButton">
            <form action="/Articles/873879/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor873874"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 0:56 UTC (Mon)
                               by <b>roc</b> (subscriber, #30627)
                              [<a href="/Articles/873874/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
One very good reason to run Slack/Zoom/etc in the browser instead of a native client (or even an Electron client) is that it&#x27;s guaranteed to be far more secure. Browser sandbox security is state of the art ... random client apps, not so much.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873874/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873881"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 5:37 UTC (Mon)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/873881/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Corollary: when I close some annoying tab, I trust the &quot;guest OS&quot; (= browser) that it is totally, completely, utterly gone. With a regular OS it&#x27;s hit and miss.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873881/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873884"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 6:58 UTC (Mon)
                               by <b>weberm</b> (guest, #131630)
                              [<a href="/Articles/873884/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
And so it is with the browser as well. Closing a tab does not guarantee you closing the computing context of that tab&#x27;s JS.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873884/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873968"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 15:46 UTC (Mon)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/873968/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I suspect your reference-free comment alludes to PWAs and other &quot;Web Apps&quot;. I&#x27;m aware these (dangerously?) blur the lines but AFAIK these require some kind of explicit authorization.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873968/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor874077"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 26, 2021 22:15 UTC (Tue)
                               by <b>roc</b> (subscriber, #30627)
                              [<a href="/Articles/874077/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Not sure what you&#x27;re referring to. Service Workers maybe? They can respond to certain events with no same-origin tab activity, but the browser throttles them carefully so they don&#x27;t just keep running JS indefinitely. See <a href="https://stackoverflow.com/questions/29741922/prevent-service-worker-from-automatically-stopping">https://stackoverflow.com/questions/29741922/prevent-serv...</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/874077/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor873910"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 13:51 UTC (Mon)
                               by <b>dskoll</b> (subscriber, #1630)
                              [<a href="/Articles/873910/">Link</a>] (11 responses)
      </p>
      
      </div>
      </summary>
      <p>I'm not most users, but I hate Slack in both the native app and the browser, so I generally interact with it with an IRC gateway.  There are a few, but the one I've chosen is <a href="https://github.com/42wim/matterircd">matterircd</a>.  As a bonus, this also works nicely with my workplace's Mattermost installation.
<p>I configure the notifications I want from my IRC client (typically, just mentions of my nick.)



      
          <div class="CommentReplyButton">
            <form action="/Articles/873910/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873918"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 14:52 UTC (Mon)
                               by <b>NYKevin</b> (subscriber, #129325)
                              [<a href="/Articles/873918/">Link</a>] (10 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
There&#x27;s always one. <a href="https://xkcd.com/1782/">https://xkcd.com/1782/</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873918/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873937"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 15:16 UTC (Mon)
                               by <b>dskoll</b> (subscriber, #1630)
                              [<a href="/Articles/873937/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <p>Yes, exactly!  And I am that One! :)


      
          <div class="CommentReplyButton">
            <form action="/Articles/873937/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor874023"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 26, 2021 14:01 UTC (Tue)
                               by <b>LtWorf</b> (subscriber, #124958)
                              [<a href="/Articles/874023/">Link</a>] (8 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
When he wrote that, I&#x27;m sure slack didn&#x27;t have the option to let your boss read everything you write.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/874023/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor874025"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 26, 2021 14:37 UTC (Tue)
                               by <b>zdzichu</b> (subscriber, #17118)
                              [<a href="/Articles/874025/">Link</a>] (7 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I&#x27;m sure it had it. It&#x27;s basic feature in Data Leak Prevention. I doubt any company would select Slack for it&#x27;s internal communication  if there wasn&#x27;t a permanent record of all communication, for audit purposes.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/874025/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor874055"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 26, 2021 18:11 UTC (Tue)
                               by <b>LtWorf</b> (subscriber, #124958)
                              [<a href="/Articles/874055/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It didn&#x27;t have it. Because I remember that xkcd was already old when the outrage about the new &quot;feature&quot; came.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/874055/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor874064"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 26, 2021 19:33 UTC (Tue)
                               by <b>NYKevin</b> (subscriber, #129325)
                              [<a href="/Articles/874064/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Perhaps I&#x27;m a bit old-fashioned, but I have always assumed that my employer can see everything I do on company-owned devices or using company-owned comms. Have I misunderstood why people were outraged, or was it really just &quot;my employer can read things that I write on the company&#x27;s time with the company&#x27;s equipment&quot;?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/874064/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor874067"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 26, 2021 19:58 UTC (Tue)
                               by <b>LtWorf</b> (subscriber, #124958)
                              [<a href="/Articles/874067/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yeah most people have slack on their personal phone and receive notifications in their personal time…<br>
<p>
Plus, organizing a union gets real hard in this way.<br>
<p>
In some countries, like Italy, there are precise rules on what the boss can check. For example if I login to my personal email address at work, using a work device, it&#x27;s in any case forbidden to the boss to intercept and read that.<br>
<p>
Work emails can be read provided that the employees have been previously informed that this is the case. Otherwise it is not legal to do so.<br>
<p>
So you see, with slack… they just made available all the history to the boss, who couldn&#x27;t previously access it, so people weren&#x27;t aware of the possibility in advance, so for the boss to read is illegal in Italy. However since they can do so without anyone being notified, this will likely go unpunished.<br>
<p>
Now you get why the controversy?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/874067/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor874165"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 27, 2021 18:32 UTC (Wed)
                               by <b>NYKevin</b> (subscriber, #129325)
                              [<a href="/Articles/874165/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Yeah most people have slack on their personal phone and receive notifications in their personal time…</font><br>
<p>
If you&#x27;re doing work on personal time, that&#x27;s a totally different problem (of the form &quot;you&#x27;re not getting paid&quot;).<br>
<p>
<font class="QuotedText">&gt; Plus, organizing a union gets real hard in this way.</font><br>
<p>
In every reasonable jurisdiction I&#x27;ve ever heard of, it&#x27;s illegal for them to prevent you from organizing a union, although enforcement of this is questionable in the US due to at-will employment (but it is nevertheless the law). You&#x27;re probably better off just exchanging contact info and then using something like Signal for further communication.<br>
<p>
<font class="QuotedText">&gt; In some countries, like Italy, there are precise rules on what the boss can check. For example if I login to my personal email address at work, using a work device, it&#x27;s in any case forbidden to the boss to intercept and read that.</font><br>
<p>
To my understanding, this has simply never been the case in the US.<br>
<p>
<font class="QuotedText">&gt; Work emails can be read provided that the employees have been previously informed that this is the case. Otherwise it is not legal to do so.</font><br>
<p>
In the US, work emails are the property of the company. I don&#x27;t know what Italian law says about that, but it seems very strange to me that the company is not allowed to read its own emails.<br>
<p>
<font class="QuotedText">&gt; So you see, with slack… they just made available all the history to the boss, who couldn&#x27;t previously access it, so people weren&#x27;t aware of the possibility in advance, so for the boss to read is illegal in Italy. However since they can do so without anyone being notified, this will likely go unpunished.</font><br>
<p>
If it&#x27;s enabling them to break Italian law, then I can see how that would be problematic in Italy. Slack needs to comply with local law in every jurisdiction where it operates, and so they should be aware of whatever laws Italy has. If Italian law is as you describe, then obviously Slack should not be enabling employers to violate it.<br>
<p>
However, upthread this was described as a problem *in general*, not a problem in Italy. So I&#x27;m still not sure why this is such a big deal outside of Italy.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/874165/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor874179"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 27, 2021 22:13 UTC (Wed)
                               by <b>Cyberax</b> (<b>&#x272D; supporter &#x272D;</b>, #52523)
                              [<a href="/Articles/874179/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt;  To my understanding, this has simply never been the case in the US.</font><br>
<p>
That&#x27;s the case in the US. There&#x27;s a Supreme Court ruling that minor use of work-related stuff for personal communication is acceptable and protected. In that case it was about the work phone used for personal calls.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/874179/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor874289"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 28, 2021 21:38 UTC (Thu)
                               by <b>sionescu</b> (subscriber, #59410)
                              [<a href="/Articles/874289/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; I don&#x27;t know what Italian law says about that, but it seems very strange to me that the company is not allowed to read its own emails.</font><br>
<p>
Italian jurisprudence in this regards revolves around the concept of the human dignity of the worker, and the right to privacy. I&#x27;m not even sure that the concept of ownership of emails is contemplated as such, the way it is in the US.<br>
<p>
In practice it seems [1] that currently it might be allowed for an employer to open a mailbox only to ascertain a crime of which the employer already has a reasonable suspicion, but never preventively or for monitoring; more or less the same bar as for a police officer to do an inspection of an automobile.<br>
<p>
[1] <a href="https://www.laleggepertutti.it/205247_lemail-aziendale-puo-essere-aperta-dal-datore-di-lavoro">https://www.laleggepertutti.it/205247_lemail-aziendale-pu...</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/874289/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor875317"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 7, 2021 7:54 UTC (Sun)
                               by <b>fgrosshans</b> (guest, #35486)
                              [<a href="/Articles/875317/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The (legal) access of an employer to their employees electronic communication is actually restricted accross the EU, even if said communications are done on company previded devices during work hours. As a French, I must confess that the idea that the employer could legally read all these emails sounds to me like a strange American way of doing business.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/875317/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor873872"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 24, 2021 23:44 UTC (Sun)
                               by <b>developer122</b> (guest, #152928)
                              [<a href="/Articles/873872/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Another simple example would be listening to music/podcasts/whatever from youtube in the background.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873872/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873886"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 7:30 UTC (Mon)
                               by <b>geert</b> (subscriber, #98403)
                              [<a href="/Articles/873886/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Another simple example would be listening to music/podcasts/whatever from youtube in the background.</font><br>
<p>
Which Youtube may want to disallow, just like with the Android app?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873886/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873888"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 7:52 UTC (Mon)
                               by <b>zdzichu</b> (subscriber, #17118)
                              [<a href="/Articles/873888/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It is not disallowed, it is a paid feature on Android. Do you expect the same will happen on web?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873888/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873889"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 8:27 UTC (Mon)
                               by <b>geert</b> (subscriber, #98403)
                              [<a href="/Articles/873889/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I hope not.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873889/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor873903"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 11:02 UTC (Mon)
                               by <b>jezuch</b> (subscriber, #52988)
                              [<a href="/Articles/873903/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I admit this is a valid use case, but I&#x27;m doing it only when desperate ;) The embedded media player in the browser is terribly inefficient for some reason. Whenever I need to play something, I do it via youtube-dl.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873903/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor873902"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 11:00 UTC (Mon)
                               by <b>jezuch</b> (subscriber, #52988)
                              [<a href="/Articles/873902/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I get browser notifications even for tabs that are closed, so this is in fact not tied to a tab process, apparently.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873902/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873908"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 12:15 UTC (Mon)
                               by <b>rbtree</b> (guest, #129790)
                              [<a href="/Articles/873908/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It&#x27;s done through service workers, probably. If you&#x27;re using Firefox, take a look at about:serviceworkers<br>
<p>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API">https://developer.mozilla.org/en-US/docs/Web/API/Service_...</a><br>
<p>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Push_API">https://developer.mozilla.org/en-US/docs/Web/API/Push_API</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873908/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor873980"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 18:09 UTC (Mon)
                               by <b>bartoc</b> (guest, #124262)
                              [<a href="/Articles/873980/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I&#x27;m not really sure why slack should need to run code on my GPU to show me a notification.....<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873980/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873995"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 20:02 UTC (Mon)
                               by <b>mjg59</b> (subscriber, #23239)
                              [<a href="/Articles/873995/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
-STOPing a tab is going to stop it executing code on the CPU as well as the GPU<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873995/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor873994"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 20:04 UTC (Mon)
                               by <b>Wol</b> (subscriber, #4433)
                              [<a href="/Articles/873994/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Most end users want to get Slack (or any other in-browser chat app) notifications when they receive messages,</font><br>
<p>
Are you sure !?!?!?<br>
<p>
Pretty much ANY messaging app, I disable push notifications. I doubt I&#x27;m alone. If you&#x27;re trying to work, push notifications pretty much guarantee you will have a screwed up workflow...<br>
<p>
(We&#x27;ve just transitioned from Hangouts to Slack at work. At least hangouts didn&#x27;t announce new messages when its tab was hidden. And pretty much the first thing I did with Slack was to make sure that it couldn&#x27;t, either.)<br>
<p>
Cheers,<br>
Wol<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873994/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor874065"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 26, 2021 19:34 UTC (Tue)
                               by <b>NYKevin</b> (subscriber, #129325)
                              [<a href="/Articles/874065/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
If you don&#x27;t like Slack, then replace it with calendar webapps, music webapps, etc.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/874065/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor873858"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 24, 2021 16:30 UTC (Sun)
                               by <b>ttuttle</b> (subscriber, #51118)
                              [<a href="/Articles/873858/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
You can patch your browser to do that, but I&#x27;d like YouTube Music to keep working even when I&#x27;m not looking at it. :P<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873858/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor873860"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 24, 2021 18:31 UTC (Sun)
                               by <b>ericonr</b> (guest, #151527)
                              [<a href="/Articles/873860/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I know I wouldn&#x27;t like to have a tab stop loading resources while I unfocus it to do something else. Having to control which tabs automatically sleep and which don&#x27;t would he a UI nightmare, so I can understand the choice of not stopping them at all.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873860/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873869"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 24, 2021 22:06 UTC (Sun)
                               by <b>k8to</b> (guest, #15413)
                              [<a href="/Articles/873869/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Sadly, this problem exists anyway in what passes for a lot of modern web development, where the page Javascript checks for signs of interaction or visibility before loading content. Opening a tab in the background ends up requiring a reload when you go to read it. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873869/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor873866"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 24, 2021 20:26 UTC (Sun)
                               by <b>roc</b> (subscriber, #30627)
                              [<a href="/Articles/873866/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
To be clear, browers do aggressively throttle background tabs already. Bringing them to a complete stop is problematic for reasons discussed by others here.<br>
<p>
Literal SIGSTOP isn&#x27;t the way to do it because a process could be running multiple pages from the same site, some of which are foreground and others of which are in the background. (Splitting those out into their own processes would produce unnecessary memory bloat.)<br>
<p>
Fixing &quot;throttling leaks&quot; like this GPU issue makes sense, but I&#x27;m not sure there&#x27;s room to be significantly more aggressive with throttling without breaking the user experience in many cases.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873866/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873904"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 11:07 UTC (Mon)
                               by <b>jezuch</b> (subscriber, #52988)
                              [<a href="/Articles/873904/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yeah, the way the browser is implemented currently this is probably not a good idea, but that&#x27;s something I would like to see anyway. Currently, when I see high (i.e. non-marginal) CPU usage for no apparent reason, I know this is time to open chromium process hunting season :) This happens way too often for my taste.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873904/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor874078"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 26, 2021 22:17 UTC (Tue)
                               by <b>roc</b> (subscriber, #30627)
                              [<a href="/Articles/874078/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Firefox gives you a task manager for this purpose and I assume Chrome does too.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/874078/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor873870"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 24, 2021 23:39 UTC (Sun)
                               by <b>developer122</b> (guest, #152928)
                              [<a href="/Articles/873870/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Fun fact: that internal scheduling on the i915 and similar is done by an embedded i486 system. Because what else but x86 would intel use for power and scheduling management?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873870/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873876"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 1:07 UTC (Mon)
                               by <b>roc</b> (subscriber, #30627)
                              [<a href="/Articles/873876/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Hmm, that&#x27;s wild. Thanks for the tip.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873876/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873882"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 5:38 UTC (Mon)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/873882/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It&#x27;s on the Internet, so it must be true :-)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873882/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873924"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 15:03 UTC (Mon)
                               by <b>khim</b> (subscriber, #9252)
                              [<a href="/Articles/873924/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <p>If you don't trust the random web sites then you can just go and <a href="https://github.com/ptresearch/unME11">play with firmware yourself</a>.</p>

<p>But the question “what else but x86 would intel use for power and scheduling management” does, apparently, have an answer: <a href="https://en.wikipedia.org/wiki/Intel_Management_Engine#Hardware">initially Intel used ARC</a>.</p>


      
          <div class="CommentReplyButton">
            <form action="/Articles/873924/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873967"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 15:39 UTC (Mon)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/873967/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
What I don&#x27;t trust at all and that no one should either is reference-free comments; in this case not even a search keyword. I believe the immense majority of comments on LWN are made in good faith but good faith does not imply fact, no more here than on social media.<br>
<p>
I looked at your references and found none mentioned any relationship between the ME and the GPU.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873967/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873969"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 16:07 UTC (Mon)
                               by <b>excors</b> (subscriber, #95769)
                              [<a href="/Articles/873969/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
A more relevant reference is https://igor-blue.github.io/2021/02/10/graphics-part1.html (&quot;Security of the Intel Graphics Stack - Part 1 - Introduction&quot;) which describes:<br>
<p>
<font class="QuotedText">&gt; The GuC is a small embedded core that supports graphics scheduling, power management and firmware attestation. It is implemented in an i486DX4 CPU (also called P24C and Minute IA), although it seems that since broadwell it has been extended to the Pentium (i586) ISA. It runs a small microkernel call μOS.</font><br>
<p>
(and includes some disassembled GuC firmware as evidence).<br>
<p>
There are also microcontrollers for H.265 and for display (see e.g. <a href="https://01.org/linuxgraphics/downloads/firmware">https://01.org/linuxgraphics/downloads/firmware</a>), and I&#x27;d guess those are probably the same architecture as the GuC (to avoid redundant development effort).<br>
<p>
NVIDIA has previously said (<a href="https://riscv.org/wp-content/uploads/2017/05/Tue1345pm-NVIDIA-Sijstermans.pdf">https://riscv.org/wp-content/uploads/2017/05/Tue1345pm-NV...</a>) they have ~10 microcontrollers per GPU, based on a custom architecture. When Intel has similar requirements, it seems quite sensible for them to use an architecture for which they already have expertise and good development tools and no licensing costs.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873969/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor874079"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 26, 2021 22:22 UTC (Tue)
                               by <b>roc</b> (subscriber, #30627)
                              [<a href="/Articles/874079/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
FWIW I actually did find a detailed reference before I responded :-).<br>
<p>
The ME and the GUC are different. I think the ME core is on a different physical chip?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/874079/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor873878"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 4:03 UTC (Mon)
                               by <b>alison</b> (subscriber, #63752)
                              [<a href="/Articles/873878/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Anyone how many GPUs support the notion of priority?   The patchset is not so exciting if it affects on i915.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873878/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor874939"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 3, 2021 13:47 UTC (Wed)
                               by <b>BenHutchings</b> (subscriber, #37955)
                              [<a href="/Articles/874939/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <p>Running <tt>git grep -l DRM_SCHED_PRIORITY drivers/gpu</tt> shows several of them.</p>



      
          <div class="CommentReplyButton">
            <form action="/Articles/874939/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor873883"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 5:57 UTC (Mon)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/873883/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; this would be different from the &quot;ionice&quot; that already exists for block I/O but would function in a similar way.</font><br>
<p>
So &quot;nice&quot; has been completely independent from ionice the whole time? Interesting, that would explain why I always felt that &quot;nice&quot; is useless and gave up trying to use it a long time ago.<br>
<p>
<font class="QuotedText">&gt; it does not take into account the effect of control groups</font><br>
<p>
Makes me wonder: is defeating process priorities as easy as defeating TCP fairness? Split the work across more processes (resp. connections) and done.<br>
<p>
I think many devices (workstations, laptops, smartphones) became single user before any serious thought ever went into a proper definition of what is a &quot;fairness unit&quot;. I mean who cares whether tabs prioritization works only 90% of the time, just close some tabs when it fails and done. Same for that long and disk intensive job, just Ctrl-Z it when you need. I don&#x27;t remember seeing anyone trying to use &quot;nice&quot; interactively, I suspect many people don&#x27;t even know it exists.<br>
<p>
On the other hand, I wonder how it works in the cloud. A long time ago, I experienced spurs of unusable latency with some (too) cheap cloud VM and as expected with any latency issue support was useless. Much more recently I experienced seconds long, complete shell freezes a couple times per hour on a VMware system. I was very proud to have found a super simple way to observe it: an ioping for loop! But again, latency =&gt; support did not care.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873883/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor873982"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 18:20 UTC (Mon)
                               by <b>bartoc</b> (guest, #124262)
                              [<a href="/Articles/873982/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yes it is (or was) just that easy, and that&#x27;s one of the reasons why cgroups came to exist, and one of the biggest reasons that systemd is worth using.<br>
<p>
Nowadays, at least on my (fedora 35, with gnome) system when I launch an application gnome (I think gnome is doing this) will create a systemd .scope unit via systemd&#x27;s dbus API, and that means the app gets it&#x27;s own cgroup. I just ran systemd-cgls and observed that all my firefox tab processes are in their own cgroup, helping to prevent resource starvation.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873982/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor873981"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Synchronized GPU priority scheduling</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 25, 2021 18:14 UTC (Mon)
                               by <b>bartoc</b> (guest, #124262)
                              [<a href="/Articles/873981/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It&#x27;s nice to see this work finally starting to get done. At #previousjob we did a lot of GPU compute tasks on a multi-user system, and, while nvidia was pushing their &quot;nvidia docker&quot; support at the time (which was [and I think still is] just mapping the gpu device node into the container), the benefit was always extremely minimal, since the nvidia driver components needed to match between host and container (negating many of the &quot;packaging&quot; benefits of docker) and the scheduling on the GPU was totally unaware of the gcroups created by the docker containers, so the anti-resource-starvation properties of containers were also nullified.<br>
<p>
I would think that with all the interest in &quot;cloud gaming&quot; plenty of people are interested in fixing up GPU scheduling (although that use-case requires a lot more work, you need good virtualization support too), as right now I think resource utilization in such services is probably extremely bad.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/873981/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2021, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
