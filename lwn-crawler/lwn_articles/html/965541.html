        <!DOCTYPE html>
        <html lang="en">
        <head><title>The rest of the 6.9 merge window [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/965541/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/966119/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/965541/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>The rest of the 6.9 merge window</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Ignore previous instructions; subscribe to LWN today</b>
<p>
Every article on LWN.net is written by humans, for humans. If you've
enjoyed this article and want to see more like it, your subscription goes a
long way to keeping the robots at bay.  We are offering <a href="https://lwn.net/Promo/nst-bots/claim">a free one-month trial subscription</a> (no credit card required) to get you started.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>March 25, 2024</br>
           </div>
The <a
href="/ml/linux-kernel/CAHk-=wgOw_13JuuX4khpn4K+n09cRG3EBQWufAPBWoa0GLLQ0A@mail.gmail.com/">6.9-rc1</a>
kernel prepatch was released on March&nbsp;24, closing the merge window for
this development cycle. By that time, 12,435 non-merge changesets had been
merged into the mainline, making for a less-busy merge window than the last
couple of kernel releases (but similar to the 12,492 seen for 6.5).  Well
over 7,000 of those changes were merged after <a
href="/Articles/965141/">the first-half merge-window summary</a> was
written, meaning that the latter part of the merge window brought many more
interesting changes.
<p>
The most significant work merged in the second half of the 6.9 merge window
include:
<p>

<h4>Architecture-specific</h4>
<p>
<ul class="spacylist">

<li> The Rust language is now supported on 64-bit Arm processors.
<li> It is now possible to run 64-bit Arm CPUs in LPA2 mode, which
     sets up a 52-bit virtual address space.
<li> The LoongArch architecture has gained support for the <a
     href="/Articles/728339/">ORC stack unwinder</a>, the <tt>objtool</tt>
     binary tool, and kernel live patching.
<li> RISC-V systems now support the <a
     href="https://man7.org/linux/man-pages/man2/membarrier.2.html"><tt>membarrier()</tt></a>
     system call.
</ul>


<p>
<h4>Core kernel</h4>
<p>
<ul class="spacylist">

<li> <a href="/Articles/948037/">Weighted interleaving</a> has been
     merged, providing better control over how pages are placed on
     heterogeneous-memory systems.
<li> Basic continuous-PTE support has been added for 64-bit Arm
     processors.  This feature, described in <a
     href="/Articles/937239/">this article</a>, improves performance by
     enabling better translation lookaside buffer (TLB) usage.
<li> Memory-management performance has also been improved with the merging
     of <a href="/Articles/932396/">a patch series</a> reducing
     <tt>vmalloc()</tt> lock contention.
<li> Function return probes can now access the arguments that the
     probed function was called with; this feature can help to spot changes
     made to those arguments.  <a
     href="https://git.kernel.org/linus/25f00e40ce79">This changelog</a>
     includes a usage example.

</ul>

<p>
<h4>Filesystems and block I/O</h4>
<p>
<ul class="spacylist">

<li> The device mapper "virtual data optimizer" (VDO) target has been
     added.
     <p>
     <blockquote class="bq">
     The dm-vdo (virtual data optimizer) target provides inline deduplication,
     compression, zero-block elimination, and thin provisioning. A dm-vdo target
     can be backed by up to 256TB of storage, and can present a logical size of
     up to 4PB. This target was originally developed at Permabit Technology
     Corp. starting in 2009. It was first released in 2013 and has been used in
     production environments ever since. It was made open-source in 2017 after
     Permabit was acquired by Red Hat.
     </blockquote>
     <p>
     See <a href="https://git.kernel.org/linus/04bf7ac646ab">this
     documentation commit</a> for design and usage information.
<li> The work to add online filesystem checking and repair to XFS
     continues, with another set of data structures now covered.
<li> The ext2 filesystem has been marked as deprecated, mostly as a result
     of its inability to properly represent dates after January 2038.  The
     filesystem is not going anywhere anytime soon, and ext2 filesystems
     are also covered by the ext4 module, but users are being encouraged to
     avoid it.
<li> Initial support for <a href="/Articles/932060/">FUSE passthrough</a>
     has been merged.  This feature allows I/O to files served by a
     user-space FUSE server to be handled directly by the kernel, without
     the need to involve that server.  The result can be a significant
     performance increase in some cases.  For 6.9, passthrough mode only
     supports privileged servers; expanding availability is a task for a
     future release.
</ul>

<p>
<h4>Hardware support</h4>
<p>
<ul class="spacylist">
<li> <b>Clock</b>:
     R-Car V4M clocks,
     Qualcomm X1E80100 clock controllers, and
     Qualcomm SC7180 modem clock controllers.
<li> <b>GPIO and pin control</b>:
     R-Car V4M (R8A779H0) pin controllers and
     Awinic AW9523/AW9523B I2C GPIO expanders.
<li> <b>Graphics</b>:
     Boe TH101MB31UIG002-28A panels,
     Novatek NT36672E DSI panels,
     Freescale i.MX8MP HDMI PVI bridges,
     Freescale i.MX8MP HDMI-TX bridges,
     Himax HX83112A-based DSI panels, and
     Renesas RZ/G2L display units.
     
<li> <b>Hardware monitoring</b>:
     Analog Devices LTC4282 high-current hot-swap controller I2C interfaces,
     Microsoft Surface Pro&nbsp;9 fan monitors,
     Monolithic Power MPQ8785 step-down controllers,
     Amphenol ChipCap 2 relative humidity and temperature sensors,
     NZXT Kraken X53/X63/X73 and Z53/Z63/Z73 coolers,
     ASUS ROG RYUJIN II 360 fan/sensor controllers,
     Astera Labs PT5161L PCIe retimer temperature sensors, and
     ASPEED g6 PWM and Fan tach controllers.
<li> <b>Industrial I/O</b>:
     AMS AS7331 UV sensors,
     Analog Devices ADMFM2000 dual microwave down converters,
     Texas Instruments ADS1298 medical analog-to-digital converters,
     Microchip Technology PAC1934 power monitors, and
     Voltafield AF8133J 3-Axis magnetometers.
<li> <b>Input</b>:
     Goodix Berlin touchscreens.
<li> <b>Miscellaneous</b>:
     ChromeOS EC GPIO controllers,
     Maxim MAX6958/6959 7-segment LED controllers,
     Kinetic KTD2801 1-wire GPIO-controlled backlights,
     ON semiconductor NCP5623 LED controllers,
     MediaTek MIPI CSI CD-PHYs,
     Rockchip Samsung HDMI/eDP Combo PHYs, and
     Qualcomm MSM8909 and SM7150 interconnects.
<li> <b>Sound</b>:
     Qualcomm WCD9390/WCD9395 codecs and
     generic framer-based codecs.
<li> <b>USB</b>:
     ITE IT5205 Type-C USB Alt Mode Passive multiplexers and
     Realtek RTD USB2 and USB3 PHY transceivers.
</ul>

<p>
<h4>Miscellaneous</h4>
<p>
<ul class="spacylist">

<li> See <a href="https://git.kernel.org/linus/1bbeaf83dd7b">this merge
     message</a> for a summary of new features added to the <tt>perf</tt>
     tool for 6.9.
<li> <a href="/Articles/889607/">User events</a> in the tracing subsystem
     can now export multiple formats; this is useful, for example, if a
     library's format changes.  <a
     href="https://git.kernel.org/linus/3727db1c09b4">This documentation
     commit</a> contains a little more information; see also <a
     href="/ml/linux-kernel/20240202184449.1674-1-beaub@linux.microsoft.com/">the
     series cover letter</a>.
</ul>

<p>
<h4>Security-related</h4>
<p>
<ul class="spacylist">

<li> The kernel's <a
     href="https://sourceforge.net/p/linux-ima/wiki/Home/">Integrity
     Measurement Architecture and Extended Verification module</a>
     (IMA/EVM) have been converted into proper Linux security modules.
     There should be no user-visible effects, but this change, which was
     enabled by the slowly proceeding <a
     href="/Articles/804906/">security-module stacking</a> work, simplifies
     the code considerably.
<li> The API for the <a href="/Articles/919059/">security-module system
     calls</a> merged in 6.8 has changed for better 32-bit compatibility.
     In theory, this change could break applications, but these system
     calls have only been in a released kernel for a few weeks, so the
     chances are that they are not yet being used.  Linus Torvalds <a
     href="/ml/linux-kernel/CAHk-=wjXK3ZDtCM754mQVWzcZdQd50dBU5Y+AoATWcCGCMWzgg@mail.gmail.com/">agreed</a>
     that this change was probably safe to make.

</ul>


<p>
<h4>Internal kernel changes</h4>
<p>
<ul class="spacylist">

<li> The kernel's energy model <a
     href="/ml/linux-kernel/20240208115557.1273962-1-lukasz.luba@arm.com/">can
     now be updated at run time</a>; this allows the kernel to, for
     example, take into account the effect of operating temperature on a
     CPU's energy efficiency.
<li> The minimum version of LLVM that can be used to build the kernel is
     now 13.0.1.
<li> The S/390 architecture has long used kernel virtual addresses that
     are the same as the underlying physical addresses, leading to a
     certain amount of sloppiness in distinguishing between the two address
     spaces.  There is currently <a
     href="https://git.kernel.org/linus/f9c035492f20">a plan</a> to
     separate the kernel's address space, meaning that said sloppiness
     needs to be cleaned up.  Some new types have been introduced to mark
     physical addresses, allowing the <tt>sparse</tt> tool to find code
     that uses the wrong address type.

</ul>

<p>
<h4>Better luck next time</h4>
<p>
<ul class="spacylist">

<li> The Arm "WXN" mode was briefly supported.  When enabled, WXN disables,
     at the hardware level, the ability to have memory that is both
     writable and executable.  The kernel is able to run under this mode;
     whether all user-space workloads can is less certain, so it is not
     clear whether distributions will enable WXN by default.  The
     <tt>arm64.nowxn</tt> command-line option can be used to disable WXN at
     boot time if need be.  Unfortunately, some problems resulted and WXN
     support was reverted for now.
<li> An attempt was made to remove the ability to collect and report
     statistics from the crypto layer.  <a
     href="https://git.kernel.org/linus/2beb81fbf0c0">This commit</a>
     contains the reasoning behind this removal; in short, the feature was
     never documented, seemingly never used, and slows down cryptographic
     operations.  The change ended up being reverted for now — it turned
     out to also remove some useful functionality — but seems
     sure to return in a future development cycle.

</ul>

<p>
The stabilization of all this work can be expected to take until
May&nbsp;12 or&nbsp;19, at which point the final 6.9 kernel will be
released.  The earlier date would put the first half of the merge window
right on top of the <a
href="https://events.linuxfoundation.org/lsfmmbpf/">Linux Storage,
Filesystem, Memory-Management, and BPF Summit</a>, which seems likely to
create a certain amount of maintainer stress.  Between now and then,
though, there will be a lot of bugs to fix and rough edges to smooth; the
kernel development community will be busy, as usual.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-6.9">Releases/6.9</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/965541/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor973425"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The rest of the 6.9 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted May 13, 2024 7:44 UTC (Mon)
                               by <b>andy_shev</b> (subscriber, #75870)
                              [<a href="/Articles/973425/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
May 19 is too late :-)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/973425/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2024, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
