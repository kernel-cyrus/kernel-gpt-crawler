        <!DOCTYPE html>
        <html lang="en">
        <head><title>3.18 Merge window part 2 [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/615825/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/615803/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/615825/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>3.18 Merge window part 2</h1>
</div>
<div class="ArticleText">
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>October 15, 2014</br>
           </div>
As of this writing, Linus has pulled 8,722 non-merge changesets into the
mainline repository for the 3.18 merge window.  At this point, one might
reasonably conclude that the merge window is approaching completion, even
though Linus had originally talked about keeping it open until around
October&nbsp;26.  Your editor would hazard a guess that this merge window
will close rather sooner than that.
<p>
Some 5,786 changes have been merged since <a href="/Articles/615327/">last
week's summary</a>.  The more interesting user-visible changes include:
<p>
<ul>

<li> The <a href="/Articles/612878/"><tt>bpf()</tt> system call</a> is now
     in the mainline.
     The hooks to use this code (in tracing and packet filtering,
     for example) will take a little longer, but the core support for a
     "universal virtual machine" in the kernel is now present.
<p>
<li> The networking performance improvements described in <a
     href="/Articles/615238/">this article</a> have been merged.  Among
     other things, they allow a relatively small system to drive a
     high-speed interface at full wire speed, even when small packets are
     being transmitted.  Small-packet performance has been a problem area
     for Linux, so this is an important improvement.
<p><blockquote class="ad">
<b><tt>$ sudo subscribe today</tt></b>
<p>
Subscribe today and elevate your LWN privileges. You’ll have
access to all of LWN’s high-quality articles as soon as they’re
published, and help support LWN in the process.  <a href="https://lwn.net/Promo/nst-sudo/claim">Act now</a> and you can start with a free trial subscription.
</blockquote>
<p>
<li> The <a href="/Articles/614348/">Foo-over-UDP</a> subsystem has been
     merged; it provides support for tunneling protocols via UDP.
<p>
<li> The Data Center TCP (DCTCP) congestion control algorithm is now
     supported.  See <a
     href="http://git.kernel.org/linus/e3118e8359bb7c59555aca60c725106e6d78c5ce">the
     commit message</a> for a lot of information and <a
     href="http://simula.stanford.edu/~alizade/Site/DCTCP.html">this
     page</a> for even more.
<p>
<li> The Generic Network Virtualization Encapsulation (Geneve) protocol is
     now supported; see <a
     href="http://tools.ietf.org/html/draft-gross-geneve-01">this page</a>
     for more information.
<p>
<li> The <tt>fanotify_init()</tt> system call has, as the result of a bug,
     always ignored the <tt>O_CLOEXEC</tt> option (which requests that the
     resulting file descriptor be closed should the program call
     <tt>exec()</tt>).  As of 3.18, that bug has been fixed.  There have
     been some concerns that applications might silently depend on this
     option not being honored; developers working with the fanotify
     interface will thus want to pay attention to this change.
<p>
<li> The <tt>prctl()</tt> system call supports a new <tt>PR_SET_MM_MAP</tt>
     operation to set the core parameters of a process's address space
     layout: where the code and data areas are, the break pointer, where
     the stack is, etc.   See <a
     href="http://git.kernel.org/linus/f606b77f1a9e362451aca8f81d8f36a3a112139e">the
     commit changelog</a> for details on how this interface works.
<p>
<li> The new Xen "pvSCSI" subsystem allows Xen guests to drive SCSI devices
     that have been assigned to them.
<p>
<li> The SPARC64 architecture now uses four-level page tables, vastly
     increasing the amount of memory that can be addressed.
<p>
<li> The Smack mandatory access control subsystem has a new "bring-up" mode
     that can be used to record the permissions a process needs to
     execute.  It is intended to be used in the writing of Smack rules,
     then compiled out on production systems.
<p>
<li> As usual, the list of features added to the perf events subsystem and
     the user-space <tt>perf</tt> tool is long; see <a
     href="http://git.kernel.org/linus/9d9420f1209a1facea7110d549ac695f5aeeb503">this
     commit message</a> for details.
<p>
<li> New hardware support includes:
     <p>
     <ul>

     <li> <b>Systems and processors</b>:
     	  Hisilicon HiP04 Cortex A15 systems-on-chip (SoCs),
	  Amlogic Meson6 (8726MX) SoCs,
	  Renesas R-Car E2 (R8A77940) SoCs,
	  Broadcom BCM63xx DSL SoCs,
	  Atmel SAMA5D4 SoCs, and
	  Cavium Inc. Thunder SoCs.
     <p>
     <li> <b>Audio</b>:
     	  Cirrus Logic CS35L32 codecs,
	  Freescale generic sound cards,
	  Everest ES8328 audio codecs,
	  Freescale ES8328 audio codecs, and
	  Analog Devices SSM4567 audio amplifiers.
     <p>
     <li> <b>Miscellaneous</b>:
     	  Atmel multi-port DDR SDRAM controllers,
	  Altera SDRAM memory controllers,
	  TI Keystone Navigator controllers,
	  TI Keystone PCIe controllers,
	  Allwinner A31 real-time clocks,
	  Texas Instruments Keystone 2 IRQ controllers,
	  APM X-Gene GPIO and PCIe controllers,
	  Xilinx AXI PCIe host bridges,
	  MEN 14F021P00 board management controllers,
	  IBM coherent accelerators,
	  Rockchip RK808 real-time clocks, and
	  Maxim 77802 real-time clocks.
     <p>
     <li> <b>Networking</b>:
	  Bosch M_CAN controllers,
	  Broadcom UniMAC MDIO bus controllers,
	  Broadcom Starfighter 2 Ethernet switches,
	  Intel FM10000 Ethernet switch host interfaces,
	  Marvell 88E6171 Ethernet switches, and
	  Qualcomm Atheros QCA7000 Ethernet controllers.
     <p>
     <li> <b>Video4Linux</b>:
     	  CIMaX SP2/SP2HF common interface modules,
	  TechnoTrend TVStick CT2-4650 CI devices,
	  HackRF software-defined radios,
	  DVBSky USB receivers,
	  Hisilicon hix5hd2 IR remote controls,
	  MaxLinear MxL301RF tuners,
	  Sharp QM1D1C0042 tuners,
	  Toshiba TC90522 demodulators, and
	  Earthsoft PT3 PCIe cards.
     </ul>
</ul>
<p>
Changes visible to kernel developers include:
<p>
<ul>
<li> The longstanding "vivi" test driver in the Video4Linux subsystem 
     has been replaced with a new driver called "vivid."  This driver can
     be used both as an example for how V4L drivers should be written and a
     module for testing user-space programs.
<p>
<li> The RCU tasks subsystem has been merged; it allows RCU-like behavior
     under a relaxed set of rules.  See <a href="/Articles/607117/">this
     article</a> for details.
<p>

<li> The device tree "resolver" is now available in the kernel.  The
     resolver acts like a sort of linker, resolving references to device
     tree sections ("phandles") at load time.  This work is part of a
     larger effort to implement run-time configurable device trees.
</ul>
<p>
Stay tuned; next week will include a summary of the changes merged since
     this article was written.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-3.18">Releases/3.18</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/615825/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor617551"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">3.18 Merge window part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 22, 2014 6:29 UTC (Wed)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/617551/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; The Smack mandatory access control subsystem has a new "bring-up" mode that can be used to record the permissions a process needs to execute. It is intended to be used in the writing of Smack rules, then compiled out on production systems.</font><br>
<p>
This sort of approach to setting up complex permissions is a good one. It requires that there is a good test plan to exercise all the corner cases of the application, but you are doing that already, right? ;-)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/617551/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor617564"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">3.18 Merge window part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 22, 2014 9:37 UTC (Wed)
                               by <b>etienne</b> (guest, #25256)
                              [<a href="/Articles/617564/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; &gt; The Smack mandatory access control subsystem has a new "bring-up" mode that can be used to record the permissions a process needs to execute. It is intended to be used in the writing of Smack rules, then compiled out on production systems.</font><br>
<p>
<font class="QuotedText">&gt; This sort of approach to setting up complex permissions is a good one. It requires that there is a good test plan to exercise all the corner cases of the application, but you are doing that already, right? ;-)</font><br>
<p>
If the application is calling home to see if there is a newer version and decides to self-upgrade (not using the official upgrade system is bad (TM) but still done), then that application needs *a lot of* permissions.<br>
The worst is when the application self upgrade, but in the middle is refused write/creation access to a small file - and that upgrade finishes non-functional in subtle way, non reproduce-able on the developer machine.<br>
Another requirement for package manager: an application shall be able to self-upgrade without needing root access? How about self-upgrading a library it is using? Only libraries written in an interpreted language (Python, java, ...) can be self-upgraded?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/617564/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor617679"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">3.18 Merge window part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 22, 2014 21:57 UTC (Wed)
                               by <b>raven667</b> (subscriber, #5198)
                              [<a href="/Articles/617679/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
For this to work well and not make your security framework useless because it can't block anything you need to have privilege separated into discrete components that can have different privileges. Like postfix, sshd or chrome. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/617679/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor617687"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">3.18 Merge window part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 22, 2014 23:16 UTC (Wed)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/617687/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
If you want to have the application update itself, you will have to give it all those permissions.<br>
<p>
But if you aren't wanting that to happen, don't allow it to happen during your test and if something slips in where it tries to do so in production, it will fail.<br>
<p>
so this is still a good tool.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/617687/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor617724"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">3.18 Merge window part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 23, 2014 9:20 UTC (Thu)
                               by <b>etienne</b> (guest, #25256)
                              [<a href="/Articles/617724/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; If you want to have the application update itself, you will have to give it all those permissions.</font><br>
<p>
I do not want it! but some application do it anyway...<br>
<p>
<font class="QuotedText">&gt; But if you aren't wanting that to happen, don't allow it to happen during your test and if something slips in where it tries to do so in production, it will fail.</font><br>
<p>
Usually only partly fail, partly succeed...<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/617724/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2014, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
