        <!DOCTYPE html>
        <html lang="en">
        <head><title>LCE: Realtime, present and future [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/524329/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/524304/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/524329/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>LCE: Realtime, present and future</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>This article brought to you by LWN subscribers</b>
<p>
Subscribers to LWN.net made this article &mdash; and everything that
       surrounds it &mdash; possible.  If you appreciate our content, please
       <a href="/Promo/nst-nag3/subscribe">buy a subscription</a> and make the next
       set of articles possible.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>November 13, 2012</br>
           </div>
As the standing-room-only crowd at Thomas Gleixner's LinuxCon Europe 2012
talk showed, there is still a lot of interest in the progress of the
realtime preemption patch set.  Your editor attended with the main purpose
of heckling Thomas, thinking that our recent <a href="/Articles/520704/">Realtime Linux
Workshop coverage</a> would include most of the information to be heard in
Barcelona.  As it turns out, though, there were some new things to be
learned, along with some concerns about the possible return of an old
problem in a new form.
<p>
At the moment, realtime development is concentrated in three areas.  The
first is the ongoing
work to mitigate problems with software interrupts; that has been <a
href="/Articles/520076/">covered 
here before</a> and has not changed much since then.
On the memory management front, the SLUB allocator is now the default for
realtime kernels.  A few years ago, SLUB was considered hopeless for the
realtime 
environment, but it has improved considerably since then.  It now works
well when allocating objects from the caches.  Anytime it becomes necessary
to drop into the page allocator, though, behavior will not be
deterministic; there is little to be done about that.
<p>
Finally, the latest realtime patches include a new option called
PREEMPT_LAZY. Thomas has been increasingly irritated by the throughput
penalty experienced by realtime users; PREEMPT_LAZY is an attempt to
improve that situation.  It is an option that applies only to the scheduling of
SCHED_OTHER tasks (the non-realtime part of the workload); it works by
deferring context switches after a task is awakened, even if the
newly-awakened task has a higher priority.  Doing so reduces determinism,
but SCHED_OTHER was never meant to 
be deterministic in the first place.  The benefit is a reduction in context
switches and a corresponding improvement in SCHED_OTHER throughput.
<p>
When SLUB and PREEMPT_LAZY are enabled, the realtime kernel shows a 60%
throughput increase with some workloads.  Someday, Thomas said (not entirely
facetiously), realtime will
be faster than mainline, especially for workloads involving a lot of
networking.  He is looking forward to the day when the realtime kernel
offers superior network performance; there should be some interesting
conversations with the networking developers when that happens.
<p>
The realtime kernel, he claimed in summary, is at production quality.  
<p>
Looking at all the code that has been produced in the realtime effort,
Thomas concluded that, at this point, 95% of it has been upstreamed into
the mainline kernel.  What is missing before the rest can go upstream is
"mainline sellable" solutions for memory management, high-resolution timers
(hrtimers), and software interrupts.  The memory management work is the
most complex, and the patches are still "butt ugly."  A significant amount
of cleanup work will be required before those patches can make it into the
mainline.
<p>
The hrtimer code, instead, just requires harassing the maintainer (a
certain Thomas Gleixner) to get it into shape; it's just a matter of
time.  There needs to be a "less horrible" way to solve the software
interrupt problem; the search is on.  The rest of the realtime tree,
including the infamous locking patches, is all nicely self-contained and
should not be a problem for upstreaming.
<p>
So what is coming in the future?  The next big feature looks to be CPU
isolation.  This is not strictly a realtime need, but it is useful for some
realtime users.  CPU isolation gives one or more processors over to
user-space code, with no kernel overhead at all (as long as that code does
not make any system calls, naturally).  It is useful for applications that
cannot wait even for a deterministic interrupt response; instead, they poll
a device so that they can respond even more quickly to events.  There are
also high-performance users who pour vast amounts of money into expensive
hardware; these users are willing to expend great effort for a 1%
performance gain.  For some kinds of workloads, the increased cache
locality offered by CPU isolation can give an improvement of 3-4%, so it is
unsurprising that these users are interested.  A number of developers are
working on this problem; some sort of solution should be ready before too
long.
<p>
Also coming is the long-awaited <a href="/Articles/356576/">deadline
scheduler</a>.  According to Thomas, this code 
shows that, sometimes, it is possible to get useful work out of academic
institutions.  The solution is close, he said, and could possibly even be
ready for the 3.8 merge window.

There is also interest in doing realtime work from a KVM guest
system.  That will allow us to offload our realtime automation tasks into
the cloud.  Thomas clearly thought that virtualized realtime was a bit of a
silly idea, but there is evidently a user community looking for this
capability. 
<p>
<h4>Where are the contributors?</h4>
<p>
Given that things seem so close, Thomas asked himself why things were
taking so long; the realtime effort has been going for some eight years
now.  The answer is that the problems are hard and that the 
manpower to solve them has been lacking.  Noting that  few developers have
been contributing to the realtime tree, Thomas started to wonder if there
was a lack of interest in the concept overall.  Perhaps all this work was
being done, but nobody was using it?
<p>
An opportunity to answer that question presented itself when kernel.org
went down for an extended period in 2011.  It became necessary to provide
an alternative site for people wanting to grab the realtime patches; that,
in turn, was the perfect opportunity to obtain download statistics.  It
turns out that most realtime patch set releases saw about 3,000 downloads
within the first three days.  About 30% of those went to European
corporations, 25% to American corporations, 20% to Asian corporations, 5%
to academic institutions, and 20% "all over."  75% of the downloads, he
said, were done by users at identifiable corporations constituting a "who's
who" of the industry.
<p>
All told, there were 2,250 corporations that downloaded the realtime patch
set while this experiment was taking place.  Of all those companies, less
than 5% reported back to the realtime developers in any way, be it a patch,
a bug report, or even an "it works, thanks" sort of message.  A 5% response
rate may seem good; it should be enough to get the bugs fixed.  But a
further look showed that 80% of the reports came from Red Hat and the Open
Source Automation Development Laboratory; add in Thomas's company
Linutronix, and the number goes up to 90%.  "What," he asked the audience,
"are the rest of you doing?"
<p>
Thomas's conclusion is that something is wrong.  Perhaps we are seeing a
return of the <a href="/Articles/232379/">embedded nightmare</a> in a new
form?  As in those days, 
he does see private reports from companies that are keeping all of their
work secret.  Private reports are better than nothing, but he would really
like to see more participation in the community: more success reports, bug
reports, documentation contributions, and fixes.  Even incorrect fixes are
a great thing; they give a lot of information about the problem and ease
the process of making a proper fix.
<p>
To conclude, Thomas noted that some people have complained that his
roadmap slides are insufficiently serious.  In response, he said, he took a
few days off and took a marketing course; that has allowed him to produce a
more suitable roadmap that looks like this:
<p>
<blockquote>
<img src="https://static.lwn.net/images/2012/rt-roadmap-bcn.png" width=597 height=324
alt="[Thomas's new roadmap]" border=0>
</blockquote>


<p>
Perhaps the best conclusion to be drawn from this roadmap is that Thomas is
unlikely to switch from development to marketing anytime in the near
future.  That is almost certainly good news for Linux users — and probably for
marketing people as well.
<p>
[Your editor would like to thank the Linux Foundation for funding his
travel to Barcelona.]<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Realtime">Realtime</a></td></tr>
            <tr><td><a href="/Archives/ConferenceIndex/">Conference</a></td><td><a href="/Archives/ConferenceIndex/#LinuxCon_Europe-2012">LinuxCon Europe/2012</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/524329/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor524620"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">LCE: Realtime, present and future</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 2:37 UTC (Tue)
                               by <b>bronson</b> (subscriber, #4806)
                              [<a href="/Articles/524620/">Link</a>] (37 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
What a journey!  It's really good to hear that realtime is getting ready for primetime.  (makes me feel old...)<br>
<p>
Now I need to hunt around for a project that requires realtime.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/524620/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor524642"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 11:13 UTC (Tue)
                               by <b>man_ls</b> (guest, #15091)
                              [<a href="/Articles/524642/">Link</a>] (35 responses)
      </p>
      
      </div>
      </summary>
      Speaking of which, what kind of applications require real time these days? Linux audio used to be mentioned often, but these days it appears that CONFIG_PREEMPT is enough; is it?
<p>
Apart from that, I suppose that automation of critical functions is an obvious field of application, but is it really? Our favorite kernel might be used in cars but the real stuff, not IVI: driving the motor and such. And also avionics would require real time. But in a world where <a href="http://nodecopter.com/">JavaScript is used to drive copters</a> I am not so sure...
      
          <div class="CommentReplyButton">
            <form action="/Articles/524642/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor524662"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 13:56 UTC (Tue)
                               by <b>KSteffensen</b> (guest, #68295)
                              [<a href="/Articles/524662/">Link</a>] (11 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Stock markets would be my guess. Considering how much automated trading is taking place and how much money is involved I'm guessing this is a big market.<br>
<p>
I think there's too much safety hysteria in the automotive business to actually let the cars be driven by a computer.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/524662/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor524663"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 14:07 UTC (Tue)
                               by <b>hummassa</b> (guest, #307)
                              [<a href="/Articles/524663/">Link</a>] (10 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Seeing as Google self-driving car is now street-legal in Nevada, I wouldn't bet on it.<br>
<p>
<a href="http://abcnews.go.com/blogs/technology/2012/05/google-self-driving-car-license-approved-in-nevada/">http://abcnews.go.com/blogs/technology/2012/05/google-sel...</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/524663/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor524669"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 14:37 UTC (Tue)
                               by <b>KSteffensen</b> (guest, #68295)
                              [<a href="/Articles/524669/">Link</a>] (9 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Cool! I did not know that. <br>
<p>
Next big hurdle will be the debate the first time one of these is involved in an accident.<br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/524669/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor524672"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 14:45 UTC (Tue)
                               by <b>hummassa</b> (guest, #307)
                              [<a href="/Articles/524672/">Link</a>] (8 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Where have you been the last year? ;-)<br>
<p>
They already ran about 300,000 miles, with only two accidents: one, the autonomous driving system was offline (i.e., the car was being driven by the human driver) and two, the car was rear-ended. Apparently, they are safer than me (I usually go some 40,000 miles between minor crashes and scrapes, and I have some 400,000 miles total in twenty years of driving, with ten incidents).<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/524672/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor524674"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 15:02 UTC (Tue)
                               by <b>KSteffensen</b> (guest, #68295)
                              [<a href="/Articles/524674/">Link</a>] (7 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Let me qualify that. The first accident involving grave human injury and/or death. <br>
<p>
<p>
I'm quite willing to believe that on the average these things are far more safe than human drivers since they so rarely have to text their girlfriends or fiddle with the radio or whatever. I do think they will have to prove their safety far more rigorously than the average human driver, though.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/524674/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor524679"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 15:20 UTC (Tue)
                               by <b>rvfh</b> (guest, #31018)
                              [<a href="/Articles/524679/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Real test for machine is in difficult situations, where humans may 'feel' that something is not quite right...<br>
Also, I am unsure these cars would work in Europe with crazy drivers and difficult-to-compute timings at some crossings.<br>
<p>
(disclaimer: I was born and have lived most of my life in Europe.)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/524679/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor524683"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 15:23 UTC (Tue)
                               by <b>niner</b> (subscriber, #26151)
                              [<a href="/Articles/524683/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Well they could hardly do worse than human drivers... speaking as a cyclist who has to endure and survive them every day.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/524683/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor524684"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 15:26 UTC (Tue)
                               by <b>mpr22</b> (subscriber, #60784)
                              [<a href="/Articles/524684/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <p>Heck, it'd probably have trouble in <a href="http://www.urbandictionary.com/define.php?term=Boston%20Left">Boston</a>, MA (which admittedly has one of the most European street layouts of any major city in the USA).</p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/524684/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor524923"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 14, 2012 11:58 UTC (Wed)
                               by <b>anselm</b> (subscriber, #2796)
                              [<a href="/Articles/524923/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <blockquote><em>I do think they will have to prove their safety far more rigorously than the average human driver, though.</em></blockquote>
<p>
I think a Turing-like test should suffice: If during a driving test, a driving license examiner cannot tell whether a computer or a person is driving the car, and it looks as if the entity in question ought to pass, then – if it was actually the computer driving – the setup is OK.
</p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/524923/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor526167"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 21, 2012 19:02 UTC (Wed)
                               by <b>ceswiedler</b> (guest, #24638)
                              [<a href="/Articles/526167/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Or the driving test is wildly insufficient to distinguish bad drivers.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/526167/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor526338"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 22, 2012 11:17 UTC (Thu)
                               by <b>Otus</b> (subscriber, #67685)
                              [<a href="/Articles/526338/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Or the driving test is wildly insufficient to distinguish bad drivers.</font><br>
<p>
That's not the purpose of most driving tests. Usually the purpose is to see if someone is good enough that they'll learn the rest on their own without being too much of a danger to others.<br>
<p>
Realistically most people who pass a driving test are going to be bad drivers for a long while. (Unless they are testing for a license in another state/country and have already driven a lot.)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/526338/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor526339"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 22, 2012 11:24 UTC (Thu)
                               by <b>mpr22</b> (subscriber, #60784)
                              [<a href="/Articles/526339/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Naturally. There's a driving examiner in the front passenger seat; getting an accurate picture of someone's everyday driving in such conditions is more or less impossible.
      
          <div class="CommentReplyButton">
            <form action="/Articles/526339/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor524665"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 14:29 UTC (Tue)
                               by <b>Chris_Lesiak</b> (subscriber, #4179)
                              [<a href="/Articles/524665/">Link</a>] (8 responses)
      </p>
      
      </div>
      </summary>
      Here's an example: <a href="http://www.linuxcnc.org">Linux CNC</a>
      
          <div class="CommentReplyButton">
            <form action="/Articles/524665/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor524671"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 14:42 UTC (Tue)
                               by <b>man_ls</b> (guest, #15091)
                              [<a href="/Articles/524671/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      Cool! Those look pretty critical to me: having catastrophic consequences if they fail -- at least causing damage to property, and probably to operators.
      
          <div class="CommentReplyButton">
            <form action="/Articles/524671/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor524752"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 21:48 UTC (Tue)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/524752/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Cool! Those look pretty critical to me: having catastrophic consequences if they fail -- at least causing damage to property, and probably to operators. </font><br>
<p>
I have built a CNC machine, so I have first-hand experience here.<br>
<p>
It depends how the system fails.<br>
<p>
If they fail by not scheduling for 100ms (or even 1s), there is probably no problem besides delaying the work.<br>
<p>
If they fail by sending the wrong commands out to the equipment, things can be worse.<br>
<p>
But these do not require real-time scheduling to operate.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/524752/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor524762"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 22:36 UTC (Tue)
                               by <b>man_ls</b> (guest, #15091)
                              [<a href="/Articles/524762/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      I was thinking more along the lines of plasma cutters or robots, also mentioned in the link: failing to switch off the plasma may have bad consequences. Or a cutting machine which needs precise synchronization between different pieces. But perhaps most of these machines are designed to be fail-safe.
      
          <div class="CommentReplyButton">
            <form action="/Articles/524762/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor524766"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 22:58 UTC (Tue)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/524766/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
failing to shut off the plasma cutter has very little effect (other than possibly a small amount of damage to the piece being cut), if you go off the edge, the plasma isn't going to be sustained, if you leave the cutter in place, the plasma will eat a small amount around the location until the circuit can't be sustained any longer and the plasma will cut off.<br>
<p>
These things rely far less on precise timing than you think.<br>
<p>
Just about all of the DIY devices rely on stepper motors, which move a specific distance when pulsed, not normal motors run for a specific amount of time.<br>
<p>
If the pulses are late, things move a little slower. If there is enough momentum in the system, it's possible for that momentum to cause the equivalent of 'jumping a tooth on a gear' and being slightly out of position, the solution to this problem is to slow the machine down a bit.<br>
<p>
synchronization between different pieces is a matter of either moving one motor, then a different motor, then the first one again, or in setting up the movement for both motors and sending a 'move now' pulse. In either case, slight delays don't break anything.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/524766/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor524928"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 14, 2012 12:07 UTC (Wed)
                               by <b>anselm</b> (subscriber, #2796)
                              [<a href="/Articles/524928/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <p>
Some time ago I consulted for a leading machine tool manufacturer here in Germany for a day or two and, after my actual work was done, was invited to take a guided tour of the shop floor. I was surprised to find out that they had these huge CNC machines attached to Linux-based controllers. I asked the guy who was showing me around whether they were using real-time Linux, and the answer was no, the normal generic Linux kernel worked fine as far as they were concerned. Considering that they are selling these gadgets to clients all over the world, and that any failure would probably cost them dearly, that put things into perspective for me …
</p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/524928/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor526022"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 21, 2012 9:32 UTC (Wed)
                               by <b>mb</b> (subscriber, #50428)
                              [<a href="/Articles/526022/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
There is a subproject for LinuxCNC Preempt-RT support:<br>
<a href="http://wiki.linuxcnc.org/cgi-bin/wiki.pl?Debian_Wheezy_Linux-Rt_Compile_LinuxCNC">http://wiki.linuxcnc.org/cgi-bin/wiki.pl?Debian_Wheezy_Li...</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/526022/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor526024"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 21, 2012 9:40 UTC (Wed)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/526024/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
doing so and posting benchamrk numbers showing latency doesn't matter, what would matter is if there is anything showing that this makes a difference in the part being machined.<br>
<p>
That page was big on the 'how to' but utterly lacking in the 'why go to this effort'<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/526024/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor526358"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 22, 2012 13:35 UTC (Thu)
                               by <b>mb</b> (subscriber, #50428)
                              [<a href="/Articles/526358/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; doing so and posting benchamrk numbers showing latency doesn't matter</font><br>
<p>
Ehm what?<br>
<p>
<font class="QuotedText">&gt; what would matter is if there is anything showing that this makes a difference in the part being machined.</font><br>
<p>
If it would make a difference to the machined parts, either the previous RTAI based implementation or the new Linux-RT-preempt based implementation would be seriously broken.<br>
<p>
<font class="QuotedText">&gt; That page was big on the 'how to' but utterly lacking in the 'why go to this effort'</font><br>
<p>
We do this, because it simplifies the software a lot and gets rid of all those ugly RTAI kernel modules.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/526358/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor524666"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 14:29 UTC (Tue)
                               by <b>epa</b> (subscriber, #39769)
                              [<a href="/Articles/524666/">Link</a>] (10 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
My guess would be systems which are real-time but not safety-critical.  In principle, Linux is too complex for use in systems where a bug can cause deaths.  In practice I daresay there will be those using it anyway.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/524666/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor524692"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 16:19 UTC (Tue)
                               by <b>gregkh</b> (subscriber, #8)
                              [<a href="/Articles/524692/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Hm, like MRI machines?  Air traffic control systems?  Airplane flight navigation?  Coal fired power generators?  Windmill controls?  Yacht stabilizers?  Spacecraft control systems?  Laser welding robots?  High-speed milling machines?<br>
<p>
I could go on and on.  Linux is used for lots of things like this, and has been for years (something like over 85% of the US power production is controlled directly by Linux machines).  A lot of these systems use the real-time patches, and others don't, but to think that Linux isn't being used in these type of situations is wrong.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/524692/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor525160"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 15, 2012 11:34 UTC (Thu)
                               by <b>epa</b> (subscriber, #39769)
                              [<a href="/Articles/525160/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Hmm, you're right.  I would draw a distinction between the software running on the air traffic controller's desktop (which has often been Unix for decades now) and the microcontroller which controls the air intake to the engines.  The former has fairly relaxed real-time requirements (the display has to update, but once a second might be acceptable) and I would call it 'soft safety-critical'.  The software running on your doctor's desktop PC could kill you if it displays the wrong notes and causes the doctor to prescribe the wrong medicine - yet this is not normally an application considered safety-critical where special software methods must be used to guarantee correctness.  By contrast, a failure of the jet engine microcontroller (assuming it has one, I am speculating) can cause instant disaster.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/525160/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor525474"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2012 18:29 UTC (Fri)
                               by <b>jtc</b> (guest, #6246)
                              [<a href="/Articles/525474/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
" The software running on your doctor's desktop PC could kill you if it displays the wrong notes and causes the doctor to prescribe the wrong medicine - yet this is not normally an application considered safety-critical where special software methods must be used to guarantee correctness."<br>
<p>
It's also requires neither a soft nor hard real-time kernel.  :-)<br>
<p>
[On a complete tangent:  Is anyone else getting completely sick of that constantly changing Perforce ad. that adorns the top and upper right side of almost every page on LWN.  I find it quite distracting and have to move another window to cover the right side of the page each time I open a new lwn page, so that I don't have the ad. screaming at me all the time while I'm reading!  They've been running this ad. for many weeks - it's about time the found a new sponsor.  Argghh!]<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/525474/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor525481"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2012 18:40 UTC (Fri)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/525481/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I believe that as a subscriber you can disable advertisements.<br>
<p>
LWN doesn't go after individual sponsors, they subscribe to an advertisement service that puts the ads in place based on their own criteria.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/525481/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor525483"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2012 19:12 UTC (Fri)
                               by <b>Trelane</b> (subscriber, #56877)
                              [<a href="/Articles/525483/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt;  I believe that as a subscriber you can disable advertisements.</font><br>
<p>
At the Professional Hacker level or above:<br>
<a href="https://lwn.net/op/FAQ.lwn#subs">https://lwn.net/op/FAQ.lwn#subs</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/525483/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor525489"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2012 21:06 UTC (Fri)
                               by <b>jtc</b> (guest, #6246)
                              [<a href="/Articles/525489/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
"At the Professional Hacker level or above:"<br>
<p>
Damn.  I'm a "starving hacker".  I'll have to upgrade once I find a job.<br>
<p>
Thanks for the info.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/525489/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor525490"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2012 21:07 UTC (Fri)
                               by <b>Trelane</b> (subscriber, #56877)
                              [<a href="/Articles/525490/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
NP. Glad you found it informative. :)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/525490/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor524698"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 16:41 UTC (Tue)
                               by <b>dashesy</b> (guest, #74652)
                              [<a href="/Articles/524698/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Well not if they are audited for a very narrow use case on dedicated long-life hardware, and fixed on a certain Kernel version without updates and with minimal applications (i.e. instruments).<br>
<p>
BTW, one more example I can add is DAQs.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/524698/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor525664"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 19, 2012 3:20 UTC (Mon)
                               by <b>mathstuf</b> (subscriber, #69389)
                              [<a href="/Articles/525664/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I assume that "DAQ" is meant to be "DAW" (digital audio workstation)?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/525664/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor525711"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 19, 2012 15:36 UTC (Mon)
                               by <b>dashesy</b> (guest, #74652)
                              [<a href="/Articles/525711/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Actually I meant Data Acquisition (DAQ) with additional output channels.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/525711/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor524737"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 19:42 UTC (Tue)
                               by <b>tbird20d</b> (subscriber, #1901)
                              [<a href="/Articles/524737/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
At Sony we're using Linux realtime in digital cameras and camcorders, for control of hardware (things like autofocus).<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/524737/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor524767"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 23:01 UTC (Tue)
                               by <b>iarenaza</b> (subscriber, #4812)
                              [<a href="/Articles/524767/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I know of at least one Spanish company building protection, control and measurement equipment for electrical grids that use real time linux.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/524767/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor525472"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Real time for what?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2012 18:20 UTC (Fri)
                               by <b>jtc</b> (guest, #6246)
                              [<a href="/Articles/525472/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
"what kind of applications require real time these days?"<br>
<p>
If Gleixner, when he quoted those download statistics ("About 30% of those went to European corporations, 25% to American corporations, 20% to Asian corporations, 5% to academic institutions"...), had also disclosed who those corporations were, this probably would give a good real-world answer to your question - or at least to the question: "What kinds of applications is the Linux realtime kernel being used or considered for these days?".  Has he released this info?  I suspect not - I suppose he's justifiably paranoid about being sued for breach of privacy or something like that.<br>
<p>
" Linux audio used to be mentioned often, but these days it appears that CONFIG_PREEMPT is enough; is it?"<br>
<p>
I can't answer that, but I will speculate that since music and MIDI recording and playback requires hard realtime capability, any companies considering using Linux for this would tend to favor the realtime kernel over the mainline kernel, since although the mainline kernel, perhaps, does fine x% of the time, the realtime kernel is likely (or certain, perhaps) to do fine y% of the time, where y% is significantly greater than x%.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/525472/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor525400"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">LCE: Realtime, present and future</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2012 10:41 UTC (Fri)
                               by <b>dmk</b> (guest, #50141)
                              [<a href="/Articles/525400/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Try robotics, where you want to find out where your machine is located out of sensors (gyro, wheelticks). If you have a constant or small variance delay in the measurements, you can estimate it and compensate for it. but if you have high variance in the delay your position estimate will suffer.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/525400/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor524763"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">LCE: Realtime, present and future</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2012 22:51 UTC (Tue)
                               by <b>tdwebste</b> (guest, #18154)
                              [<a href="/Articles/524763/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
CPU isolation looks useful particularly for safety certified linux-RT controllers. <br>
IEC6150<br>
<p>
It would be very interesting to replace IEC61508 certified RTOS with linux-RT. <br>
<p>
<p>
 <br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/524763/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor524867"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">LCE: Realtime, present and future</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 14, 2012 9:00 UTC (Wed)
                               by <b>alejluther</b> (subscriber, #5404)
                              [<a href="/Articles/524867/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
In another talk, Stephen Rostedt from Redhat explained the RT Preempt using his presentation from 2007 with updates in. Thomas Gleixner was there helping with explanations about how things have changed since 2007.<br>
<p>
At the end, there was a question to Thomas Gleixner "Do you consider RT Preempt will make other solutions like Xenomai obsolete?" <br>
<p>
"Yes, I do believe so" was the reply.<br>
<p>
The answer made me smile since it makes clear what is the mindset of people like Thomas: they love challenges whatever the complexity!<br>
<p>
I will not bet against him but moving the Fully-Preemptible Real-Time Linux kernel one step further means HARD real time. The main problems against is the kernel is too big and all we know bugs are out there. Xenomai and other solutions like RTLinux/RTAI are based on simplicity so bugs can be minimized. RTOS vs GPOS is all about determinism and RTOS can achieve this because the code is small enough for verification.<br>
<p>
RT Preemtp has brought some sort of revolution with design changes like IRQ threads. IMHO making the RT Preempt hard real time could just be achieved with another revolution which would make happy professor Andrew Tanenbaum (and Linus a bit grumpy). <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/524867/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor525140"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">LCE: Realtime, present and future</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 15, 2012 10:26 UTC (Thu)
                               by <b>tglx</b> (subscriber, #31301)
                              [<a href="/Articles/525140/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <p>Your assumption is, that Xenomai, RT-Linux and RTAI are fulfilling the requirements of hard real-time. I agree that the RTOS code base part of those is small, but it's complex enough that I have serious doubts about the ability to formally verify them.</p>

<p>Aside of that all those systems are so interwoven with Linux itself, that you'll have a <b>real hard time</b> to prove that there is no undesired influence possible from the "idle task Linux" to the "safe RTOS". Just look at the obvious lack of fault isolation and explain me how that is fulfilling the requirements.</p>

<p>While Preempt-RT might look more complex in the first place, I dare to claim that building an hybrid system, which fully relies on facilities of the "idle taks Linux" in all its glory without having full isolation in all aspects, is just introducing a different level of hard to understand and hard to verify complexity.</p>

<p>As long as nobody can point me to real proof of why any of the above solutions is verifiably more real-timeish than Preempt-RT, I definitely stand to my word, that Preempt-RT will make those obsolete or already has done so at least partially.</p>

<p>Thanks</p>
<pre>    tglx</pre>

      
          <div class="CommentReplyButton">
            <form action="/Articles/525140/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor525172"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">LCE: Realtime, present and future</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 15, 2012 13:00 UTC (Thu)
                               by <b>simlo</b> (guest, #10866)
                              [<a href="/Articles/525172/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Everytime this discussion comes up I add a comment like this:<br>
<p>
 Safety critical != hard real time<br>
<p>
Safety critical means that the system is certified and verified and maybe even mathematical proven to be correct. This implies small code and very often hard realtime.<br>
<p>
Hard real time means that there per design is an upper boundary to latency. But we all know that a system might not work as designed. Therefore a system can be hard real time by design but fail due to bugs.<br>
<p>
Thus by these definitions neither preempt realtime, RT-Linux nor Xenomia can be be safety critical but all can claim "hard real time" - but only if they have made sure that all code paths blocking scheduling of higher priority tasks and interrupts, have an upper boundary.<br>
<p>
And for a practical note: The theoretical upper boundary is not magnitudes higher than what you can measure in tests.<br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/525172/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor525258"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">LCE: Realtime, present and future</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 15, 2012 17:29 UTC (Thu)
                               by <b>tglx</b> (subscriber, #31301)
                              [<a href="/Articles/525258/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I'm well aware that safety critical != hard real-time.<br>
<p>
Though hard real-time systems must be designed in a way that they guarantee not to ever miss a deadline, simply because missing a single deadline is considered a fatal full system failure. So how do you guarantee that by other means than by mathematical proof?<br>
<p>
<font class="QuotedText">&gt; And for a practical note: The theoretical upper boundary is not magnitudes higher than what you can measure in tests.</font><br>
<p>
None of those systems including Preempt-RT can specify their theoretical upper boundary, except in safe ranges which make them not at all different :)<br>
<p>
Thanks<br>
       tglx<br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/525258/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor528592"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Most systems also have no proof that a kernel panic won't occur.</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 9, 2012 7:41 UTC (Sun)
                               by <b>gmatht</b> (subscriber, #58961)
                              [<a href="/Articles/528592/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Even for a non-RT system there is usually no proof that a full system failure won't occur. E.g. Linux has no proof that a kernel panic won't occur. Systems that claim to conform to POSIX standards rarely have a proof of this. If some organisation can trace all the cases of system failure to hardware failures they may choose to trust claims made by software, including hard real time claims, without formal proof.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/528592/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor525178"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">LCE: Realtime, present and future</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 15, 2012 13:24 UTC (Thu)
                               by <b>alejluther</b> (subscriber, #5404)
                              [<a href="/Articles/525178/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Thomas,<br>
<p>
That's a good point. But I talked about RTAI or RTLinux because the Xenomai reference. My experience is with RTLinux internals and the virtualization made there is just the simplest one, so you do not have isolation. You know there are today solutions based on full virtualization even with hardware help which, I guess, is a must for real full isolation.<br>
<p>
The good part of RTLinux technique (I think RTAI did not follow the rule of "keep simple" strictly) is you can use it with some microcontrollers which will not have support for hardware virtualization.<br>
<p>
Don't take me wrong. I think you are doing a fantastic job and with your mindset, maybe you prove me wrong in the future. I just wanted to point out the challenge (probably) needs another revolution regarding kernel design. By the way, the kernel modularity could be the starting point. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/525178/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2012, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
