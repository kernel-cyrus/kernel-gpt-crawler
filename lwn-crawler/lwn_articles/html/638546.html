        <!DOCTYPE html>
        <html lang="en">
        <head><title>XFS:  There and back ... and there again? [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/638546/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/638068/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/638546/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>XFS:  There and back ... and there again?</h1>
</div>
<div class="ArticleText">
<div class="FeatureByline">
           By <b>Jake Edge</b><br>April 1, 2015</br>
           <hr>
<a href="/Archives/ConferenceByYear/#2015-Vault">Vault 2015</a>
</div>
<p>
In a thought-provoking—and characteristically amusing—talk at the <a
href="http://events.linuxfoundation.org/events/vault">Vault conference</a>,
Dave Chinner looked at the history 
of XFS, its current status, and where the filesystem may be heading.
In keeping with the title of the talk (shared by this article), he sees 
parallels in what drove the original development of XFS and what will be
driving 
new filesystems.
Chinner's vision of the future for today's filesystems, and not just
of XFS, may be a bit surprising or controversial—possibly both.
</p>

<h4>History</h4>

<p>
In the early 1990s, "before I knew who SGI was", Chinner said, storage was
exceeding capacities that could be addressed with 32 bits.  The existing
filesystem for SGI's Unix, IRIX, was the <a
href="http://en.wikipedia.org/wiki/Extent_File_System">Extent File
System</a> (EFS) that only supported 32-bit addresses.  At
that time, 64-bit CPUs with large-scale multiprocessing were coming on, but
systems with hundreds of disks were not performing well.
</p>

<p>
XFS came about to fix those problems.  The "x" originally just meant
"undefined". This new undefined filesystem, xFS, had to support a number
of features: fast crash recovery, large filesystems with both sparse and
contiguous large files, and filesystems and directories that could hold
huge numbers of files.  The filesystem would need to support terabyte and
petabyte 
capacities in the foreseeable future at that time, he said.
</p>

<a href="/Articles/638626/">
<img src="https://static.lwn.net/images/2015/vault-chinner-sm.jpg" border=0 hspace=5
align="right" alt="[Dave Chinner]" title="Dave Chinner" width=201
height=300>
</a>

<p><blockquote class="ad">
<b><tt>$ sudo subscribe today</tt></b>
<p>
Subscribe today and elevate your LWN privileges. You’ll have
access to all of LWN’s high-quality articles as soon as they’re
published, and help support LWN in the process.  <a href="https://lwn.net/Promo/nst-sudo/claim">Act now</a> and you can start with a free trial subscription.
</blockquote>
<p>
Chinner showed a graph of the lines of code changed in XFS over time that
went all 
the way back to the beginning and up through commits from the previous
week.  Because the full commit history for XFS is available, graphs like
that can be made, he said.  Another way to use the history is to track bugs back
to their introduction. The oldest bug anyone has found
in recent times was 19 years old, he said.
</p>

<p>
The first production release of XFS was in December&nbsp;1994 in
conjunction with the release of IRIX&nbsp;5.3. In mid-1996, XFS became the
default filesystem in IRIX&nbsp;6.2.  The on-disk format had already gone
through four versions.  Even those early versions had the "feature mask" that
allows XFS filesystems to turn on or off individual filesystem features.
Those can be set for a particular filesystem at <tt>mkfs</tt> time;
the mask will be consulted for various types of operations.  It is a
feature of XFS that makes it particularly flexible.
</p>

<p>
The "IRIX years" of the late 1990s saw various feature additions.  Hardware
RAID array support was added in 1997, which resulted in XFS gaining the
ability to align its
allocations to match the geometry of the underlying storage.  By 1999, the
original directory structure was showing its age, so version&nbsp;2 directories
were added, increasing directory scalability to tens of millions
of files.  Chinner has personally tried 350 million files in a directory,
but he doesn't recommend it; running <tt>ls</tt> on such a directory takes
twelve hours, he said with a laugh.
</p>

<h4>Shift to Linux</h4>

<p>
Shortly thereafter, feature development in XFS on IRIX slowed down.  SGI
had shifted its focus to large NUMA machines and distributed IRIX;
development moved from XFS to the new <a href="http://en.wikipedia.org/wiki/CXFS">CXFS</a> cluster filesystem.  But SGI
also had a new product line that was based on Linux, which didn't have a
filesystem with the features of XFS.  So a team was formed in Melbourne,
Australia to port XFS to Linux.
</p>

<p>
In 2000, XFS was released under the GPL.  The first stable release of XFS
for Linux came in 2001.  And, in 2002, XFS was merged into the mainline for
Linux 2.5.36.
</p>

<p>
One of the unfortunate side effects of XFS and other filesystems being
merged into Linux was the proliferation of what Chinner called "<a
href="http://en.wikipedia.org/wiki/Bonnie%2B%2B">Bonnie++</a> speed
racing".  People were using the filesystem benchmarking tool with little
knowledge, which resulted in them "twiddling knobs" in the filesystem
that they did not understand.  The problem with that is that Google still
finds those posts today, so those looking for better XFS performance are
finding these
<a
href="http://everything2.com/title/Filesystem+performance+tweaking+with+XFS+on+Linux"
rel="nofollow">old
posts</a>
and following the instructions therein, which leads to the never-ending
"<tt>noatime,nodiratime,logbufs=8</tt> meme" for XFS mount options.
</p>

<p>
In the early 2000s, the Linux version of XFS started to diverge from the
IRIX version with the group quotas feature. The version&nbsp;2 log format
was added in 2002, which helped make metadata performance much better.
Also in 2002 came inode cluster delete and configurable sector sizes for
XFS.  In 2004, the 2.4 and 2.6 development trees were unified and the
feature mask was expanded.  XFS had run out of bits in the feature mask, he
said, so the last bit was used to indicate that there is an additional
feature mask to be consulted. 
</p>

<p>
A "major achievement" was unlocked in 2004, when SUSE shipped full XFS
support in SUSE Linux Enterprise Server (SLES)&nbsp;9.  It was a validation
of all the work that SGI had done on the filesystem, he said.  Someone from the
audience spoke up to say that SLES&nbsp;8 had shipped with XFS support in
2001, which seemed to surprise Chinner a bit.
</p>

<p>
The mid-2000s saw lots of misinformation spread about XFS (and other
filesystems) 
during the "filesystem wars", Chinner said.  His <a
href="http://events.linuxfoundation.org/sites/events/files/slides/dchinner-xfs-there-and-back.pdf">slides
[PDF]</a> contain several quotes from that time about "magical"
features, including large capacitors in SGI power supplies that caused XFS
not to lose data on power failure, zeroing of data after an unlink
operation so that undelete was not possible, and the zeroing of all open
files when there is an unclean shutdown.  None of those were true, but they
have become part of the XFS lore.
</p>

<p>
More features came about in 2005 and 2006.  Extended attributes were added into
the inode, for example, which resulted in an order-of-magnitude performance
improvement for Samba atop XFS.  That time frame was also
the crossover point where Linux XFS started outperforming IRIX XFS.  On
Linux 2.6.16, XFS achieved a 10GB/second performance on a 24-processor Altix
machine, he said.
</p>

<p>
A few years further on, the "<a
href="/Articles/351422/"><tt>O_PONIES</tt></a> wars" began.  Chinner
pointed 
to a <a
href="https://bugs.launchpad.net/ubuntu/+source/linux-source-2.6.15/+bug/37435">Launchpad
bug</a> about an XFS file data corruption problem under certain
conditions.  The workaround was to use <tt>fdatasync()</tt>
after renaming the file, but that would require changes in user
space.
 The bug was closed as a "Won't fix", but none of the XFS
developers were ever even consulted about it. It turns out that it actually
was a bug in XFS that was 
fixed a year later.
</p>

<h4>Shift to the community</h4>

<p>
"Sad days" arrived in 2009, when the SGI XFS engineering team was
disbanded. The company had been losing money since 1999, he said.  The
community stepped in to maintain the XFS tree while SGI reorganized.  After
that, SGI
intermittently maintained XFS until the end of 2013; he didn't mention that
most of the work during that time was being done by developers (like
himself) working at 
other companies.  Chinner said he went
away to the racetrack for a weekend and came back to find out that he had been
<a href="/Articles/573658/">nominated to take over as maintainer</a>. 
</p>

<p>
Since the shutdown of the XFS team, development on the filesystem has
largely shifted to the wider community, he said.  Development did not slow
down as a result, however; if anything, it accelerated.  But all of that
work is not just about adding code, a lot of code has been removed along
the way, as well.
</p>

<p>
He rhetorically asked if XFS is "still that big, bloated SGI thing"?  He
put up a graph 
showing the number of lines of code (LOC) in XFS for each kernel release.
The size of the XFS codebase started dropping around 2.6.14, bottomed out
in 3.6, rose again until 3.15 or so, and has leveled off since.  The level
(just under 70,000 LOC) is lower than where the graph started with 2.6.12
(roughly 75,000 LOC).  The line for Btrfs crossed that of XFS around 3.5
and it is at 80,000+ and still climbing; it hasn't leveled off, Chinner said.
</p>

<p>
He listed the top developers for XFS, with Christoph Hellwig at the top,
followed closely by Chinner himself.  He called out early XFS developers Adam
Sweeney and Doug Doucette, noting that they had done "tons of work" in a
fairly small number of years.  He quoted Isaac Newton ("<q>If I have
seen further than others, it is by standing upon the shoulders of
giants.</q>") and said that XFS came about "not because of me", but from
the work of all of those 
others on the list.
</p>

<p>
Recent and ongoing developments in XFS include sparse inode chunk
allocation to support 
GlusterFS and Ceph, unification of the quota API, and reverse mapping for
the internal 
B-trees (more reasons for doing so cropped up at the recently completed <a
href="/Articles/lsfmm2015/">LSFMM Summit</a>, he said).
In addition, <a href="/Articles/331808/">reflink</a> support for per-file snapshots has been added,
defragmentation improvements have been made, and support for the <a
href="/Articles/591779/">direct access block layer</a> (DAX) has been
added.  There is "lots going on at the moment", he said.
</p>

<h4>The near future</h4>

<p>
In among working on all of that, Chinner has been trying to plot out the next
five years or so of XFS development.  He did a similar exercise back in
2008 and 
posted some <a href="http://xfs.org/index.php/Ideas_for_XFS">documents</a>
to <a href="http://xfs.org/">XFS.org</a>.  Over the years since then, all
of the features in those documents have been ticked off the list, though
reverse B-trees, which are 95% complete, are "the last bit".  So, now is
the time to plan for the future.
</p>

<p>
There are known storage technologies that are pulling filesystem developers
in opposite directions, he said.  <a href="/Articles/637035/">Shingled magnetic recording</a> (SMR) devices
and <a href="/Articles/636096/">persistent memory</a> are going to change things radically.  The key for
developers of existing filesystems is to figure out "good enough" solutions
to allow those filesystems to work on SMR and persistent memory devices.
Eventually, someone will come up with a filesystem that specifically
targets SMR devices or persistent memory that "blows everything else away".
</p>

<p>
Over the next five or more years, XFS needs to have better integration with
the block devices it sits on top of.  Information needs to pass back and
forth between XFS and the block device, he said.
That will allow better support of thin provisioning.  It will also help
with offloading block clone, copy, and compress operations.  There are more
uses for that integration as well, including better snapshot awareness and
control at the filesystem layer.
</p>

<p>
Improving reliability is another area where XFS will need more work.
Reconnecting orphaned filesystem objects will become possible with the
B-tree reverse mapping abilities.  That will also allow repairing the
filesystem while it is online, rather than having to unmount it to do
repairs.  Proactive corruption detection is also on the list.  When
corruption is found, the affected part of the filesystem could be isolated
for repair.  These features would make XFS "effectively self-healing",
Chinner said.
</p>

<p>
There is a "fairly large amount of work" on the list, he said.  While he is
targeting five years, he can't do it alone in that time period.  If it is
just him, it will probably take six or seven years, he said with a grin.
</p>

<h4>Farther out</h4>

<p>
But we also need to be thinking a little further ahead.  Looking at the
progression of capacities and access times for "spinning rust" shows 8GB,
7ms drives in the mid-1990s and 8TB, 15ms drives in the mid-2010s.  That
suggests that the mid-2030s will have 8PB (petabyte, 1000 terabytes) drives with 30ms
access times.

<p>
The progression in solid-state drives (SSDs) shows slow,
unreliable, and "damn expensive" 30GB drives in 2005.  Those drives were
roughly $10/GB, but today's rack-mounted (<a href="http://en.wikipedia.org/wiki/Rack_unit">3U</a>) 512TB SSDs are less than $1/GB and
can achieve 7GB/second performance.  That suggests to him that by 2025 we
will have 3U SSDs with 8EB (exabyte, 1000 petabytes) capacity at $0.1/GB.
</p>

<p>
SSDs have lots of compelling features (e.g. density, power consumption,
performance) and are cost-competitive.  But persistent memory will be even
denser and faster, while still being competitive in terms of cost.  It is
at least five years before we see pervasive persistent memory deployment,
however.  Chinner did caution that <a
href="http://en.wikipedia.org/wiki/Memristor">memristors</a> are a wild
card that could be "a game changer" for storage.
</p>

<p>
Those projections indicate that focusing on spinning rust would be largely
misplaced.  XFS (and other filesystems) have to follow where the hardware
is taking them.  SSD storage will push capacity, scalability, and
performance much faster than SMR technologies will.  Though "most of the
cat pictures" on the internet will likely be stored on SMR drives before too
long, he said with a chuckle.
</p>

<p>
8EB is about as large as XFS can go.  In fact, the 64-bit address space will be
exhausted for filesystems and CPUs in the next 10-15 years.  Many people
thought that the 128-bit addresses used by ZFS were "crazy", but it doesn't
necessarily look that way now.
</p>

<p>
By 2025-2030, XFS will be running up against capacity and addressability
limits.  It will also be hitting architectural performance limits in
addition to complexity limits from continuing to support spinning rust
disks.  The architecture of XFS will be unsuited to the emerging 
storage technologies at that time.
</p>

<p>
All of those projections place a hard limit on the development life of
XFS.  It doesn't make sense to do a large-scale rework of the filesystem to
support SMR devices, for example.  SMR will be supported, but the project
is "not going to turn everything upside down for it".  There is a limited
amount of life left in the filesystem at this point and SMR technologies
will be outrun by other storage types.
</p>

<p>
From Btrfs, GlusterFS, Ceph, and others, we know that it takes 5-10 years
for a new filesystem to mature.  That implies we need to start developing
any new filesystems soon.  For XFS, there is the definite possibility that
this 5-7 year development plan that he is working on will be the last.  In
20 years, 
XFS will be a legacy filesystem.  That's likely true for any current
filesystem; he may not be right, he said, but if he is, we may well be
seeing the last major development 
cycle for all of the existing filesystems in Linux.
</p>

<p>
[I would like to thank the Linux Foundation for travel support to Boston for Vault.]<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Filesystems-XFS">Filesystems/XFS</a></td></tr>
            <tr><td><a href="/Archives/ConferenceIndex/">Conference</a></td><td><a href="/Archives/ConferenceIndex/#Vault-2015">Vault/2015</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/638546/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor638734"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  There and back ... and there again?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 1, 2015 18:54 UTC (Wed)
                               by <b>jdub</b> (guest, #27)
                              [<a href="/Articles/638734/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Nice work on the well-placed rel=nofollow. ;-)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/638734/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor638851"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  There and back ... and there again?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 2, 2015 9:10 UTC (Thu)
                               by <b>lkundrak</b> (subscriber, #43452)
                              [<a href="/Articles/638851/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Haha!<br>
<p>
How did you notice?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/638851/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor638852"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  There and back ... and there again?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 2, 2015 9:17 UTC (Thu)
                               by <b>jdub</b> (guest, #27)
                              [<a href="/Articles/638852/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I had to check, given the context. LWN has good Google Juice!<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/638852/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor638765"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  There and back ... and there again?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 1, 2015 20:30 UTC (Wed)
                               by <b>rodgerd</b> (guest, #58896)
                              [<a href="/Articles/638765/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; The bug was closed as a "Won't fix", but none of the XFS developers were ever even consulted about it. It turns out that it actually was a bug in XFS that was fixed a year later. </font><br>
<p>
Perhaps the (non-XFS) kernel devs should have spent rather less time with their O_PONIES mockery and a little more time actually studying the problems...<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/638765/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor638770"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  There and back ... and there again?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 1, 2015 20:59 UTC (Wed)
                               by <b>zanak</b> (guest, #101571)
                              [<a href="/Articles/638770/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
XFS already is a legacy filesystem, but unfortunately it is not<br>
treated this way by its developers. They insist adding new features<br>
that nobody asked for and actually add more and more bugs.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/638770/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor638816"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  There and back ... and there again?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 2, 2015 5:52 UTC (Thu)
                               by <b>reubenhwk</b> (guest, #75803)
                              [<a href="/Articles/638816/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Impressive though that it's still called XFS...never a need for XFS2, XFS3, or XFS4.  Seems like they got it right the first time.  Legacy or not, it's one of the best.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/638816/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor638920"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  There and back ... and there again?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 2, 2015 16:50 UTC (Thu)
                               by <b>deater</b> (subscriber, #11746)
                              [<a href="/Articles/638920/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Impressive though that it's still called XFS...never a need for XFS2, </font><br>
<font class="QuotedText">&gt; XFS3, or XFS4. Seems like they got it right the first time. Legacy or</font><br>
<font class="QuotedText">&gt; not, it's one of the best.</font><br>
<p>
I wouldn't go that far.  I definitely have some XFS images lying around that were created on old IRIX systems that mounted just fine under Linux 2.4 but will not mount with newer kernels due to support for older features being dropped.  So some sort of versioning difference has happened even if it's not reflected in the filesystem name.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/638920/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor638961"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  There and back ... and there again?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 2, 2015 21:24 UTC (Thu)
                               by <b>dgc</b> (subscriber, #6611)
                              [<a href="/Articles/638961/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yup, XFS uses feature masks for compatibility, not name changes, and original Irix filesystems were never supported on Linux. e.g. linux never had dirv1 support, so no Irix filesystem prior to dirv2 (1998) would ever mount on Linux. And, yes, we have dropped support for old misfeatures over time (e.g. unwritten extents have to be enabled) and required features that existed when dirv2 came about. The result is that really old filesystems won't mount on modern kernels as a trade off for keeping the test matrix for current development manageable...<br>
<p>
-Dave.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/638961/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor638832"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  There and back ... and there again?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 2, 2015 7:16 UTC (Thu)
                               by <b>epa</b> (subscriber, #39769)
                              [<a href="/Articles/638832/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
A common definition says that a legacy system is one in current use.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/638832/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor638850"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  There and back ... and there again?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 2, 2015 9:09 UTC (Thu)
                               by <b>eru</b> (subscriber, #2753)
                              [<a href="/Articles/638850/">Link</a>] 
      </p>
      
      </div>
      </summary>
      One could say that in the Gartner Group's "hype cycle", XFS is now at the "plateau of productivity". One evidence for this is that RHEL7 at last suggests it as the default filesystem (or at least CentOS7 did, when I installed it recently, and I guess it is following RHEL there).
      
          <div class="CommentReplyButton">
            <form action="/Articles/638850/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor638772"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  There and back ... and there again?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 1, 2015 21:16 UTC (Wed)
                               by <b>ejr</b> (subscriber, #51652)
                              [<a href="/Articles/638772/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
This is the kind of presentation and summary for which companies pay thousands. Thank you.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/638772/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor638796"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Memristors schmemristors</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 2, 2015 3:33 UTC (Thu)
                               by <b>ncm</b> (guest, #165)
                              [<a href="/Articles/638796/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It seems especially appropriate, somehow, that memristors are mentioned on April 1.  I can't tell whether they are a total fraud, an inside joke, or a fever dream.  HP's involvement suggests the first alternative.<br>
<p>
But, hey, what's up with spintronics lately?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/638796/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor638969"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Memristors schmemristors</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 3, 2015 0:06 UTC (Fri)
                               by <b>rahvin</b> (guest, #16953)
                              [<a href="/Articles/638969/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Not commenting on HP or the fact that the company is driven by MBA's rather than Engineers these days. But Memsistors were a theoretical idea for a long time and there is real science and real research behind them being proven as real. They are a recognized reality, not a fanciful projection at this point, at least as I understand the science behind them and the consensus of the scientific community at this point.  <br>
<p>
The challenge has always been (just like most things), if the now proven item can actually be constructed at a reasonable cost and are conducive towards mass production. In other words the actual engineering. Even if a researcher can build a single memsistor in a lab for a few million bucks it doesn't mean anyone is going to be able to build them in massive quantity at sizes that will make their use practical. <br>
<p>
It's entirely possible memsistors could be impossible to construct in volume or smaller than a fridge which would make them irrelevant. HP seems to think they are not only constructable but economical but only time will tell. If they are successful though memsistors could change the entire computer industry. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/638969/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor638884"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  There and back ... and there again?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 2, 2015 13:21 UTC (Thu)
                               by <b>walters</b> (subscriber, #7396)
                              [<a href="/Articles/638884/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <blockquote>reflink support for per-file snapshots has been added</blockquote>

Really?  I only see reflink bits in mainline for BTRFS and OCFS2.
      
          <div class="CommentReplyButton">
            <form action="/Articles/638884/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor638960"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  There and back ... and there again?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 2, 2015 21:17 UTC (Thu)
                               by <b>dgc</b> (subscriber, #6611)
                              [<a href="/Articles/638960/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
reflink is being worked on, in the early prototype stage. It's not upstream yet.<br>
<p>
-Dave.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/638960/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor638905"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 2, 2015 14:39 UTC (Thu)
                               by <b>Felix.Braun</b> (guest, #3032)
                              [<a href="/Articles/638905/">Link</a>] (22 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I have considered giving XFS a try on one of my computers in the past but wasn't able to find any reason to prefer it over ext4. I'm all for using the right tool for the job. But I couldn't find any information about the advantages XFS has over ext4 apart from the fact that XFS allows filesizes up to 8 EB.<br>
<p>
So when would you choose XFS over ext4?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/638905/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor638911"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 2, 2015 16:07 UTC (Thu)
                               by <b>bfields</b> (subscriber, #19510)
                              [<a href="/Articles/638911/">Link</a>] (20 responses)
      </p>
      
      </div>
      </summary>
      A lot of the really important differences are hard to summarize on a spec sheet:  how they perform on a wide variety of workloads, how reliable they are, how easy it is for developers to support them.

So, not being an expert on either filesystem, but working with people who are--I almost always rely on their judgement, which means going with whatever they chose for the distro's default.

Boring answer, I apologize....
      
          <div class="CommentReplyButton">
            <form action="/Articles/638911/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor638927"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 2, 2015 17:22 UTC (Thu)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/638927/">Link</a>] (19 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The short version is that either will work find on a single disk laptop/disktop situation.<br>
<p>
XFS is going to start showing it's advantages when you get to more advanced/larger disk systems (large RAID arrays)<br>
<p>
ext* is a filesystem designed for small systems that's growing towards supporting large systems. XFS is a filesystem designed for large systems that's been getting slimmed down and optimized so that it also works well on small systems.<br>
<p>
One example of this is that there have been bugs reported on ext* that the developers could not duplicate because none of them have access to similar hardware (where similar hardware is a fairly modest SCSI RAID array)<br>
<p>
I've been using XFS for quite a few years on systems (since well before ext4) and so for me the question is the opposite, what's so compelling about ext4 to cause me to move away from xfs? :-)<br>
<p>
I made the shift during the ext3 days when ext3 was crippling for anything that did fsyncs for data reliability. That particular bug has been fixed in ext4, but that's not enough reason to switch.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/638927/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor638970"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 3, 2015 0:23 UTC (Fri)
                               by <b>rahvin</b> (guest, #16953)
                              [<a href="/Articles/638970/">Link</a>] (18 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
There is one very good reason to use ext2/3/4. Near universal compatibility with distributions and even other OS's. Heck you can even download an ext driver for windows.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/638970/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor638972"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 3, 2015 0:34 UTC (Fri)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/638972/">Link</a>] (14 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
what linux distro can't handle an XFS filesystem? there are several that can't boot from them, but they've all included the tools to be able to mount and access them for a very long time<br>
<p>
If you need cross OS compatibility, you need some fat variation.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/638972/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor639130"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 5, 2015 2:05 UTC (Sun)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/639130/">Link</a>] (13 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; If you need cross OS compatibility, you need some fat variation.</font><br>
<p>
or UDF.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/639130/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor639145"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 5, 2015 21:19 UTC (Sun)
                               by <b>flussence</b> (guest, #85566)
                              [<a href="/Articles/639145/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
+1 to this, UDF is a very nice filesystem for anything not physically screwed down. More or less equivalent to FAT32 in functionality, but without the legal muddy water.<br>
<p>
The hardest part for me is remembering which of four different mkudffs switches set the string that shows up in /dev/disk/by-label/...<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/639145/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor639234"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 6, 2015 16:57 UTC (Mon)
                               by <b>jem</b> (subscriber, #24231)
                              [<a href="/Articles/639234/">Link</a>] (11 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; or UDF.</font><br>
<p>
UDF is nice, but has its own problems. Depending on the type of removable media, either the whole disk should be used for the file system, or the disk should be partitioned. This blog post from 2010 explains a hack making the disk appear both partitioned and unpartitioned at the same time: <a href="http://sipa.ulyssis.org/2010/02/filesystems-for-portable-disks/">http://sipa.ulyssis.org/2010/02/filesystems-for-portable-...</a><br>
<p>
But there are more dark clouds on the horizon; see this page: <a href="http://askubuntu.com/questions/27936/can-and-should-udf-be-used-as-a-hard-drive-format">http://askubuntu.com/questions/27936/can-and-should-udf-b...</a><br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/639234/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor639238"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 6, 2015 17:07 UTC (Mon)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/639238/">Link</a>] (10 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
There are some practical and technical issues but none seems unsolvable - unlike exFAT patents (I've used UDF successfully).<br>
<p>
I think the main reasons these issues haven't been solved yet:<br>
- lack of interest in true cross-platform compatibility<br>
- lack of interest in removable media. Everything more conveniently stored in the NSA-monitored cloud.<br>
<p>
So we'll probably never have a very good solution here.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/639238/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor639309"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 7, 2015 7:29 UTC (Tue)
                               by <b>jem</b> (subscriber, #24231)
                              [<a href="/Articles/639309/">Link</a>] (9 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Of course the issues are solvable. If there's a will there is a way. But this requires all parties to work towards this goal. There is not much the FOSS community can do if Microsoft or Apple aren't interested. Microsoft's "solution" to the interoperability problem is exFAT. The true innovation is not the file system itself, but the way Microsoft has managed to make its patented system an industry standard. They know the licensing requirements are not compatible with the Linux world, and that's just how they like things to be.<br>
<p>
Microsoft has even managed to make the exFAT file system "mandatory" on SDXC cards. There is no technical reason an SDXC card can't be formatted using FAT32. In fact, a FAT32 volume can easily span 2 TiB, which is the upper limit of SDXC cards. Of course, although perfectly valid, there's no guarantee devices support e.g. a 64 GB FAT formatted SD card, because they are not "supposed" to.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/639309/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor639318"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 7, 2015 7:38 UTC (Tue)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/639318/">Link</a>] (7 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; There is not much the FOSS community can do if Microsoft or Apple aren't interested. Microsoft's "solution" to the interoperability problem is exFAT. [...] They know the licensing requirements are not compatible with the Linux world, and that's just how they like things to be.</font><br>
<p>
UDF has a major difference: it's not going to be possible to make all these DVDs and other disks suddenly unreadable or patented.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/639318/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor639342"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 7, 2015 12:39 UTC (Tue)
                               by <b>jem</b> (subscriber, #24231)
                              [<a href="/Articles/639342/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
No doubt do all systems read DVD discs. But we're talking about portable r/w storage on removable media like USB hard drives, USB flash drives and SD cards. Things like block sizes, partitions or raw disk, etc. come into play. As you see on the pages I linked to earlier, there *are* problems, and if UDF formatted media does not work as well as a flash disk out of the box, people are not going to use it.<br>
<p>
If there are problems with Windows interoperability, I doubt asking for help from Microsoft is going to help. I bet the answer you'll get is: "use exFAT".<br>
<p>
Don't get me wrong, I would love to use UDF as a universal file system that is interoperable between different operating systems. Unfortunately, to me this doesn't seem realistic at the moment. I'd be happy if someone could prove me wrong.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/639342/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor639409"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 7, 2015 18:08 UTC (Tue)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/639409/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
If the SD Card Association or JEDEC or anything similar started actually caring about cross-compatibility and selling products, they could settle on some variant of UDF. At which point Microsoft would not be able to pretend there are some technical issues; their frivolous patent game would then be clear to even the least technical consumers.<br>
<p>
SDXC right now looks a little bit like a repeat of *data* Minidisc in the 90s. Minidiscs were technically good, cheap and had a really good window of opportunity for data before flash memory became cheap and ubiquitous. For data they never got off the ground because of artificial crippling and became completely irrelevant once flash was there.<br>
<p>
With the rise of The Cloud, NAS appliances and all other networked things SDXC will very slowly die like every other removable media, leaving the minority of users who really need removable media forever in this painful cross-compatibility situation.<br>
<p>
<font class="QuotedText">&gt; Unfortunately, to me this doesn't seem realistic at the moment. I'd be happy if someone could prove me wrong.</font><br>
<p>
Different analysis and reasons - same pessimistic feelings and conclusion :-)<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/639409/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor639887"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 10, 2015 8:13 UTC (Fri)
                               by <b>Wol</b> (subscriber, #4433)
                              [<a href="/Articles/639887/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt;  With the rise of The Cloud, NAS appliances and all other networked things SDXC will very slowly die like every other removable media,</font><br>
<p>
And then you take a device (like a camera) somewhere where there is no network capability and you're stuffed. This blind faith in the ever-present external support network gets boring. That's how you get disasters - a failure somewhere else knocks your system out and you end up running around like a headless chicken because you have NO BACKUP.<br>
<p>
fwiw, my current camera currently has 48 *G*B of SD-card capacity, and that is enough to store 600 photos - yes, six *hundred*. wtf am I supposed to do if I go on the holiday of a lifetime, with minimal access to civilisation (yes I'm that sort of a person), and go mad with the camera?<br>
<p>
Cheers,<br>
Wol<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/639887/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor639920"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 10, 2015 12:15 UTC (Fri)
                               by <b>pizza</b> (subscriber, #46)
                              [<a href="/Articles/639920/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; fwiw, my current camera currently has 48 *G*B of SD-card capacity, and that is enough to store 600 photos </font><br>
<p>
Yeah, 48MB per (losslessly compressed 14-bit RAW) image really adds up, doesn't it?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/639920/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor640063"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 12, 2015 13:47 UTC (Sun)
                               by <b>Wol</b> (subscriber, #4433)
                              [<a href="/Articles/640063/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
What's the quote? "Never underestimate the bandwidth of a van full of tapes on the motorway"?<br>
<p>
Cheers,<br>
Wol<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/640063/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor639923"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 10, 2015 12:26 UTC (Fri)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/639923/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I have a 128G card in my camera, and at a recent work outing I set it up on automatic and it shot over 700 pictures in a few hours. When I shoot manually, it's not uncommon for me to shoot 300+ pictures at an event. The camera's "shots left" counter only goes to 2000 so I'm not sure exactly how many shots the card should hold, but it's in the 3-4K range<br>
<p>
it takes a long time to download this data from the SD card when directly read from a computer, and a long time to send this much data over a wired Gig-E network. I sure wouldn't want to depend on having a cell or wifi network available that could handle me (and others around me) shooting at these sorts of volumes.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/639923/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor640011"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 10, 2015 22:38 UTC (Fri)
                               by <b>marcH</b> (subscriber, #57642)
                              [<a href="/Articles/640011/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Isn't USB2 supposed to be as fast as all but the fastest (and crazy expensive) UHS cards? Not even mentioning USB3.<br>
<p>
From that respect you should be able to ignore the removable and cross-compatibility aspects of the SDXC card in your camera?<br>
<p>
Windows users better do this anyway for other reasons: <a href="https://en.wikipedia.org/wiki/Windows_Photo_Viewer#Issues">https://en.wikipedia.org/wiki/Windows_Photo_Viewer#Issues</a><br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/640011/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor639871"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 10, 2015 5:24 UTC (Fri)
                               by <b>yuhong</b> (guest, #57183)
                              [<a href="/Articles/639871/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
To be honest, the 32GB formatting limit for FAT32 dates back to Win2000. But yes exFAT is on my poorly written wishlist on my blog.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/639871/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor639104"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 4, 2015 10:53 UTC (Sat)
                               by <b>deepfire</b> (guest, #26138)
                              [<a href="/Articles/639104/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
An ext driver for Windows, that can mount a modern ext4 FS image?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/639104/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor639106"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 4, 2015 12:32 UTC (Sat)
                               by <b>cesarb</b> (subscriber, #6266)
                              [<a href="/Articles/639106/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Since it's a driver, I believe it has to be signed on all non-obsolete versions of Windows. Perhaps that's why the development of the ext driver for Windows stalled? Or is it just a lack of interest?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/639106/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor639986"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 10, 2015 17:35 UTC (Fri)
                               by <b>nerdshark</b> (guest, #101876)
                              [<a href="/Articles/639986/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Actually, the two biggest ext* drivers on Windows are relatively up-to-date. The ext2fsd driver doesn't come signed, but I'm pretty sure the Paragon ExtFS driver *is*.<br>
<p>
<a rel="nofollow" href="https://www.paragon-software.com/home/extfs-windows/">https://www.paragon-software.com/home/extfs-windows/</a><br>
<a rel="nofollow" href="http://www.ext2fsd.com/">http://www.ext2fsd.com/</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/639986/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor639005"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  Why</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 3, 2015 10:47 UTC (Fri)
                               by <b>sdalley</b> (subscriber, #18550)
                              [<a href="/Articles/639005/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
XFS has better (dynamic) allocation of inodes.<br>
<p>
Creating large numbers of tiny files on ext4 ran me into an ENOSPC when the disk blocks were still less than half used, simply because the (allocated-at-mkfs-time) inodes had run out.<br>
<p>
XFS handles all that automatically; you don't have to guess ahead of time that you're going to need vast numbers of inodes.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/639005/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor639401"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  There and back ... and there again?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 7, 2015 16:17 UTC (Tue)
                               by <b>Paf</b> (subscriber, #91811)
                              [<a href="/Articles/639401/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Is there perhaps video of Dave's talk?  (I'm guessing not since no link was provided, but I thought I'd ask anyway. :) )<br>
<p>
Thank you, Jake, for a fantastic article (and Dave for a great talk).<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/639401/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor640876"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS reflink status?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 18, 2015 5:31 UTC (Sat)
                               by <b>gmatht</b> (subscriber, #58961)
                              [<a href="/Articles/640876/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
What is the status of XFS reflink? I have seen work on reflink early 2013, e.g.:<br>
  <a rel="nofollow" href="http://oss.sgi.com/archives/xfs/2013-01/msg00135.html">http://oss.sgi.com/archives/xfs/2013-01/msg00135.html</a><br>
but have not found any patches on LKML. Has it been merged yet?  <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/640876/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor643180"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS reflink status?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted May 4, 2015 22:52 UTC (Mon)
                               by <b>dgc</b> (subscriber, #6611)
                              [<a href="/Articles/643180/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Being actively worked on. Won't be ready for a while - maybe 4.3 or 4.4?<br>
<p>
-dave.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/643180/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor641201"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  There and back ... and there again?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 21, 2015 13:16 UTC (Tue)
                               by <b>nye</b> (subscriber, #51576)
                              [<a href="/Articles/641201/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt;..., and the zeroing of all open files when there is an unclean shutdown. None of those were true, but they have become part of the XFS lore.</font><br>
<p>
Does anyone know what the real reason was for files that were not being written to at the time to be zero'd on unclean shutdown, and/or what circumstances would trigger it?<br>
<p>
I guess it's water under the bridge now, but it would be nice to know nevertheless.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/641201/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor643181"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  There and back ... and there again?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted May 4, 2015 22:55 UTC (Mon)
                               by <b>dgc</b> (subscriber, #6611)
                              [<a href="/Articles/643181/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<a href="http://sandeen.net/wordpress/computers/xfs-does-not-null-files-and-requires-no-flux/">http://sandeen.net/wordpress/computers/xfs-does-not-null-...</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/643181/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor643199"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  There and back ... and there again?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted May 5, 2015 12:53 UTC (Tue)
                               by <b>nye</b> (subscriber, #51576)
                              [<a href="/Articles/643199/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
That's a different bug, unless the delayed cache flush problem can cover delays of many hours: I was specifically wondering about files *not being written to at the time*. Is it possible that it could still be down to that?<br>
<p>
Basically, once upon a time I found a fair number of files wiped out after a power failure, and the only reason I noticed straight away was because one of them was /etc/passwd. It's *possible* that I'd [un]installed something earlier in the day that might have had a need to add/remove/alter a user account, but there was definitely nothing like that going on at the time.<br>
<p>
What I learned when attempting to understand this at the time was that XFS was specifically intended to work with battery-backed RAID arrays, and not as a general-purpose filesystem, so I chalked it up to a bad choice for a desktop machine and moved on. Nevertheless, this is one of the two biggest data loss events I've ever experienced (the other being a botched reiserfs resize) so it's stuck with me even though it was long ago now.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/643199/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor643247"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  There and back ... and there again?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted May 5, 2015 20:41 UTC (Tue)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/643247/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
data can sit in the OS cache for quite a long time, depending on how the file is written to. Ext3 tried to flush it out fairly quickly, but even it could run into serious problems doing so<br>
<p>
The bottom line is that if you want to be sure that data is on disk, you need to do a fsync.<br>
<p>
Yes, if the system is idle, it will try to proactively push data out so that it can more easily throw the pages away if needed, but if you rely on that for critical stuff, you are going to run into problems someday. It doesn't matter what filesystem you use.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/643247/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor643309"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">XFS:  There and back ... and there again?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted May 6, 2015 11:03 UTC (Wed)
                               by <b>nye</b> (subscriber, #51576)
                              [<a href="/Articles/643309/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I think you've confused this for a thread in which somebody is looking for platitudes on writing crash-resistant software.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/643309/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2015, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
