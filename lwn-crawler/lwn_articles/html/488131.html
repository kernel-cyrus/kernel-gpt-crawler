        <!DOCTYPE html>
        <html lang="en">
        <head><title>3.4 Merge window part 2 [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/488131/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/488384/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/488131/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>3.4 Merge window part 2</h1>
</div>
<div class="ArticleText">
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>March 28, 2012</br>
           </div>
In the <a href="/Articles/487085/">3.3 release announcement</a>, Linus
warned developers that he would be taking a bit of time off during the
merge window; that did indeed happen over the last week.  Still, he managed
to pull some 4,000 changesets since <a href="/Articles/487417/">last week's
summary</a>.  Some of the more significant changes merged in the last week
include: 
<p>
<ul>
<li> The PowerPC has gained a new <a
     href="/Articles/488132/">firmware-assisted dump</a> facility for the
     quick capture and analysis of crash dumps.
<p>
<li> The GFS2 filesystem now supports the <tt>FITRIM</tt> <tt>ioctl()</tt>
     command which can be used to send discard requests to the underlying
     storage device.
<p>
<li> The <tt>prctl()</tt> system call has a new option called
     <tt>PR_SET_CHILD_SUBREAPER</tt>.  Marking a process this way will
     cause any orphan descendant processes to be reparented to the marked
     process rather than to the <tt>init</tt> process. There is a
     corresponding <tt>PR_GET_CHILD_SUBREAPER</tt> option as well.
<p><blockquote class="ad">
<b><tt>$ sudo subscribe today</tt></b>
<p>
Subscribe today and elevate your LWN privileges. You’ll have
access to all of LWN’s high-quality articles as soon as they’re
published, and help support LWN in the process.  <a href="https://lwn.net/Promo/nst-sudo/claim">Act now</a> and you can start with a free trial subscription.
</blockquote>
<p>
<li> The Microblaze architecture now has high memory support.
<p>
<li> The ext4 "noacl" and "noattr" mount options have been marked
     deprecated with an eye toward removal in the near future.  Without
     these options, it will not be possible to disable ACL and extended
     attribute support.  No other filesystem allows that support to be
     disabled.  The "journal=update" and "resize" mount options have been
     removed entirely.  On the other hand, plans to remove the "bsd_df",
     "minix_df", "grpid" and "nogrpid" options have been dropped in
     response to complaints from users.
<p>
<li> New hardware support includes:
     <p>
     <ul>
     <li> <b>Processors and systems</b>:
          GE Intelligent Platforms IMP3A boards,
	  Atmel AT91SAM9x5 processors,
	  Bluegiga APX4 development kits, and
	  OMAP4 "remote" processors (see below).
     <p>
     <li> <b>Audio</b>:
          Wolfson WM2200 CODECs, and
	  Maxim MAX9768 amplifiers.
     <p>
     <li> <b>Graphics</b>:
     	  Intel Medfield-based GMA500 adapters,
	  NVIDIA Kepler chipsets (mode-setting only),
	  ATI RadeonHD 7xxx and "Trinity" chipsets,
	  USB-attached Displaylink video adapters,
	  Samsung S5PC210 and EXYNOS MIPI-DSI controllers, and
	  Intel 750 graphics cards.
     <p>
     <li> <b>Input</b>:
	  Cypress TrueTouch Standard Product touchscreen controllers,
	  Synaptics USB touchpads,
	  TI touchscreen controllers,
	  MAXIM MAX8997 haptic controllers, and
	  Ilitek ILI210X based touchscreens.
     <p>
     <li> <b>Miscellaneous</b>: Freescale IFC external NAND controllers,
     	  NVIDIA Tegra pinmuxes,
	  CSR SiRFprimaII-based I2C interfaces,
	  TI LP8550/LP8551/LP8552/LP8553/LP8556 backlight devices,
	  Pandora console backlight devices, and
	  Dialog DA9052/DA9053 RTCs.
     <p>
     <b>Video4Linux</b>: Afatech AF9005 based DVB-T/DVB-C receivers, and
        Keene FM transmitters.
     </ul>
</ul>

<p>
Changes visible to kernel developers include:
<p>
<ul>
<li> A new subsystem called "remoteproc" has been merged; it allows for the
     control of remote processors (those on the same SoC but running
     something other than Linux) through shared memory.  The new "rpmsg"
     subsystem is a virtio-based mechanism for communicating with those
     processors.  There will probably be a separate article on these
     facilities soon; in the meantime, see <a
     href="/Articles/489009/">Documentation/remoteproc.txt</a> and <a
     href="/Articles/489010/">rpmsg.txt</a> for more information.
<p>
<li> The new <tt>for_each_clear_bit()</tt> macro iterates through each
     un-set bit in a word.
<p>
<li> The <a href="/Articles/450658/"><tt>poll_requested_events()</tt></a>
     function has been added as a way for drivers to learn exactly what
     events user space is polling for.  Also added is:
<p>
<pre>
    bool poll_does_not_wait(const poll_table *p);
</pre>
<p>
     which returns true iff it is known that the <tt>poll()</tt> call will
     not block.
</ul>
<p>
Also worthy of note is that there has been a vast amount of work done in
the ARM architecture tree; the process of consolidating and cleaning up the
ARM code continues at a high rate.
<p>
The 3.4 merge window would normally be expected to end around
April&nbsp;2.  When he announced his vacation, Linus said that he would
extend the merge window for a bit if necessary - though he warned that he
would still only consider pull requests received during the window.
Whether that will happen remains to be seen; either way, next week's Kernel
Page will summarize the last new features merged for 3.4.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-3.4">Releases/3.4</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/488131/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor489201"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">3.4 Merge window part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 29, 2012 2:07 UTC (Thu)
                               by <b>scientes</b> (guest, #83068)
                              [<a href="/Articles/489201/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The "USB-attached Displaylink video adapters" driver, udl, is a second driver for hardware already supported by udlfb. The new driver support hot plugging, while the old can crash the host on unplug, among other things.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/489201/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor489429"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">3.4 Merge window part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 29, 2012 19:25 UTC (Thu)
                               by <b>kjp</b> (guest, #39639)
                              [<a href="/Articles/489429/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Uhm, I'm not quite getting all the details on the PR_SET_CHILD_SUBREAPER thing.  Is that going to break existing code that does:<br>
<p>
if (getppid() == 1) /* parent died already? */  <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/489429/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor489430"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">3.4 Merge window part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 29, 2012 19:28 UTC (Thu)
                               by <b>kjp</b> (guest, #39639)
                              [<a href="/Articles/489430/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
By the way, thats for existing user client code we have to detect when the main gui process dies.<br>
<p>
   prctl(PR_SET_PDEATHSIG, SIGHUP);<br>
    if (getppid() == 1) /* parent died already? */<br>
        return 0;<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/489430/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor489445"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">3.4 Merge window part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 29, 2012 20:26 UTC (Thu)
                               by <b>alecs1</b> (guest, #46699)
                              [<a href="/Articles/489445/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
You'd have to use the option to get into this situation, in my understanding. Remember that Linus is very adverse to breaking existing programs, and this is my main assumption.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/489445/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor489443"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">3.4 Merge window part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 29, 2012 20:22 UTC (Thu)
                               by <b>arnd</b> (subscriber, #8866)
                              [<a href="/Articles/489443/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
A few noteworthy things were merged for the ARM architecture just yesterday. I'm not sure if they got left out because they were buried under all the other patches, or because the list was made before they got merged.<br>
<p>
These are the top three in my opinion:<br>
<p>
* common struct clk: This has been worked on for years and finally got to the point where enough people can start using the version. Work is continuing in tree, but I expect a lot of conversions to this in v3.5, as a big step towards a single multiplatform kernel image. See also <a href="http://lwn.net/Articles/486841/">http://lwn.net/Articles/486841/</a><br>
<p>
* Support for the Samsung Exynos5 platform, the first one supported upstream that is based on the ARM Cortex-A15<br>
<p>
* Support for the Tegra3 chip from NVIDIA<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/489443/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor489451"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">3.4 Merge window part 2</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 29, 2012 20:37 UTC (Thu)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/489451/">Link</a>] 
      </p>
      
      </div>
      </summary>
      There were a number of ARM pulls (wow you have a lot of trees! :) that came in after I stopped looking for the week.
      
          <div class="CommentReplyButton">
            <form action="/Articles/489451/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2012, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
