        <!DOCTYPE html>
        <html lang="en">
        <head><title>KHB: A Filesystems reading list [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/196292/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/195823/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/196292/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>KHB: A Filesystems reading list</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>We're bad at marketing</b>
<p>
We can admit it, marketing is not our strong suit. Our strength is
writing the kind of articles that developers, administrators, and
free-software supporters depend on to know what is going on in the
Linux world. Please <a href="/Promo/nsn-bad/subscribe">subscribe today</a> to help us keep doing that, and so
we donâ€™t have to get good at marketing.
</blockquote>
<div class="GAByline">
           <p>August 21, 2006</p>
           <p>This article was contributed by Valerie Aurora</p>
           </div>
We've all been there - you're wandering around a party at some Linux
event clutching your drink and looking for someone to talk to, but
everyone is having some obscure technical conversation full of
unfamiliar jargon.  Then, as you slide past a cluster of
important-looking people, you overhear the word "superblock" and
think, "Superblock, that's a file system thing... I read about file
systems in operating systems class once."  Gratefully, you join the
conversation, only to discover while you know some of the terms -
cylinder group, indirect block, inode - you're still unable to come up
with stunning ripostes like, "Aha, but that's really just another
version of soft updates, and it doesn't solve the nlinks problem."
(Admiring silence ensues.) Now what?  You want to be able to make
witty remarks about the pros and cons of journaling while throwing
back the last of your martini, but you don't know where to start.<p>

Fortunately, you can get a decent grasp of modern file systems without
reading a whole book on file systems. (I haven't yet read a book on
file systems I would recommend, anyway.)  After reading these file
systems papers (or at least their abstracts), you'll be able to at
least fake a working knowledge of file systems - as long as everyone
is drinking and it's too loud to hear anyone clearly.  Enjoy!<p>

<h3>The Basics</h3>

These papers are oldies but goodies.  While the systems they describe
are fairly obsolete and have been heavily improved since these initial
descriptions, they make a good introduction to file systems structure
and terminology.<p>

<a href="http://www.cs.berkeley.edu/~brewer/cs262/FFS.pdf">A Fast File
System for UNIX </a> by Marshall Kirk McKusick, William Joy, Samuel
Leffler and Robert Fabry.  This paper describes the first version of
the original UNIX file system that was suitable for production use.
It became known as FFS (Fast File System) or UFS (UNIX File System).
The "fast" part of the name comes from the fact that the original UNIX
file system maxed out at about 5% of disk bandwidth, whereas the first
iteration of FFS could use about 50% - a huge improvement.  This paper
is absolutely foundational, as the majority of production UNIX file
systems are FFS-style file systems.  While some parts of this paper
are obsolete (check out the section on rotational delay), it's a
simple, readable explanation of basic file system architecture that
you can refer back to time and again.  Also, it's pretty fun to read a
paper describing the first implementation of, for example, symbolic
links for a UNIX file system.<p>

For extra credit, you can read the original file system checker paper,
<a
href="http://citeseer.ist.psu.edu/rd/91293760%2C31351%2C1%2C0.25%2CDownload/http://citeseer.ist.psu.edu/cache/papers/cs/3106/ftp:zSzzSzftp.fwi.uva.nlzSzpubzSzcompzSzNetBSDzSzmisczSzlite2-docszSzsmmzSz03.fsck.pdf/mckusick94fsck.pdf">Fsck
- the UNIX file system check program</a>, by Marshall Kirk McKusick
and T. J. Kowalski.  It describes the major issues in checking and
repairing file system metadata consistency.  Improving fsck is a <a
href="http://lwn.net/Articles/190222/">hot topic in file systems</a>
right now, so reading this paper might be worthwhile.<p>

<a href="http://www.solarisinternals.com/si/reading/vnode.pdf">Vnodes:
An Architecture for Multiple File System Types in Sun UNIX</a> by
Steve Kleiman.  The original UNIX file system interface had been
designed to support exactly one kind of file system.  With the advent
of FFS and other file systems, operating systems now needed to support
several different file systems.  Several solutions were proposed, but
the dominant solution ended up being the VFS (Virtual File System)
interface, first proposed and implemented by Sun.  This paper explains
the rationale behind VFS and vnodes.<p>

<a
href="http://citeseer.ist.psu.edu/rd/91293760%2C577908%2C1%2C0.25%2CDownload/http%3AqSqqSqwww.pdos.lcs.mit.eduqSq6.824qSqpapersqSqsandberg-nfs.pdf">Design
and Implementation of the Sun Network Filesystem</a> by Russel
Sandberg, David Goldberg, Steve Kleiman, Dan Walsh, and Bob Lyon.
Once upon a time (1985, specifically), people weren't really clear on
why you would want a network file system (as opposed to, for example,
a network disk or copying around files via rcp).  This paper explains
the needs and requirements that resulted in the invention of NFS, the
network file system everyone loves to hate but uses all the time
anyway.  It also discusses the design of the VFS.  A fun quote from
the paper: "<q>One of the advantages of the NFS was immediately obvious:
as the df output below shows, a diskless workstation can have access
to more than a Gigabyte of disk!</q>"<p>

<h3>Slaying the fsck dragon</h3>

One of the major problems in file systems is keeping the on-disk data
consistent in the event that a file system is interrupted in the
middle of update (for example, if the system loses power).  Original
FFS solved this problem by running fsck on the file system after a
crash or other unclean unmount, but this took a really long time and
could lose data.  Many smart people thought about this problem and
came up with four major approaches: journaling, log-structured file
systems, soft updates, and copy-on-write.  Each method provided a way
of quickly recovering the file system after a crash.  The most popular
approach was journaling, since it was both relatively simple and easy
to "bolt-on" to existing FFS-style file systems.

<p>

Journaling file systems solve the fsck problem by first writing an
entry describing an update to the file system to a on-disk journal - a
record of file system operations.  Once the journal entry is complete,
the main file system is updated; if the operation is interrupted, the
journal entry is replayed on the next mount, completing any
half-finished operations in progress at the time of the crash.  Most
production file systems (including ext3, XFS, VxFS, logging UFS, and
reiserfs) use journaling to avoid fsck after a crash.  No canonical
journaling paper exists outside the database literature (from whence
the idea was lifted wholesale), but <a
href="http://citeseer.ist.psu.edu/rd/75103696%2C288237%2C1%2C0.25%2CDownload/http://citeseer.ist.psu.edu/cache/papers/cs/12964/http:zSzzSzwww.skylab.orgzSz%7EsabrezSzoszSzS3FileSystemszSzjournal-design.pdf/tweedie98journaling.pdf">Journaling
the Linux ext2fs Filesystem</a> by Stephen Tweedie is a good choice
for learning both journaling techniques in general and the details of
ext3 in particular.<p>

<p>

<a
href="http://citeseer.ist.psu.edu/rd/91293760%2C9977%2C1%2C0.25%2CDownload/http://citeseer.ist.psu.edu/cache/papers/cs/7286/http:zSzzSzguir.cs.berkeley.eduzSzprojectszSzosprelimszSzpaperszSzlfsSOSP91.pdf/rosenblum91design.pdf">The
Design and Implementation of a Log-Structured File System</a> by
Mendel Rosenblum and John K. Ousterhout.  Journaling file systems have
to write each operation to disk twice: once in the log, and once in
the final location.  What would happen if we only wrote the data to
disk once - in the journal?  While the log-structured architecture was an
electrifying new idea, it ultimately turned out to be impractical for
production use, despite the concerted efforts of many computer science
researchers.  Today, no major production file system is
log-structured. (Note that a <em>log-structured</em> file system is
not the same as a <em>logging</em> file system - logging is another
name for journaling.)
<p>

If you're looking for cocktail party <em>gossip</em>, Margot Seltzer
and several colleagues published papers critiquing and comparing
log-structured file systems to variations of FFS-style file systems,
in which LFS usually came out rather the worse for the wear.  This led
to a semi-famous flame war in the form of web pages, <a
href="http://www.eecs.harvard.edu/margo/papers/usenix95-lfs/supplement/">archived
here.</a><p>

<p>

<a
href="http://www.usenix.org/events/usenix99/full_papers/mckusick/mckusick.pdf">Soft
Updates: A Technique for Eliminating Most Synchronous Writes in the
Fast Filesystem</a> by Marshall Kirk McKusick and Greg Ganger.  Soft
updates carefully orders writes to a file system such that in the
event of a crash, the only inconsistencies are relatively harmless
ones - leaked blocks and inodes.  After a crash, the file system is
mounted immediately and fsck runs in the background.  The performance
of soft updates is excellent, but the complexity is very high - as in,
soft updates has been implemented only once (on BSD) to my knowledge.
Personally, it took me about 5 years to thoroughly understand soft
updates and I haven't met anyone other than the authors who claimed to
understand it well enough to implement it.  The paper is pretty
understandable up to about page 5, at which point your head will
explode.  Don't feel bad about this, it happens to everyone.<p>

<p>

<a href="http://www.netapp.com/library/tr/3002.pdf">File System Design
for an NFS File Server Appliance</a> by Dave Hitz, James Lau, and
Michael Malcom.  This paper describes the file system used inside
NetApp file servers, Write-Anywhere File Layout (WAFL), as of 1994
(it's been improved in many ways since then).  WAFL was the first
major use of a copy-on-write file system - one in which "live" (in
use) metadata is never overwritten in place but copied elsewhere on
disk.  Once a consistent set of updates has been written to disk, the
"superblock" is re-written to point to the new set of metadata.
Copy-on-write has an interesting set of trade-offs all its own, but
has been implemented in a production file system twice now; <a
href="http://www.opensolaris.org/os/community/zfs/">Solaris's ZFS</a>
is also a copy-on-write file system.<p>

<p>
<h3>File system performance</h3>

Each of these papers focuses on file system performance, but also
introduces more than one interesting idea and makes a good starting
point for exploring several areas of file system design and
implementation.<p>

<a
href="http://citeseer.ist.psu.edu/rd/0%2C23867%2C1%2C0.25%2CDownload/http%3AqSqqSqficus-www.cs.ucla.eduqSqproject-membersqSqreiherqSq..qSq..qSqclassesqSq239_2.spring96qSqpapersqSqextent_like_filesystem_performance.ps">Extent-like
Performance from a UNIX File System</a> by Larry McVoy and Steve
Kleiman.  This 1991 paper describes optimizations to FFS that doubled
file system bandwidth for sequential I/O workloads.  While the
optimizations described in this paper are considered old hat these
days (ever heard of readahead?), it's a good introduction to file
system performance.<p>


<table class="tlrw">
<tr><td>
<h3>Sidebar: Where are they now?</h3>

You might have recognized some of the names in the author lists of the
papers in this article - and chances are, you aren't recognizing their
names because of their file system work.  What else did these people
do?  Here's a totally non-scientific selection.<p>

<ul>
<li> Bill Joy - co-founded Sun Microsystems
<li> Larry McVoy - wrote BitKeeper, co-founded BitMover
<li> Steve Kleiman - CTO, Network Appliance
<li> Mendel Rosenblum - co-founder, VMWare
<li> John Ousterhout - wrote Tcl/Tk, co-founded several companies
<li> Margot Seltzer - co-founder, Sleepycat Software
<li> Dave Hitz - co-founder, Network Appliance
</ul>

Obviously, anyone wanting to found a successful company and make
millions of dollars should consider writing a file system first.
</td>
</tr>
</table>


<a
href="http://oss.sgi.com/projects/xfs/papers/xfs_usenix/index.html">Scalability
in the XFS File System</a> by Adam Sweeney, Doug Doucette, Wei Hu,
Curtis Anderson, Mike Nishimoto, and Geoff Peck.  This paper describes
the motivation and implementation of XFS, a 64-bit file system using
extents, B+ trees, dynamically allocated inodes, and journaling.  XFS
is not by any means an FFS-style file system and reading this paper
will give you the basics on most extent-based file systems.  It also
describes quite a few useful optimizations for avoiding fragmentation,
scaling to multiple threads, and the like.<p>

<a
href="http://www.eecs.harvard.edu/~syrah/papers/tr-05-03/tr-05-03.pdf">The
Utility of File Names</a> by Daniel Ellard, Jonathan Ledlie, and
Margot Seltzer.  File system performance and on-disk layout can be
vastly improved if the file system can predict (with reasonable
accuracy) the size and access pattern of a file before it writes it to
disk.  The obvious solution is to add a new set of file system
interfaces allowing the application to give explicit hints about the
size and properties of a new file.  Unfortunately, the history of file
systems is littered with unused per-file interfaces like this (how
often do you set the noatime flag on a file?).  However, it turns out
that applications are already giving these hints - in the form of file
names, permissions, and other per-file properties.  This paper is the
first in a series demonstrating that a file system can 
make useful predictions about the future of a file based on the file
name and other properties.<p>

<h3>Further reading and acknowledgments</h3>

If you are interested in learning more about file systems, check out
the <a href="http://linuxfs.pbwiki.com">Linux file systems wiki</a>,
especially the <a href="http://linuxfs.pbwiki.com/ReadingList">reading
list</a>.  If you have a good file systems paper or book, please add
it to the 
list, which is publicly editable (look for the password on the
front page of the wiki).  Note that I will ignore any comments of the
form "You should have included paper XYZ!" unless it is also added to
the reading list on the file systems wiki - WITH a short summary of
the paper.  With any luck, we'll have a fairly complete list of Linux
file systems papers in the next few days.<p>

<strike>If you are interested in working on file systems, or any other area of
systems programming, you should contact the author at val dot henson
at gmail dot com.</strike><p>

<p>

Thanks to Nikita Danilov, Zach Brown, and Kristen Accardi for paper
suggestions and encouragement to write this article.  Thanks to
Theodore Y. Ts'o for actually saying something very similar to the
stunning riposte in the first paragraph (which was, by the way, a
completely accurate and very incisive criticism of what I was working
on at the moment).<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Filesystems">Filesystems</a></td></tr>
            <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Kernel_Hackers_Bookshelf">Kernel Hacker's Bookshelf</a></td></tr>
            <tr><td><a href="/Archives/GuestIndex/">GuestArticles</a></td><td><a href="/Archives/GuestIndex/#Aurora_Henson_Valerie">Aurora (Henson), Valerie</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/196292/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor196381"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Log-structured file system in use today</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 21, 2006 16:46 UTC (Mon)
                               by <b>sdoyon</b> (guest, #4221)
                              [<a href="/Articles/196381/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <font class="QuotedText">&gt; Today, no major production file system is log-structured.</font><br>
<p>
It might not qualify as "major production", but I believe there is<br>
one log-structured file system that some people here might be familiar<br>
with: JFFS2, for flash in embedded devices.<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196381/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor196384"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Log-structured file system in use today</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 21, 2006 17:01 UTC (Mon)
                               by <b>arjan</b> (subscriber, #36785)
                              [<a href="/Articles/196384/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      there is an issue with jffs2 though.. it doesn't really scale with size. Nowadays 8 Gb of flash is not uncommon, but jffs2 just is impractical to use there. In addition, jffs2 does waste quite some space that it needs for the garbage collector to do it's work... <br>
<p>
(and technically, jffs2 is log structured with a few twists, it's not strictly log structured, but chunked into log pieces)<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196384/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor196422"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Log-structured file system in use today</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 21, 2006 18:36 UTC (Mon)
                               by <b>drag</b> (guest, #31333)
                              [<a href="/Articles/196422/">Link</a>] 
      </p>
      
      </div>
      </summary>
      One log-structured file system that seems pretty impressive with good likelihood of future acceptance is NILFS from Nippon Telegraph and Telephone company of Japan.<br>
<a href="http://www.nilfs.org/en/current_status.html">http://www.nilfs.org/en/current_status.html</a><br>
<p>
Seems interesting. I like the idea of a 'lossless' file system and being able to mount snapshots of a file system at different times in it's history.<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196422/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor196481"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Log-structured file system in use today</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 22, 2006 5:46 UTC (Tue)
                               by <b>nhippi</b> (subscriber, #34640)
                              [<a href="/Articles/196481/">Link</a>] 
      </p>
      
      </div>
      </summary>
      However, there is nothing more better to use on &gt; 8Gb flashes either :(<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196481/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor211102"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Log-structured file system in use today</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 26, 2006 19:42 UTC (Sun)
                               by <b>joern</b> (guest, #22392)
                              [<a href="/Articles/211102/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <font class="QuotedText">&gt; (and technically, jffs2 is log structured with a few twists, it's not</font><br>
<font class="QuotedText">&gt; strictly log structured, but chunked into log pieces)</font><br>
<p>
As is the original Sprite LFS, actually.<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/211102/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor196446"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Log-structured file system in use today</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 21, 2006 20:44 UTC (Mon)
                               by <b>wookey</b> (guest, #5501)
                              [<a href="/Articles/196446/">Link</a>] 
      </p>
      
      </div>
      </summary>
      I was about to make that point as well. There are an awful lot of production systems using JFFS2 (and a much smaller number using YAFFS(2), also log-structured). OK, it's a rubbish _disk_ filesystem but in small-system world disks are the exception rather than the rule. So I don't think 'major production' is going too far.  <br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196446/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor196409"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 21, 2006 17:48 UTC (Mon)
                               by <b>smitty_one_each</b> (subscriber, #28989)
                              [<a href="/Articles/196409/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      Great article.<br>
Using the Search interface on "Kernel Hacker's Bookshelf", returned some grumbling, and dropping the 's only brought up Love's book.<br>
Could there be a <a href="http://lwn.net/Kernel/Index/">http://lwn.net/Kernel/Index/</a> entry for these articles?<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196409/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor196416"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel index entry</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 21, 2006 17:53 UTC (Mon)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/196416/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      But there <i>is</i> a kernel index entry for "Kernel Hacker's Bookshelf".
<p>
....now...
      
          <div class="CommentReplyButton">
            <form action="/Articles/196416/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor196419"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel index entry</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 21, 2006 18:00 UTC (Mon)
                               by <b>smitty_one_each</b> (subscriber, #28989)
                              [<a href="/Articles/196419/">Link</a>] 
      </p>
      
      </div>
      </summary>
      An old boss always used to say "Time...is a /western/ disease."<br>
Especially when late to a meeting. ;)<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196419/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor196435"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 21, 2006 19:30 UTC (Mon)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/196435/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      Just a thank you for _The Utility of File Names_; a fascinating paper both <br>
for the niftiness of its ideas and the poverty of what they planned to do <br>
with it (a trainer that doesn't run continuously and doesn't collect data <br>
from the VFS interface, a small set of static predictions, using it only <br>
to choose between two filesystems). Most of these restrictions are simply <br>
because their data collection mechanism was so unwieldy: collecting <br>
complete NFS packet dumps is, well, wildly silly. It's probably also the <br>
only viable method on a closed-source kernel.<br>
<p>
A possible variation which occurs to me on a whole ten seconds' <br>
consideration (awed silence, yes, I know) would be to turn the trainer <br>
upside down, and have it constantly watch file <br>
access/modification/creation/deletion patterns, cluster them, and try to <br>
classify each cluster by filename. (The latter job seems like one of those <br>
rather rare cases that cries out for a neural net.)<br>
<p>
Anyway, just babbling aloud here really, everyone else probably thought of <br>
this years ago and there's some terribly obvious reason why it won't work.<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196435/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor196800"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 24, 2006 7:33 UTC (Thu)
                               by <b>vaurora</b> (guest, #38407)
                              [<a href="/Articles/196800/">Link</a>] 
      </p>
      
      </div>
      </summary>
      _The Utility of File Names_ is great, huh?  The authors went on to do more interesting things with it, including building an engine to automatically correlate file name patterns and usage patterns.  See:<br>
<p>
<a href="http://www.eecs.harvard.edu/~ellard/pubs/able-usenix04.pdf">http://www.eecs.harvard.edu/~ellard/pubs/able-usenix04.pdf</a><br>
<p>
And the rest of Ellard's publications:<br>
<p>
<a href="http://www.eecs.harvard.edu/~ellard/pubs.html">http://www.eecs.harvard.edu/~ellard/pubs.html</a><br>
<p>
-VAL<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196800/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor196475"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 22, 2006 1:14 UTC (Tue)
                               by <b>nlucas</b> (guest, #33793)
                              [<a href="/Articles/196475/">Link</a>] (16 responses)
      </p>
      
      </div>
      </summary>
      Another excelent article by Valerie Henson for those like me who don't really want to be filesystem experts but always want to know a little more.<br>
<p>
I'll be waiting for the next! :-)<br>
<p>
One thing I miss is some info about any generic filesystems for the now common flash disks, or even CD+-RW/DVD+-RW. Last time I checked jffs/yafs can't be used on generic block devices, only on memory devices (or with some wrapper driver). Couldn't we be using some variation of jffs2 for CD+-RW/DVD+-RW? Maybe with the help of FUSE, as the kernel doesn't know how to write to the CD/DVD?<br>
<p>
It seems ideal for incremental backups, at least...<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196475/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor196534"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 22, 2006 17:45 UTC (Tue)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/196534/">Link</a>] (9 responses)
      </p>
      
      </div>
      </summary>
      CD-RW et al are what UFS is designed for. JFFS has completely different <br>
constraints (i.e. zero-seek-time filesystems rather than <br>
very-high-seek-time filesystems). I haven't tried it but I'd wager the <br>
performance of JFFS on CD-RW would be utterly awful.<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196534/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor196569"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 22, 2006 23:25 UTC (Tue)
                               by <b>nlucas</b> (guest, #33793)
                              [<a href="/Articles/196569/">Link</a>] (8 responses)
      </p>
      
      </div>
      </summary>
      <ul><i>CD-RW et al are what UFS is designed for.</i></ul>
<p>
Yes I know, but last I checked it's read-only, i.e. you can't use it on a partition as a normal filesystem, like the old msdos filesystem.
<p>
You have no easy way (AFAIK) to just add a file to a DVD-RW, like copy/paste or drag a file to a DVD-RW folder.
<p>
I would be happy enough when I can do something like this from the command line:

<pre>$ ufs-cp somefile.txt /media/cdrw/somedir/</pre>

and let it do the rest in the background (and not wait an eternity, off course). Much like the old days with DOS formated floppy disks.
<p>
My home PC still have an USB 1.1 hub and so I'm used to wait until it flushes all writes to the USB pen when unmounting. I only ask for something similar for a DVD-RW (the speed should not be that much different than for USB 1.1).
<p>
And you have the advantage that you can actually prevent the user from ejecting the CD/DVD before all writes are flushed, so less risk of user generated filesystem corruption (at least for users that don't use that cute little hole to open the "cup-holder" ;-).

      
          <div class="CommentReplyButton">
            <form action="/Articles/196569/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor196585"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 23, 2006 1:24 UTC (Wed)
                               by <b>nlucas</b> (guest, #33793)
                              [<a href="/Articles/196585/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      s/UFS/UDF/<br>
<p>
It seemed weird, but followed your path without thinking more about it ;-)<br>
<p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196585/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor196672"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 23, 2006 16:34 UTC (Wed)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/196672/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Um. Yes. Brainfart, sorry.<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196672/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor196673"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 23, 2006 16:37 UTC (Wed)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/196673/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      What? Packet-written CD-RWs use UDF filesystems, and act just like a normal filesystem (except that the device is really rather slow and the filesystem overhead is ridiculous). In modern CD-RWs and all DVD-RWs this is even in hardware (while I haven't yet seen a CD rewriter that has packet-writing firmware that works well, this may not be true of DVD-RW drives).<br>
<p>
It's ISO-9660 that has to be built in one lump.<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196673/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor197013"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 24, 2006 21:51 UTC (Thu)
                               by <b>nlucas</b> (guest, #33793)
                              [<a href="/Articles/197013/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      I now understand the problem has nothing to do with filesystems, except the UDF overhead problem (and ISO-9660 compatibilty), as it's the only usable CD/DVD RW filesystem (because it can be read everywhere).<br>
<p>
It seems the problem is only on the software side (for modern RW drives, I mean), and maybe cdrecord "flame wars" have delayed the adoption of a standard linux solution for the typical user cases (like maybe a FUSE DVD UDF filesystem that works the same as a USB pen, i.e. can add/delete files on the fly).<br>
<p>
Well, I still have a lot of doubts about the process, but the truth is this thread is becoming off topic so I'll refrain my thoughts for latter times.<br>
<p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/197013/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor197212"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 27, 2006 15:53 UTC (Sun)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/197212/">Link</a>] 
      </p>
      
      </div>
      </summary>
      We already have exactly that feature: the packet-writing driver. If you're <br>
packet-writing to CD-RW (or DVD-RW) you don't *need* cdrecord, or FUSE.<br>
<p>
(It does indeed have significant overhead, as you say.)<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/197212/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor196758"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 24, 2006 2:12 UTC (Thu)
                               by <b>wookey</b> (guest, #5501)
                              [<a href="/Articles/196758/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      growisofs meets your command line criteria, I think.<br>
<p>
growisofs -M /dev/dvd files<br>
<p>
will add files to a disk (CD or DVD). <br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196758/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor196801"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 24, 2006 7:36 UTC (Thu)
                               by <b>drag</b> (guest, #31333)
                              [<a href="/Articles/196801/">Link</a>] 
      </p>
      
      </div>
      </summary>
      growisofs even supports pipes...<br>
<p>
My favorite backup technic for my own home directory is to use growisofs with splitpipe.<br>
<p>
Splitpipe is a nice utility that splits files just like 'split' does, but it performs a action on each section it makes.<br>
<p>
Check it out:<br>
tar c /home | splitpipe -s dvd -o 'growisofs -Z /dev/dvd=/dev/stdin'<br>
<p>
It'll burn a DVD until it gets finished, pause, prompt you for you to press enter so you can have time to pop in a new DVD and off you go.<br>
<p>
Then they have a 'joinpipe' command for rebuilding the data. <br>
<p>
Supports md5sum'ng the data and makes sure you don't accidently try to join the data back together in the wrong order and such.<br>
<p>
Of course if you have a file that is less then 4 megs you could just go:<br>
<p>
cat filenmae |growisofs -Z /dev/dvd -<br>
<p>
And I think that should work out fine. Then you should be able to 'cat /dev/dvd &gt; whatnot' to get it back. <br>
<p>
Haven't tried it personally like that, but I expect it to work fine.<br>
<p>
<p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196801/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor197021"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 24, 2006 21:57 UTC (Thu)
                               by <b>nlucas</b> (guest, #33793)
                              [<a href="/Articles/197021/">Link</a>] 
      </p>
      
      </div>
      </summary>
      I'm almost certain I had read the growisofs manual page some moons ago, but somehow missed that command.<br>
<p>
Thanks for the heads-up. I'm an happier man now :-)<br>
<p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/197021/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor196539"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 22, 2006 18:27 UTC (Tue)
                               by <b>plougher</b> (guest, #21620)
                              [<a href="/Articles/196539/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <font class="QuotedText">&gt;Couldn't we be using some variation of jffs2 for CD+-RW/DVD+-RW? Maybe &gt;with the help of FUSE, as the kernel doesn't know how to write to the &gt;CD/DVD?</font><br>
&gt;<br>
&gt;<br>
Try squashfs - this is a compressed filesystem which is being used a lot for liveCDs.  It also achieves better compression than JFFS2.<br>
<p>
&gt;<br>
<font class="QuotedText">&gt;It seems ideal for incremental backups, at least...</font><br>
<p>
Squashfs is read-only, but it does support appending to the filesystem.  This was added specifically to support incremental backups.<br>
<p>
<p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196539/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor196572"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 22, 2006 23:49 UTC (Tue)
                               by <b>nlucas</b> (guest, #33793)
                              [<a href="/Articles/196572/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <ul><i>Try squashfs - this is a compressed filesystem which is being used a lot for liveCDs. It also achieves better compression than JFFS2.</i></ul>

I really don't care about compression, but I suppose it doesn't hurt.

<ul><i>Squashfs is read-only, but it does support appending to the filesystem. This was added specifically to support incremental backups.</i></ul>

But how is this used on a DVD-RW?
<p>
<ul>1) You have a squashfs disk image and append to it, writing the final image to the CD/DVD when a certain size is reached?</ul>
<ul>2) You use a CD/DVD-RW (with UFS or whatever) and update a squashfs image file on the disk?</ul>
<ul>3) Other...</ul>
<p>
If it's 1) then it doesn't matter what filesystem is used. If it's 2), it's  nice for incremental backups, but it will not allow you to take advantage of the fact that you can delete files on a -+RW disk (but good for -+R disks).
<p>
Hope it's 3)...
      
          <div class="CommentReplyButton">
            <form action="/Articles/196572/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor196586"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 23, 2006 1:25 UTC (Wed)
                               by <b>nlucas</b> (guest, #33793)
                              [<a href="/Articles/196586/">Link</a>] 
      </p>
      
      </div>
      </summary>
      s/UFS/UDF/<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196586/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor196948"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 24, 2006 18:27 UTC (Thu)
                               by <b>plougher</b> (guest, #21620)
                              [<a href="/Articles/196948/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <font class="QuotedText">&gt;If it's 1) then it doesn't matter what filesystem is used. If it's 2), &gt;it's nice for incremental backups, but it will not allow you to take &gt;advantage of the fact that you can delete files on a -+RW disk (but good &gt;for -+R disks). </font><br>
<p>
You could do 2) and store the Squashfs filesystem image inside a UFS/ISO9660 filesystem.  If the UFS/ISO9660 filesystem was writable, then the Squashfs file could be updated and extended in place.<br>
<p>
<font class="QuotedText">&gt;Hope it's 3)... </font><br>
<p>
I always write the Squashfs filesystem directly to the disk (not within a UFS/ISO9660 filesystem).  Mounting is then done by mounting directly from the disk (i.e. mount -t squashfs /dev/hda /mnt).  Appending to this can be done, but it requires the ability to update the superblock (block 0), and to re-write the directory structure. I've never tried to do this, and so don't know if it is possible.<br>
<p>
Pure appending to the Squashfs filesystem (so no blocks in the original filesystem are touched) isn't possible, because of the need to update the superblock and directory structure (stored at the end of the filesystem).  Extending Squashfs to do this isn't impossible, it requires Squashfs to append the new superblock (and changed metadata) to the end of the filesystem, and then scanning for any new superblocks on mounting - i.e. what log structured filesystems do.<br>
 <br>
<p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196948/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor196762"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 24, 2006 2:26 UTC (Thu)
                               by <b>wookey</b> (guest, #5501)
                              [<a href="/Articles/196762/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <i>Last time I checked jffs/yaffs can't be used on generic block devices, only on memory devices (or with some wrapper driver).</i>

<p>Yes. This is the case. It would be nice to have the robustness of log-strucutreed filesystems on flash devices accessed as block devices, but it's actually very difficult to achieve. The problem is that although USB sticks and SD/MMC cards and CF cards use flash, they hide it behind a controller which does who-knows-what behind the scenes in order to make it look enough like a disk that cameras can pretend it is a DOS FAT disk. The controllers remap blocks to retire bad blocks and (on the better ones) to avoid premature wear in the cluster tables at the start of the FAT format. But precisely because they do these things there is little benfit to using a filesystems like YAFFS/JFFS which knows about flash directly and does the right thing itself. You might as well just use something designed for disks.
<p>
So you can use YAFFS/JFFS on smartmedia and xD cards because they expose raw NAND flash, but not on all the others. 
<p>
Various sorts of shims have been considered but the general consensus seems to be that it's not worth bothering with. 
      
          <div class="CommentReplyButton">
            <form action="/Articles/196762/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor197022"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 24, 2006 22:08 UTC (Thu)
                               by <b>nlucas</b> (guest, #33793)
                              [<a href="/Articles/197022/">Link</a>] 
      </p>
      
      </div>
      </summary>
      If we don't know what the controller does, is there any filesystem that is better than others on this kind of disks?<br>
<p>
What I mean is that we could conceive one of those micro-atx VIA boards with an IDE flash disk (I believe they use a normal Compact Flash memory) running a linux system, but FAT seems awfull for such a system (if it works at all). I tried to google about it but couldn't find a definitive answer.<br>
<p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/197022/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor196596"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 23, 2006 4:58 UTC (Wed)
                               by <b>bronson</b> (subscriber, #4806)
                              [<a href="/Articles/196596/">Link</a>] 
      </p>
      
      </div>
      </summary>
      It's a shame tux2 never went anywhere.  At the time it seemed like a good variant on the CoW theme.  Alas.<br>
<p>
<a href="http://www.uwsg.iu.edu/hypermail/linux/kernel/0208.3/0336.html">http://www.uwsg.iu.edu/hypermail/linux/kernel/0208.3/0336...</a><br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196596/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor196913"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 24, 2006 15:40 UTC (Thu)
                               by <b>ahoh</b> (guest, #17291)
                              [<a href="/Articles/196913/">Link</a>] 
      </p>
      
      </div>
      </summary>
      " ... I haven't met anyone other than the authors who claimed to <br>
understand it well enough to implement it. The paper is pretty <br>
understandable up to about page 5, at which point your head will explode."<br>
<p>
What a mean bait! :-)<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/196913/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor196954"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 24, 2006 18:20 UTC (Thu)
                               by <b>kpower</b> (guest, #37136)
                              [<a href="/Articles/196954/">Link</a>] 
      </p>
      
      </div>
      </summary>
      This was both a great article, and overview of informative papers. Val's writing style really helps pique ones curiosity, and show you how to use your new found knowledge:
<blockquote>
come up with stunning ripostes like, "Aha, but that's really just another version of soft updates, and it doesn't solve the nlinks problem." (Admiring silence ensues.)
</blockquote>

Please, more article authors like this.
      
          <div class="CommentReplyButton">
            <form action="/Articles/196954/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor197026"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 24, 2006 22:12 UTC (Thu)
                               by <b>jonabbey</b> (guest, #2736)
                              [<a href="/Articles/197026/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Brava, Valerie, and Bravo to Jon et al for getting you on board with this sort of thing.<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/197026/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor197019"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 24, 2006 22:16 UTC (Thu)
                               by <b>beagnach</b> (guest, #32987)
                              [<a href="/Articles/197019/">Link</a>] 
      </p>
      
      </div>
      </summary>
      great article.<br>
<p>
To follow up, how about an article comparing the different filesystems in use today? There are fascinating technologies like reiserfs, zfs, xfs,... out there but more traditional filesystems like ext2/3 and ufs are still dominant. It would be nice to have a good article about the promises of the newer approaches and the real-world factors that keep older approaches popular, and if this is going to change any time soon.<br>
<p>
And a similar article about network filesystems would also be nice:<br>
"NFS, the network file system everyone loves to hate but uses all the time anyway."<br>
It's not as if alternatives have not been developed - AFS and Coda, InterMezzo - or are favoured in certain circles  - CIFS/SMB.<br>
Again, comparisons of features and real world performance would be great.<br>
<p>
Of course this kind of information may well be available from a quick google, but articles by engineers who actually work on this kind of stuff and can write in English are hard to find in the noise. Feel free to post a link...<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/197019/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor197183"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Reiser4: a CoW filesystem?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 26, 2006 18:17 UTC (Sat)
                               by <b>Blaisorblade</b> (guest, #25465)
                              [<a href="/Articles/197183/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      Since I read (probably not fully, but maybe) reiser4 whitepaper, I'm quite surprised it is not mentioned here in the CoW category.<br>
<p>
They specifically credit the idea (which they call Wandering Logs) to WAFL, and use it also for its easy-to-get atomicity guarantees, and I'm even more surprised since you talked with Nikita Danilov (who worked on reiserfs in the past).<br>
<p>
Is there any reason for this? Aka is not Reiser4 a COW filesystem?<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/197183/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor197416"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Reiser4: a CoW filesystem?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 29, 2006 17:54 UTC (Tue)
                               by <b>vaurora</b> (guest, #38407)
                              [<a href="/Articles/197416/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Reiser4 is many things.  I am afraid I don't understand it well enough to venture to classify it.<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/197416/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor197351"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">KHB: A Filesystems reading list</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 29, 2006 6:16 UTC (Tue)
                               by <b>RamiRosen</b> (guest, #37330)
                              [<a href="/Articles/197351/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Hi, <br>
<p>
1)  Thanks , Valerie Henson and Jonathan Corbet , for this interesting article.<br>
<p>
2) I want to mention that I had encountered in the past <br>
a book titled "Linux Filesystems"<br>
by William Von Hagen ,Sams, 2002, (ISBN: 0672322722).<br>
<p>
I read three chapters and I think it is quite well written.<br>
see:<br>
<a href="http://www.samspublishing.com/bookstore/product.asp?isbn=0672322722&amp;rl=1">http://www.samspublishing.com/bookstore/product.asp?isbn=...</a><br>
<p>
(Keep in mind that linux filesystems is a dynamic area, and that since 2002 this book was not updated , though)<br>
When I tried to purchase this book I found that in most places it is not <br>
available.<br>
<p>
<p>
Rami Rosen<br>
<p>
<p>
<p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/197351/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor197879"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Never mind the article...</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 31, 2006 23:40 UTC (Thu)
                               by <b>jd</b> (guest, #26381)
                              [<a href="/Articles/197879/">Link</a>] 
      </p>
      
      </div>
      </summary>
      I want to know where these parties are!<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/197879/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor198081"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Very nice package</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 2, 2006 19:39 UTC (Sat)
                               by <b>Baylink</b> (guest, #755)
                              [<a href="/Articles/198081/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Not to denigrate the quality of other long-form pieces in LWN, but I was very impressed by this article, Valerie.  Nice balance of information and almost-complete-lack-of-boredom.  :-)<br>
<p>
One small nit: Don't actually *label* your sidebars as that; it's jargon-y.  Unless that's what you were trying for.  And you didn't, actually, *tell us* where they are *now*, that I could see; merely where they've been.  Also :-)<br>
      
          <div class="CommentReplyButton">
            <form action="/Articles/198081/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2006, Eklektix, Inc.<BR>
            
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
