        <!DOCTYPE html>
        <html lang="en">
        <head><title>On the need for a new removable device filesystem [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/512788/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/511723/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/512788/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>On the need for a new removable device filesystem</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>This article brought to you by LWN subscribers</b>
<p>
Subscribers to LWN.net made this article &mdash; and everything that
       surrounds it &mdash; possible.  If you appreciate our content, please
       <a href="/Promo/nst-nag3/subscribe">buy a subscription</a> and make the next
       set of articles possible.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>August 22, 2012</br>
           </div>
Removable storage devices, such as the USB "thumb drive," can be a pain.
They are slow and often prone to errors, but, perhaps worst of all, they
all seem to be designed for the VFAT filesystem.  VFAT gets the job done much
of the time, but it is showing its age; this filesystem was never meant for
the size of contemporary devices or files.  There is also the little
nagging issue of the patents on the filesystem format and the associated
Linux-hostile company that is actively asserting those patents.  Despite
all of this, removable devices are often the easiest way to ship files
between machines.  Given that, do we need to come up with a new filesystem
to ease the pain of using these devices?
<p>
Dan Luedtke's <a href="/Articles/512333/">answer</a> is "yes"; he has
implemented a new filesystem called "Lanyard" (or "LanyFS") intended for
use on removable devices.  He claims better performance and scalability
than VFAT along with a native Linux implementation.  The code shows its early-stage
nature — there are a lot of things that would need to be fixed before it
could be considered for inclusion into the mainline kernel — but the
mainline is clearly where Dan would like it to go.  The rest of the
development community is not entirely convinced that we need a new
filesystem for this use case, though.
<p>
The first question is: why not stick with VFAT?  For all of its troubles, it
has worked well enough for a long time.  The biggest motivator for a
change, arguably, is the 4GB limit on file size.  One can deal with poor
performance, especially when the real bottleneck is likely to be the device
itself.  But if one wants to store a sufficiently large file on the device,
VFAT will simply fail.  Such files are increasingly common, so users are
running into this problem.  The <a
href="https://en.wikipedia.org/wiki/ExFAT">exFAT filesystem format</a> is
held out as an alternative, but it is far more proprietary than VFAT.  Given
that VFAT has already been the subject of lawsuits, vendors will think
carefully before switching to exFAT; Sharp has licensed the filesystem for
Android devices, but there do not appear to be a whole lot of other takers
at this time.
<p>
Given increasing networking speeds, one could certainly consider just using
the network to move a file that is too large for VFAT.  On a local network
this approach might well be faster than using a removable drive.  Setting
up network transfers is not always easy, though; most computers are, by
default, configured in ways that do not allow random strangers to dump
large files on their drives.  Getting around that obstacle is likely to be
too much even for moderately skillful users.  Use of a third-party site to
transfer files is workable when the files are small; even if it is possible
for very large files, it's not something that will be tolerably fast on
most networks.
<p>
Removable drives, instead, are easy, so the "sneakernet" approach to file
transfer is likely to stay with us for some time.  Does that mean that we
need a new filesystem format to better support this use?  Filesystem
developer Ted Ts'o <a href="/Articles/512790/">thinks not</a>:
<p>
<div class="BigQuote">
	I used to think that we would need an IP unencumbered file system,
	given issues around TomTom and Microsoft, but these days, given how
	quickly Linux has taken over the embedded and mobile landscape
	for all but the most tiniest of devices, I don't think that's as
	important of an issue, since we can just simply use a native linux
	file system.  In the time that it would take to get some other new
	file system adopted across the industry, it's likely Linux will
	have enough market share to perhaps compel the other OS vendors to
	provide interoperability solutions.
</div>
<p>
That is an interesting thought: Linux is now strong and prevalent enough
that we can simply expect the industry to pick up our way of doing things.
That approach has not always worked out in the past, but things might truly
be different this time around.  Increasingly, devices like music players,
handsets, and digital cameras run Linux internally; these gadgets already
are, to a first approximation, removable storage devices with a bit of
extra hardware.  Other devices, such as televisions, also tend to run Linux
internally.  Supporting a native Linux filesystem on these devices should be a relatively
easy thing to do.  It would be faster (assuming the underlying storage
isn't severely optimized for VFAT only), more feature-rich, and lacking in
patent aggressors.  There is very little, in other words, not to like.
<p>
Well, there would be a few small problems.  There are still some pesky
users out there with non-Linux systems that might want to access the
filesystems on their devices.  In many cases, the increasing use of the MTP
protocol could sidestep that question altogether; indeed, recent MTP-using
Android devices are likely using it to export an ext4 filesystem.  There
would still be cases where users on these other platforms would want to
mount filesystems directly, though, especially on pure storage devices;
bringing proper implementations of Linux filesystems to those platforms is,
evidently, not as easy as one might think.
<p>
Filesystems like ext4 also were not designed with removable devices in
mind.  They tend not to be all that robust against unexpected removal of
the device unless fairly aggressive flushing of data is used (in fairness,
VFAT filesystems are also easily corrupted that way).  The file ownership
model used by Linux filesystems tends not to translate well to removable
devices, since one system's user IDs typically have no meaning elsewhere.
So something like the <a href="/Articles/497106/">user and group mount
options patch</a> may be required to make things work well.  Most Linux
filesystems have not been designed around the very large pages and erase
blocks used on flash devices and, thus, do not perform as well as they
could; see <a href="/Articles/428584/">this 
article</a> for lots of details.  These are
issues that can be worked out, certainly, but they remain in need of
working out at this time.
<p>
There is one other complication: <a href="/Articles/512927/">according to
Arnd Bergmann</a> there is another filesystem waiting on the wings:
<p>
<div class="BigQuote">
	There will be patches very soon for a new file system from a major
	flash vendor that I'm cooperating with. I haven't seen the patches
	myself yet, but the design is similar to a prototype that was done
	as <a
	href="https://wiki.linaro.org/WorkingGroups/Kernel/Specs/flash-file-system-prototype">a
	thesis I supervised</a>. I hope that the new implementation is
	similarly simple to this design, and also able to provide optimum
	performance on most flash media.
</div>
<P>
Needless to say, such an entry has the potential to stir things up a bit.
A filesystem designed with input from both "a major flash vendor" and a
developer like Arnd should work well indeed on small
removable devices and should be well integrated into Linux.  This
manufacturer could also employ the "include a 
windows driver in a small partition on the device" trick, making
interoperability with most Windows systems Just Work.  Putting the
filesystem code into the Linux kernel would make support readily available
on mobile devices.  This scheme might just succeed.
<p>

So what we may see is not Linux pushing one of its native filesystem
formats onto the world.  Instead, the world might just adopt a new format
that just happened to be well supported in Linux first.  That could be the
best of all worlds: we would have a way to interoperate on removable drives
that is free, scalable, and widely supported.  Getting there may well be
worth the trouble of adding yet another filesystem type.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Filesystems-Flash">Filesystems/Flash</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/512788/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor513021"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">On the need for a new removable device filesystem</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 23, 2012 3:23 UTC (Thu)
                               by <b>squidgit</b> (guest, #42190)
                              [<a href="/Articles/513021/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; assuming the underlying storage isn't severely optimized for VFAT only</font><br>
<p>
Big assumption in my (admittedly limited) experience, plenty of SD cards seem to have different wear-leveling policies for where they think the FAT(s) will sit.  I've seen card lifetimes dive by 10-100x when using ext* vs FAT (and yes I turned off all any and all metadata operations I could find :). Not a barrier if the filesystem is coming from the flash manufacturer themselves though I guess<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513021/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor513147"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">On the need for a new removable device filesystem</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 23, 2012 16:36 UTC (Thu)
                               by <b>zlynx</b> (guest, #2285)
                              [<a href="/Articles/513147/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I recall reading somewhere that some flash card manufacturers use small amounts of SLC flash for storing special information, such as FAT tables, block relocation tables and the like.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513147/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor513024"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">On the need for a new removable device filesystem</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 23, 2012 4:04 UTC (Thu)
                               by <b>tnoo</b> (subscriber, #20427)
                              [<a href="/Articles/513024/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Well, there would be a few small problems. There are still some pesky </font><br>
<font class="QuotedText">&gt; users out there with non-Linux systems that might want to access the </font><br>
<font class="QuotedText">&gt; filesystems on their devices. </font><br>
<p>
Call the extra file system layer to install a "driver". Users are trained enough by their experience to have to install a driver for almost any external tool (sometimes from micro-CDs, or random manufacturer websites) that this will be their normal user experience. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513024/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor513047"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">On the need for a new removable device filesystem</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 23, 2012 8:58 UTC (Thu)
                               by <b>thoeme</b> (subscriber, #2871)
                              [<a href="/Articles/513047/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
  Call the extra file system layer to install a "driver". Users are trained enough by their<br>
  experience to have to install a driver for almost any external tool<br>
<p>
Can this be done on a (windows) system by a user *without* administrative priviledges?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513047/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor513053"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">On the need for a new removable device filesystem</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 23, 2012 9:37 UTC (Thu)
                               by <b>eru</b> (subscriber, #2753)
                              [<a href="/Articles/513053/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <i> Can this be done on a (windows) system by a user *without* administrative priviledges?</i>
<p>
No, at least not in Windows Vista and later versions. Not a big problem for people managing their own computer, but would hamper users in corporations.
<p>
What would work is if the drive would appear to formally just contain a VFAT or NTFS filesystem, with a single file containing the actual new filesystem filling almost all the space, plus a userspace archiver program for getting at the files on Windows. But clumsy, of course.

      
          <div class="CommentReplyButton">
            <form action="/Articles/513053/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor513090"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">On the need for a new removable device filesystem</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 23, 2012 11:48 UTC (Thu)
                               by <b>cortana</b> (subscriber, #24596)
                              [<a href="/Articles/513090/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It's a shame that UDF never took off. I believe it was supposed to be suitable for portable hard disks and cheap flash as well as for DVDs. It's even supported by Windows Vista and OS X out of the box. However XP only supported it for read-only access which is I guess what killed it.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513090/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor513107"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">On the need for a new removable device filesystem</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 23, 2012 13:09 UTC (Thu)
                               by <b>Cato</b> (guest, #7643)
                              [<a href="/Articles/513107/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
XP is gradually going away so UDF might resurface.  More likely it will be exFAT which despite being patent encumbered does work on Windows XP or higher, OS X, etc.<br>
<p>
Any plan for a new Linux FS for removeable devices should at least provide BSD-licensed FS code for use in Windows, Mac, etc - otherwise it's unlikely to get anywhere.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513107/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor513475"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">On the need for a new removable device filesystem</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 25, 2012 11:58 UTC (Sat)
                               by <b>TRS-80</b> (guest, #1804)
                              [<a href="/Articles/513475/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Yes, I was going to comment that UDF is a good choice for cross-platform USB storage devices. Although, as I sit here in front of my TV, I wonder if it has UDF support for USB devices, or only NTFS and VFAT?
      
          <div class="CommentReplyButton">
            <form action="/Articles/513475/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor514041"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">On the need for a new removable device filesystem</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 29, 2012 13:56 UTC (Wed)
                               by <b>keeperofdakeys</b> (guest, #82635)
                              [<a href="/Articles/514041/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I've tried many times to get the UDF flash drives I've created on linux to work on my friend's macs, but I've never succeeded. From what I can see, OSX checks the partition id, and there is no corresponding id for UDF.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/514041/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor513159"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">On the need for a new removable device filesystem</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 23, 2012 18:06 UTC (Thu)
                               by <b>geofft</b> (subscriber, #59789)
                              [<a href="/Articles/513159/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; There is also the little nagging issue of the patents on the filesystem format and the associated Linux-hostile company that is actively asserting those patents</font><br>
<p>
The UEFI spec includes a formalized version of FAT32 with long file names. It is free to become an "Adopter" of the UEFI specification (most parent companies of distros already are) and that grants you a patent license to everything in UEFI.<br>
<p>
IANAL and I forget if this includes using FAT for non-UEFI purposes, but this seems like a clean solution to that problem.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513159/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor513206"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">On the need for a new removable device filesystem</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 23, 2012 19:53 UTC (Thu)
                               by <b>mjg59</b> (subscriber, #23239)
                              [<a href="/Articles/513206/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The UEFI adopter agreement only grants you rights to the specification for the purpose of implementing the specification.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513206/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor513221"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">On the need for a new removable device filesystem</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 23, 2012 20:46 UTC (Thu)
                               by <b>apollock</b> (subscriber, #14629)
                              [<a href="/Articles/513221/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I had my first encounter with exFAT a couple of nights ago when I tried putting an SD card from my HD video camera into my Linux laptop, and shortly afterwards became very disappointed and had to pass it over to my wife and her Macbook.  <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513221/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor518815"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">On the need for a new removable device filesystem</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 6, 2012 22:51 UTC (Sat)
                               by <b>JanC_</b> (guest, #34940)
                              [<a href="/Articles/518815/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
There is a FUSE-based implementation: <a rel="nofollow" href="https://code.google.com/p/exfat/">https://code.google.com/p/exfat/</a> (which is still beta).<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/518815/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor513278"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Smartdevice usecase</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 24, 2012 8:55 UTC (Fri)
                               by <b>Aissen</b> (subscriber, #59976)
                              [<a href="/Articles/513278/">Link</a>] (10 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The article talks about how MTP is used to sidestep the "other OS not supporting filesystem X" issue. But it's not its only use.<br>
<p>
MTP's nature allows the "gadget" (smartphone or any linux device) to still have access to the filesystem while it's being shared. The USB Mass storage model is "all or nothing": it forces the gadget to abandon everything it's doing with the partition/fs as soon as it's plugged; and then rescan everything (for safety, database updates, etc.) when unpluggued.<br>
<p>
That is a problem that cannot be adressed with a new filesystem.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513278/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor513355"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Smartdevice usecase</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 24, 2012 17:25 UTC (Fri)
                               by <b>jimparis</b> (guest, #38647)
                              [<a href="/Articles/513355/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; The USB Mass storage model is "all or nothing": it forces the gadget to abandon everything it's doing with the partition/fs as soon as it's plugged; and then rescan everything (for safety, database updates, etc.) when unpluggued.</font><br>
<p>
<font class="QuotedText">&gt; That is a problem that cannot be adressed with a new filesystem.</font><br>
<p>
Why not?  The reason the gadget needs to "abandon everything" is because none of the currently-used filesystems can handle concurrent access to the underlying device at the block level.  But there are filesystems that are supposed to allow that, like <a href="http://en.wikipedia.org/wiki/Global_File_System">http://en.wikipedia.org/wiki/Global_File_System</a><br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513355/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor513613"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Smartdevice usecase</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 27, 2012 8:02 UTC (Mon)
                               by <b>Aissen</b> (subscriber, #59976)
                              [<a href="/Articles/513613/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Thanks ! I didn't know about GFS2. It still has some hardware requirements that are nowhere to be found on a mobile phone.<br>
It would be interesting to see how this tech would apply to embedded devices.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513613/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor513394"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Smartdevice usecase</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 24, 2012 21:44 UTC (Fri)
                               by <b>dag-</b> (guest, #30207)
                              [<a href="/Articles/513394/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
And unfortunately that is why Google/Samsung ripped out the USB Mass Storage functionality from the Google Nexus phone, as well as not provide an SD slot. Which is pretty frustrating altogether :-/<br>
<p>
The AirDroid app is a solution to access the whole filesystem, however it is not very "efficient" for large file transfers.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513394/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor513489"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Smartdevice usecase</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 25, 2012 14:03 UTC (Sat)
                               by <b>rvfh</b> (guest, #31018)
                              [<a href="/Articles/513489/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The Nexus S already did not have a µSD port, because Google find them issue-prone. The Galaxy Nexus comes with 16 GB of internal flash though (and a broken GPS FWIW.)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513489/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor513677"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Smartdevice usecase</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 27, 2012 16:51 UTC (Mon)
                               by <b>mathstuf</b> (subscriber, #69389)
                              [<a href="/Articles/513677/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
How is the GPS broken? I use mine just fine…<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513677/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor513703"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Smartdevice usecase</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 27, 2012 19:30 UTC (Mon)
                               by <b>dag-</b> (guest, #30207)
                              [<a href="/Articles/513703/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I have found that the HSDPA/3G connection is not very reliable. I often find myself disabling and enabling "Mobile Data" because the device tells me I have an HSDPA connection but all apps/browsers consistently fail to connect. Either because the connection broke or it could not connect to the proxy (sic). And if my connection deteriorates from HSDPA to 3G, Edge or GPRS it does not make a difference. Once it fails, it will not recover.<br>
<p>
Disabling and enabling sometimes helps. I have to say that I use the device mostly on the train and this is suboptimal at best, but my HTC Desire S nor my Nokia E71 had this issue so I do suspect the Google Nexus phone or this firmware (Jelly Bean 4.1.1) :-(<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513703/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor513838"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Smartdevice usecase</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 28, 2012 15:34 UTC (Tue)
                               by <b>mathstuf</b> (subscriber, #69389)
                              [<a href="/Articles/513838/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I've not seen this either. Service can degrade to 3G, but it goes back to 4G just fine. Of course, I still have ICS, so maybe JB changed something.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513838/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor513840"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Smartdevice usecase</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 28, 2012 15:52 UTC (Tue)
                               by <b>dag-</b> (guest, #30207)
                              [<a href="/Articles/513840/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Well, to make things more interesting. Only yesterday-evening I powered down the phone to make sure I could test again today with a clean state. And today the signal icon gives _no signal_ at work the whole day, however most (if not all) apps do have Internet access. But I cannot call out, instead I get the message: "Mobile network not available."<br>
<p>
3G or HSDPA (I don't know what it is using right now) works flawlessly ! So apparently you don't need a Mobile network for having 3G :) They should call it Networkless WAN :-D<br>
<p>
Switching Airplain mode ON and OFF solved this weird situation.<br>
<p>
I need to blog about this.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513840/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor513841"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Smartdevice usecase</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 28, 2012 15:57 UTC (Tue)
                               by <b>mathstuf</b> (subscriber, #69389)
                              [<a href="/Articles/513841/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I also noticed that airplane mode had some weird behavior today as well (the charging cable is loose and gets knocked out and hasn't charged overnight twice now). Toggling wireless while in airplane mode still enabled wireless. ISTR that my Incredible had airplane mode as a "keep everything off" rather than "turn it off, but toggling overrides it" behavior.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513841/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor513491"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Smartdevice usecase</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 25, 2012 14:05 UTC (Sat)
                               by <b>rvfh</b> (guest, #31018)
                              [<a href="/Articles/513491/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
If only MTP would work... Thankfully there are SSH servers for the Galaxy Nexus!<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513491/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor513584"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">On the need for a new removable device filesystem</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 26, 2012 18:03 UTC (Sun)
                               by <b>gb</b> (subscriber, #58328)
                              [<a href="/Articles/513584/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Hurrrah, finally someone understood that it's simpler to create new fs than stick to that fats. Switching immediately =)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513584/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor513795"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">On the need for a new removable device filesystem</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Aug 28, 2012 10:39 UTC (Tue)
                               by <b>etienne</b> (guest, #25256)
                              [<a href="/Articles/513795/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; patches very soon for a new file system</font><br>
<p>
Would be nice to have this filesystem support "large pages" of memory, having an allocation block of 2 Mbytes.<br>
Most of the files exchanged are big, and the "FAT allocation table" located in fast FLASH (fast accessed pages of the device) are limited.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/513795/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2012, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
