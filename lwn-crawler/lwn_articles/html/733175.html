        <!DOCTYPE html>
        <html lang="en">
        <head><title>The first half of the 4.14 merge window [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/733175/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/733257/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/733175/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>The first half of the 4.14 merge window</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Ignore previous instructions; subscribe to LWN today</b>
<p>
Every article on LWN.net is written by humans, for humans. If you've
enjoyed this article and want to see more like it, your subscription goes a
long way to keeping the robots at bay.  We are offering <a href="https://lwn.net/Promo/nst-bots/claim">a free one-month trial subscription</a> (no credit card required) to get you started.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>September 8, 2017</br>
           </div>
As of this writing, just over 8,000 non-merge changesets have been pulled
into the mainline kernel repository for the 4.14 development cycle.  In
other words, it looks like the pace is not slowing down for this cycle
either.  The merge window is not yet done, but quite a few significant
changes have been merged so far.  Read on for a summary of the most
interesting changes entering the mainline in the first half of this merge
window.
<p>
Significant user-visible changes include:
<ul>
<li> The <a href="/Articles/728339/">ORC unwinder</a> has been merged,
     supporting more reliable kernel tracebacks and live patching.  The
     kernel also runs a bit faster when ORC is used instead of frame pointers.
<p>
<li> The control group <a href="/Articles/729215/">thread mode</a> patches
     have been merged.  This paves the way for the CPU controller to
     finally appear under the version-2 interface, but that work has not
     been merged yet.  It may, apparently, still happen during the 4.14
     development cycle.
<p>
<li> The AMD <a href="/Articles/686808/#sme">secure memory encryption</a>
     feature is now supported.
<p>

<li> The RDMA subsystem has a new user-space API based on <tt>ioctl()</tt>.
     This API was <a href="/Articles/733179/">posted on the linux-api
     list</a> at the beginning of August but received no review comments,
     perhaps because it lacks any sort of documentation.  Doug Ledford
     merged it, <a href="/Articles/733180/">saying</a> that "<q>it's
     encased in a Kconfig item that marks it experimental, so including it
     doesn't freeze it in stone</q>".  Experience says that it could
     become frozen regardless of markings, though, if applications begin to
     depend on it; developers with an interest in this API might want to
     have a close look relatively soon.
<p>
<li> The <tt>membarrier()</tt> system call has gained <a
     href="/Articles/728795/">a new expedited option</a> that executes more
     quickly at the cost of creating inter-processor interrupts.
<p>
<li> The perf events subsystem continues to develop quickly; changes this
     time around include branch-type profiling and tracing support, the
     ability to visualize <a
     href="https://en.wikichip.org/wiki/macro-operation_fusion">fused
     instructions</a>, initial support for 
     namespaces, and more; <a
     href="https://git.kernel.org/linus/9657752cb5039c7498d4b27c4a75530f93b87d9b">this
     changelog</a> has an overview.
<p>
<li> The <a href="/Articles/218766/">lguest virtualization system</a>
     (which some of us still call the "rustyvisor") has been removed due to
     lack of interest and maintenance.
<p>
<li> The x86 architecture now supports <a
     href="/Articles/717293/">five-level page tables</a>, allowing
     processors to manage up to 128PB of virtual address space on 4PB of
     physical memory.  Surely nobody will ever need more memory than that.
<p>
<li> CPU-frequency governors <a href="/Articles/732740/">can now work
     across CPUs</a>.  This should lead to better power management, but
     also better responsiveness when the system's load changes.
<p>
<li> The <a href="/Articles/726917/"><tt>MSG_ZEROCOPY</tt> patches</a>,
     adding zero-copy network transmission, have been merged.
<p>
<li> Progress toward <a href="/Articles/717707/">more scalable swapping</a>
     continues with work that delays the splitting of huge pages until after
     they have been swapped out.  This is not the final step (which will
     be storing them as huge pages in the swap area), but it still brings a
     claimed 42% improvement in swap-out throughput.
<p>
<li> The new <tt>MADV_WIPEONFORK</tt> option for the <tt>madvise()</tt>
     system call causes the affected memory region to appear to be full of
     zeros in the child process after a fork.  It differs from the existing
     <tt>MADV_DONTFORK</tt> in that the address range will remain valid in
     the child.
<p>
<li> New hardware support includes:
     <p>
     <ul>
     <li> <b>Audio</b>:
     	  Realtek RT274 codecs,
	  Wolfson Microelectronics WM8524 codecs, and
	  Cirrus Logic CS43130 codecs.
     <p>
     <li> <b>Cryptographic</b>:
     	  Allwinner Security System pseudo-random number generators,
	  Microchip / Atmel elliptic curve crypto accelerators,
	  AMD secure processors,
	  STMicroelectronics STM32 hash accelerators,
	  Freescale i.MX RNGC random number generators, and
	  Axis ARTPEC-6/7 hardware crypto accelerators.
     <p>
     <li> <b>Graphics</b>:
     	  Pervasive Displays RePaper panels,
	  Synopsys Designware MIPI DSI host DRM bridges,
	  Synopsis Designware CEC interfaces,
	  STMicroelectronics STM32 DSI controllers, and
	  Sitronix ST7586 display panels.
     <p>
     <li> <b>Hardware monitoring</b>:
     	  IBM Common Form Factor power supplies,
	  TI TPS53679 monitoring chips, and
	  Lantiq CPU temperature sensors.
     <p>
     <li> <b>Industrial I/O</b>:
	  Linear Technology LTC2471 and LTC2473 analog-to-digital
     	  controllers (ADCs),
	  Diolan DLN-2 ADCs,
	  Cirrus Logic EP93XX ADCs,
	  AMS CCS811 VOC sensors, and
	  Devantech SRF02 and SRF10 ultrasonic ranger sensors.
     <p>
     <li> <b>Media</b>:
     	  Omnivision OV5670 sensors,
	  Analog Devices ADV748x decoders,
	  ST STV0910 DVB-S/S2 demodulators,
	  ST STV6111-based tuners,
	  Amlogic Meson AO CEC interfaces,
	  MaxLinear MxL5xx-based tuner-demodulators,
	  GPIO and PWM-based infrared transmitters,
	  ZTE ZX IR remote controls, and
	  AMS AS3645A LED flash controllers.
     <p>
     <li> <b>Miscellaneous</b>:
     	  UniPhier AIDET interrupt controllers,
	  Pi433 radio modules,
	  Altera Arria-V/Cyclone-V/Stratix-V CvP FPGA managers,
	  MediaTek MT6380 power-management ICs,
	  MediaTek AHCI SATA controllers, and
	  Renesas R-Car Gen3 SDHI DMA controllers.
     <p>
     <li> <b>Networking</b>:
     	  Hisilicon HNS3 Ethernet interfaces,
	  Realtek RTL8822BE wireless network adapters,
	  Adaptrum Anarion GMAC Ethernet controllers,
	  Mellanox Technologies MLX5 SRIOV E-Switch switches,
	  Rockchip Ethernet PHYs,
	  Huawei PCIE network interfaces, and
	  Marvell CP110 PHYs.
     <p>
     <li> <b>Pin control</b>:
	  UniPhier PXs3 SoC pin controllers,
	  NXP IMX7ULP pin controllers,
	  Intel Denverton and Lewisburg pin controllers,
	  Renesas R8A77995 pin controllers,
	  Spreadtrum SC9860 pin controllers,
	  TI TPS68470 GPIO controllers, and
	  Cavium ThunderX/OCTEON-TX GPIO controllers.
     <p>
     <li> <b>USB</b>:
     	  Ralink USB PHYs and
	  Atheros ath10k USB controllers.
     </ul>
<p>
<li> The IRDA (infrared devices) driver subsystem has been moved to the
     staging tree with the idea of deleting it entirely in the near
     future.  All IRDA users should have moved to better alternatives some
     time ago.
</ul>
<p>
Changes visible to kernel developers include:
<p>
<ul>
<li> For anybody who has been having a hard time building the kernel
     documentation: the new <tt>sphinx-pre-install</tt> script will examine
     the system and list the packages that should be installed to have a
     complete documentation toolchain.
<p>
<li> <tt>spin_unlock_wait()</tt> has been removed; its semantics were never
     entirely well defined and there did not appear to be any real need for
     it. 
<p>
<li> Three architectures (ARM, ARM64, and x86) now check the value of the
     user-space address limit on return from system calls; this is meant to
     prevent <a href="/Articles/722267/">security holes</a> resulting from
     a failure to reset that value after it is changed.  A new task flag
     (<tt>TIF_FSCHECK</tt>) is used to avoid slowing down the return on the
     bulk of system calls that don't call <tt>set_fs()</tt>.
<p>
<li> The <a href="/Articles/709849/">lockdep cross-release feature</a> has
     been merged; this will extend automatic lock checking to several
     use patterns where it was not possible before.
<p>
<li> The <a href="/Articles/728675/">fast reference-count overflow
     protection</a> mechanism has been disabled on x86 due to some
     unexplained warnings; presumably it will come back during the 4.14
     cycle. 
<p>
<li> The arm64 architecture now has support for <a
     href="/Articles/692208/">virtually mapped kernel stacks</a>.
<p>
<li> The kernel has traditionally reserved 20 major numbers for dynamic
     device-number assignment, but that has proved to be too few on some
     systems.  Starting with 4.14, a new range of 128 numbers starting at 511
     and progressing downward has been set aside; they will be used after
     the original 20 have been exhausted.
</ul>
<p>

By the usual schedule, the 4.14 merge window should stay open through
September&nbsp;17, though that schedule has been known to vary at times.
The actual 4.14 release is most likely to happen on November&nbsp;5
or&nbsp;12.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-4.14">Releases/4.14</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/733175/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor733300"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The first half of the 4.14 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 10, 2017 4:26 UTC (Sun)
                               by <b>luto</b> (subscriber, #39314)
                              [<a href="/Articles/733300/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
You missed PCID, which seems to be the most interestingly broken new feature right now :-/<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/733300/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor733664"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The first half of the 4.14 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 14, 2017 11:29 UTC (Thu)
                               by <b>smitty_one_each</b> (subscriber, #28989)
                              [<a href="/Articles/733664/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; Surely nobody will ever need more memory than that.</font><br>
<p>
Laverne<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/733664/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor735293"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The first half of the 4.14 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 3, 2017 7:22 UTC (Tue)
                               by <b>jcm</b> (subscriber, #18262)
                              [<a href="/Articles/735293/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
My guess is they need to bump the PA limit within at most 5 years, if not much sooner.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/735293/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor733730"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The first half of the 4.14 merge window</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 14, 2017 18:48 UTC (Thu)
                               by <b>flussence</b> (guest, #85566)
                              [<a href="/Articles/733730/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I'm scratching my head trying to figure out what “better alternative to IRDA” is supposed to mean. The only cordless computer thing I've used that comes close to that kind of simplicity and ease of use was a proprietary keyboard/mouse receiver.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/733730/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor733746"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">IRDA</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 14, 2017 20:59 UTC (Thu)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/733746/">Link</a>] 
      </p>
      
      </div>
      </summary>
      Sorry if it was unclear; the point is that infrared receivers (and transmitters) are better supported through the media subsystem; nobody should need IRDA to drive those devices anymore.
      
          <div class="CommentReplyButton">
            <form action="/Articles/733746/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2017, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
