        <!DOCTYPE html>
        <html lang="en">
        <head><title>4.3 Merge window, part 1 [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/656267/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/655917/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/656267/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>4.3 Merge window, part 1</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Benefits for LWN subscribers</b>
<p>
The primary benefit from <a href="/Promo/nst-nag5/subscribe">subscribing to LWN</a>
       is helping to keep us publishing, but, beyond that, subscribers get
       immediate access to all site content and access to a number of extra
       site features.  Please sign up today!
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>September 2, 2015</br>
           </div>
As of this writing, just over 4,000 non-merge changesets have been pulled
into the mainline kernel repository for the 4.3 development cycle.  This
merge window, in other words, is just getting started.  But that is enough
to begin to show the shape of this development cycle: useful incremental
changes, but not much, thus far, in the way of high-profile features.
<p>
The user-visible changes merged so far include:
<ul>

<li> The kernel now supports the attachment of BPF programs to <a
     href="/Articles/499190/">uprobes</a>, making more flexible tracing of
     user-space code possible.  There is also a new <tt>libbpf</tt> library that
     is meant to ease the process of working with BPF scripts; its first
     user is the <tt>perf</tt> tool.
<p>
<li> There is a new "PIDs" controller for the control-group subsystem; it
     enforces a limit on the number of processes contained within the
     group.  This controller thus serves as a sort of defense against fork
     bombs and similar attacks.  See <a
     href="/Articles/656380/">Documentation/cgroups/pids.txt</a> for
     details. 
<p>
<li> The <tt>perf</tt> tool has gained the ability to work with Intel <a
     href="/Articles/648154/">processor trace</a> streams.
<p>
<li> The s390 architecture has gained "fake NUMA" support.  This allows a
     large system to be configured into a set of emulated NUMA nodes,
     making it easier to partition workloads and, in some situations,
     improving performance.
<p>
<li> The <tt>CONFIG_VM86</tt> option provides access to the 16-bit legacy
     mode on x86 systems.  Its use has been in decline for years, there
     are no known recently released tools that need it, and it
     has been recently shown to have a number of unpleasant problems, some
     of which are security-related.  In 4.3, this option will be renamed
     (to <tt>CONFIG_X86_LEGACY_VM86</tt>) and disabled by default.
     Hopefully nobody actually needs the VM86 mode and it can be removed
     entirely in the near future.
<p>
<li> New hardware support includes:
     <p>
     <ul>

     <li> <b>Industrial I/O</b>:
	  ROHM RPR0521 ambient-light and proximity sensors,
	  Texas Instruments OPT3001 light sensors, and
	  TXC PA12203001 light and proximity sensors.
     <p>
     <li> <b>Miscellaneous</b>:
     	  Qualcomm coincell battery chargers,
	  Qualcomm SMD based RPM regulators,
	  UltraChip UC1611 LCD controllers,
	  MediaTek MT6311 power-management ICs,
	  MediaTek SPI controllers,
	  MediaTek SCPSYS power domain controllers,
	  Mediatek MT8173 CPU-frequency controllers,
	  Netlogic XLP SPI controllers,
	  Allwinner Security System cryptographic accelerators,
	  Intel DH895xCC crypto accelerators,
	  ARM PrimeCell PL172 multiport memory controllers, and
	  NVIDIA Tegra124 CPU-frequency controllers.
     <p>
     <li> <B>MOST</b>: 
     	  The <a href="http://www.mostcooperation.com/">MOST</a>
	  specification is a standard
     	  for media networking aimed at the automotive industry.  The 4.3
     	  kernel will include (in the staging tree) a new MOST subsystem
     	  with support for network, sound, media drivers and more.  See <a
     	  href="/Articles/656270/">this document</a> for some introductory
     	  information.
     <p>
     <li> <b>USB</b>:
     	  Qualcomm APQ8016/MSM8916 USB transceiver controllers,
	  Allwinner sun4i A10 musb DRC/OTG controllers, and
	  NXP LPC18xx/43xx SoC USB OTG PHYs.
     </ul>
</ul>
<P>
Changes visible to kernel developers include:
<p>
<ul>
<li> There is a new driver framework for nonvolatile memory devices
     (EEPROMs and the like); see <a
     href="/Articles/656268/">Documentation/nvmem/nvmem.txt</a> for some
     details. 
<p>
<li> DocBook comments for structures can now be split into multiple chunks
     within the structure, easing the process of documenting the fields of
     especially large structures.  The HTML document generator can also now
     create internal cross-reference links automatically.
</ul>
<p>

One pull request that has not yet been acted upon by Linus is Jan Kara's <a
href="/Articles/656369/">request</a> deleting the ext3 filesystem, as was
<a href="/Articles/651645/">covered here</a> in July.  Linus is <a
href="/Articles/656370/">worried</a> that the change will force ext3 users
to upgrade their filesystems in non-backward-compatible ways, but, as Ted
Ts'o <a href="/Articles/656371/">explained</a>, that should not happen.
Your editor would hazard a guess that this removal will go through before
the merge window closes.
<p>
If the normal schedule holds, that closure should happen on
September&nbsp;13.  As usual, LWN will follow the commit stream and call
out the most interesting changes as they happen.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Releases-4.3">Releases/4.3</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/656267/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor656485"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">CONFIG_VM86</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 3, 2015 10:39 UTC (Thu)
                               by <b>epa</b> (subscriber, #39769)
                              [<a href="/Articles/656485/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Sad news that V86 mode is on the way out.  I remember the excitement of getting MS-DOS (or FreeDOS) running under dosemu on Linux, with almost the full native CPU speed available to the DOS virtual machine.  More so if you then enabled direct video access in the dosemu config, so that DOS games would work, at the risk of crashing the machine if you configured it wrong...<br>
<p>
But nowadays CPUs are so much faster than they were even in the last days of DOS (mid 1990s or so) that you can use a software emulator such as Bochs and it's easily fast enough.  Also, V86 mode is not accessible from 64-bit mode on x86_64 processors anyway.<br>
<p>
- What about Wine running 16-bit Windows applications?  Does that use V86 mode?  The old 'real mode' (8086) Windows applications (like winword 1.x) are impossibly ancient but I wouldn't be surprised to see some 'standard mode' (80286) programs still in use in the corporate world.  They won't run on 64-bit Windows but I think 32-bit Windows still supports them.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/656485/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor656546"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">CONFIG_VM86</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 3, 2015 16:54 UTC (Thu)
                               by <b>drv</b> (subscriber, #78370)
                              [<a href="/Articles/656546/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The new config option help text (CONFIG_X86_LEGACY_VM86) contains this sentence:<br>
  "This option is also unrelated to 16-bit protected mode and is not needed to run most 16-bit programs under Wine."<br>
<p>
I haven't tested this myself, but I hope it's true.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/656546/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor656735"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">CONFIG_VM86</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 6, 2015 21:22 UTC (Sun)
                               by <b>mstefani</b> (guest, #31644)
                              [<a href="/Articles/656735/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
That's correct, Wine doesn't needs that for Win16 programs.<br>
Should your application bundle DOS binaries then install DOSBox and Wine will use that. Wine will automatically configure DOSBox to use the same drive setup as under Wine.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/656735/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor656555"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">CONFIG_VM86</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 3, 2015 17:45 UTC (Thu)
                               by <b>corbet</b> (editor, #1)
                              [<a href="/Articles/656555/">Link</a>] 
      </p>
      
      </div>
      </summary>
      It's looking like the VM86 semi-removal may have been premature, and that more stuff needs it than was expected...stay tuned...
      
          <div class="CommentReplyButton">
            <form action="/Articles/656555/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor656565"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">CONFIG_VM86</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 3, 2015 18:59 UTC (Thu)
                               by <b>malor</b> (guest, #2973)
                              [<a href="/Articles/656565/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
On AMD processors, you can apparently run 16-bit code in native mode through their hardware virtualization.  Intel can't, they've dropped 16-bit code completely in 64-bit mode, but you could probably get full speed MS-DOS on a 64-bit AMD processor if you virtualized it.<br>
<p>
I/O will still be slow, of course, but probably faster than it would have been on a real DOS machine, and the CPU should be extremely fast, by those old standards. <br>
<p>
I haven't actually tried it, as I don't have any AMD processors, but it sounds like it would work.<br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/656565/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor662319"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">CONFIG_VM86</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 28, 2015 23:15 UTC (Wed)
                               by <b>josh</b> (subscriber, #17465)
                              [<a href="/Articles/662319/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; On AMD processors, you can apparently run 16-bit code in native mode through their hardware virtualization. Intel can't, they've dropped 16-bit code completely in 64-bit mode</font><br>
<p>
No, you can run 16-bit code on Intel VT in all processors since Westmere; the feature is called "unrestricted mode", which also allows running in protected mode without paging enabled.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/662319/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor656551"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">4.3 Merge window, part 1</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 3, 2015 17:14 UTC (Thu)
                               by <b>RobSeace</b> (subscriber, #4435)
                              [<a href="/Articles/656551/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<font class="QuotedText">&gt; uprobes</font><br>
<p>
*blink*  Ah, u-probes...  I was reading it as up-robes, and picturing something akin to up-skirt, and was very confused...<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/656551/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor656560"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">4.3 Merge window, part 1</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 3, 2015 18:30 UTC (Thu)
                               by <b>bronson</b> (subscriber, #4806)
                              [<a href="/Articles/656560/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Oh great.  I was previously reading it as u-probes just fine, now I can't stop seeing up-robes.  Hope this effect wears off.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/656560/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor656590"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">4.3 Merge window, part 1</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Sep 4, 2015 0:19 UTC (Fri)
                               by <b>gdt</b> (subscriber, #6284)
                              [<a href="/Articles/656590/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Not sure the NVMEM API allows for removable EEPROMs, notably those in SFPs.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/656590/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2015, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
