        <!DOCTYPE html>
        <html lang="en">
        <head><title>Kernel time APIs for Rust [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/924746/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/924892/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/924746/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>Kernel time APIs for Rust</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>LWN.net needs you!</b>
<p>
Without subscribers, LWN would simply not exist.  Please consider
       <a href="/Promo/nst-nag2/subscribe">signing up for a subscription</a> and helping
       to keep LWN publishing.
</blockquote>
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>March 2, 2023</br>
           </div>
While the 6.3 kernel has gained more support for the Rust language, it
still remains true that there is little that can be done in Rust beyond the
creation of a "hello world" module.  That functionality was already
available in C, of course, with a level of safety similar to what Rust can
provide.  Interest is growing, though, in merging actually useful modules
written in Rust; that will require some more capable infrastructure than is
currently present.  A recent discussion on the handling of time values in
Rust demonstrates the challenges — and opportunities — inherent in this
effort.
<p>
Asahi Lina, who is <a
href="/ml/rust-for-linux/70657af9-90bb-ee9e-4877-df4b14c134a5@asahilina.net/">implementing
a graphics driver</a> for Apple hardware in Rust, has posted a number of
pieces of Rust infrastructure, including <a
href="/ml/linux-kernel/20230221-gpu-up-time-v1-1-bf8fe74b7f55@asahilina.net/">a
module for timekeeping functions</a>.  The timekeeping module itself is
just a beginning, weighing in at all of 25 lines; it looks like this:
<p>
<pre>
    // SPDX-License-Identifier: GPL-2.0
    
    //! Timekeeping functions.
    //!
    //! C header: [`include/linux/ktime.h`](../../../../include/linux/ktime.h)
    //! C header: [`include/linux/timekeeping.h`](../../../../include/linux/timekeeping.h)
    
    use crate::bindings;
    use core::time::Duration;
    
    /// Returns the kernel time elapsed since boot, excluding time spent
    /// sleeping, as a [`Duration`].
    pub fn ktime_get() -&gt; Duration {
        // SAFETY: Function has no side effects and no inputs.
        Duration::from_nanos(unsafe { bindings::ktime_get() }.try_into().unwrap())
    }
    
    /// Returns the kernel time elapsed since boot, including time spent
    /// sleeping, as a [`Duration`].
    pub fn ktime_get_boottime() -&gt; Duration {
        Duration::from_nanos(
            // SAFETY: Function has no side effects and no variable inputs.
            unsafe { bindings::ktime_get_with_offset(bindings::tk_offsets_TK_OFFS_BOOT) }
                .try_into()
                .unwrap(),
        )
    }
</pre>
<p>
This module expresses two kernel functions — <a
href="https://elixir.bootlin.com/linux/v6.2.1/source/kernel/time/timekeeping.c#L836"><tt>ktime_get()</tt></a>
and <a
href="https://elixir.bootlin.com/linux/v6.2.1/source/include/linux/timekeeping.h#L87"><tt>ktime_get_boottime()</tt></a>
— as Rust equivalents that return values as the Rust <a
href="https://doc.rust-lang.org/stable/std/time/struct.Duration.html"><tt>Duration</tt></a>
type.  In C, these functions both return a <tt>ktime_t</tt>, which is a
signed, 64-bit value reflecting a time in nanoseconds.  The origin of that
time — what real-world date and time is represented by a <tt>ktime_t</tt>
of zero — varies depending on which clock is being queried.  In the case of
<tt>ktime_get_boottime()</tt>, for example, the returned value represents
the time that has passed since the system booted.
<p>
Kernel times are thus, at their core, a delta value; they are a count of
nanoseconds since some beginning-of-the-universe event.  The proposed Rust
implementation followed that lead in its use of the <tt>Duration</tt> type.
But Thomas Gleixner, who is responsible for much of the kernel's
timekeeping code, <a
href="/ml/linux-kernel/87v8jvnqq4.ffs@tglx/">questioned</a> this approach.
Since both of the functions are meant, each in its own way, to represent an
absolute point in time, he suggested that the Rust functions should return an
absolute-time type; he suggested either <a
href="https://doc.rust-lang.org/std/time/struct.Instant.html"><tt>Instant</tt></a>
or <a
href="https://doc.rust-lang.org/std/time/struct.SystemTime.html"><tt>SystemTime</tt></a>.
Both represent absolute time values; <tt>Instant</tt> is monotonic (it will
never go backward) while <tt>SystemTime</tt> is not.
<p>
That approach will not work well in the kernel, though, for a couple of
reasons.  The first, as <a
href="/ml/linux-kernel/Y%2FTP6as7qqwfcI42@boqun-archlinux/">pointed out</a>
by Boqun Feng, is that those two types are defined in <a
href="https://doc.rust-lang.org/std/">the Rust standard library
("<tt>std</tt>")</a>, which, just like the C standard library, is not
available in the kernel.  So, at best, those two types would have to be
reimplemented for kernel use.  But the other problem is that the kernel
supports a multitude of clocks; the list can be found in the <a
href="https://man7.org/linux/man-pages/man3/clock_gettime.3.html"><tt>clock_gettime()</tt>
man page</a>.  Each clock has a reason for existing, and each behaves a
little differently.  A type like <tt>Instant</tt> is defined to use exactly
one clock, but kernel code will need access to several of them.
<p>
Gleixner <a href="/ml/linux-kernel/87h6vfnh0f.ffs@tglx/">was not really
concerned</a> about the exact types used, but he did call for different
types to be used for absolute times (timestamps) and delta times (or
intervals).  The kernel does not currently have such a distinction in its
types for times, but libraries for many languages do make that distinction.
Given that Rust is being brought into the kernel in the hope of making it
easy to write safer code, it makes sense to use Rust's type system to
prevent developers from, for example, trying to add two absolute-time values
together.
<p>
Indeed, as Lina <a
href="/ml/linux-kernel/7b93bf74-abdc-f8c1-9a12-7c7f080f9e19@asahilina.net/">pointed
out</a>, type safety in the Rust interface should even go one step further.
Subtracting one absolute time from another will yield a delta time — but
that delta time will only make sense if the two absolute times came from
the same clock.  So the type system should prevent the incorrect mixing
of times from different clocks.
<p>
What about delta times?  Gleixner initially <a
href="/ml/linux-kernel/87edqioo1e.ffs@tglx/">suggested</a> that time deltas
could be independent of any clock; a time delta obtained by subtracting one
<tt>CLOCK_BOOTTIME</tt> value from another would be the same type as a
delta calculated as a difference of <tt>CLOCK_TAI</tt> values.  Heghedus
Razvan <a
href="/ml/linux-kernel/p7e4M5-kxxScH56bBMtlzht2_m33oSfMPHtExSVbDn0WIPYBEbiJjr2NvNhqCJotFhmYqH5h27EWPDhfSmmST0D-dSU1Alq4_BzDQUR48FA=@protonmail.com/">agreed</a>
with this idea and posted a sample implementation; Gary Guo then <a
href="/ml/linux-kernel/20230222195537.3462c1c3.gary@garyguo.net/">polished
that idea</a> into <a
href="https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=83702f491050da1c67ab9aa129103f7d">a
"more Rusty" implementation</a>.

Miguel Ojeda, though, <a
href="/ml/linux-kernel/CANiq72n-++roTv3yDNOA=Mi_sscBZX3xPdZ6RZ0Oxx+T82pf5A@mail.gmail.com/">suggested</a>
that delta times, too, could be tied to a specific clock.  Gleixner <a
href="/ml/linux-kernel/87o7pmmtre.ffs@tglx/">was not entirely convinced</a>
that this distinction was needed, but agreed that there might be value in
it, especially when dealing with timers.  Kernel timers, too, can be based
on specific clocks, so it might make sense to ensure that any time deltas
used with those timers are generated with the same clock, he said.
<p>
Feng <a
href="/ml/linux-kernel/Y%2FWDz013yBIfQPDq@boqun-archlinux/">suggested</a>
proceeding with an implementation using <tt>Duration</tt> for all time
delta values and something resembling <tt>Instant</tt>, but with
clock-specific typing, for absolute times.  Lina <a
href="/ml/linux-kernel/03e9af69-3fea-032d-6dc3-ac0ea8e57471@asahilina.net/">agreed</a>,
and seems ready to proceed in this direction, starting with the example
posted by Razvan.  A new patch will, presumably, be forthcoming.
<p>
It seems likely that we will see this sort of conversation happening
repeatedly as more Rust infrastructure heads toward the mainline.  It is
certainly possible to reproduce something like the existing kernel APIs in
Rust, and doing so would make the resulting Rust code look more familiar to
current kernel developers.  But that approach also risks losing much of
the hoped-for benefit that is driving the Rust experiment in the first
place.  Doing this experiment properly will require showing how Rust can
lead to the creation of better, safer APIs than what the kernel has now.
So a lot of APIs are going to have to be redesigned from the beginning;
they can benefit from years of experience in the kernel community, but will
have to leave many of that community's conventions behind.  It seems like a
project that will keep people busy for some time.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Development_tools-Rust">Development tools/Rust</a></td></tr>
            <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Timekeeping">Timekeeping</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/924746/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor924949"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 2, 2023 16:51 UTC (Thu)
                               by <b>rillian</b> (subscriber, #11344)
                              [<a href="/Articles/924949/">Link</a>] (18 responses)
      </p>
      
      </div>
      </summary>
      <p>In case anyone else was wondering, the <code>bindings::ktime_get().try_into().unwrap()</code> is because <code>ktime_t</code> is a signed 64-bit integer, but Rust's <code>core::time::Duration</code> wraps an <em>unsigned</em> type, since durations are non-negative intervals. The Rust code will panic if <code>ktime_get()</code> returns a negative clock value. Part of the absolute vs. offset complications!</p>

<p>It seems like the module could call the higher-level <code>ktime_get_ns()</code> and <code>ktime_get_boottime()</code> instead to be more isolated from implementation changes. Maybe explicit is better?</p>


      
          <div class="CommentReplyButton">
            <form action="/Articles/924949/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor924976"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 2, 2023 20:46 UTC (Thu)
                               by <b>rrolls</b> (subscriber, #151126)
                              [<a href="/Articles/924976/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
That a type named "Duration" wraps an unsigned integer comes as a surprise to me!<br>
<p>
Perhaps it's just because I'm used to how Python does things (here, with timedelta), but if I have two instants, A and B, then I'd expect to be able to do A - B and get a duration that could be positive, zero or negative - positive if A was in the future of B, zero if A and B are the same instant, and negative if A was in the past of B. Similarly, adding a positive duration to some instant C would result in an instant in C's future, and adding a negative duration to C would result in an instant in C's past.<br>
<p>
Does Rust have a different type intended to be used for this purpose? If so, then what is core::time::Duration for? Or if not, would I be expected to carry around a future/past flag when it's needed, like an "absolute value plus sign" representation?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/924976/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor924979"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 2, 2023 21:20 UTC (Thu)
                               by <b>mb</b> (subscriber, #50428)
                              [<a href="/Articles/924979/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Subtracting two Instants saturates to zero. (I think in older Rust versions it panicked, if the result was negative).<br>
It also has a checked_duration_since() function, which returns None, if the result would be negative (by your definition).<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/924979/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor924981"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 2, 2023 21:53 UTC (Thu)
                               by <b>mbunkus</b> (subscriber, #87248)
                              [<a href="/Articles/924981/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
core::time::Duration &amp; std::time::Duration are indeed unsigned. Their documentation states their purpose as "A Duration type to represent a span of time, typically used for system timeouts."<br>
<p>
There are several popular crates out there with signed duration types, allowing for real differences. "chrono" and "time" are popular ones, and both state explicitly that they allow arithmetic and negative durations.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/924981/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor924982"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 2, 2023 21:56 UTC (Thu)
                               by <b>mbunkus</b> (subscriber, #87248)
                              [<a href="/Articles/924982/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
BTW, and maybe this is due to me not being a native English speaker: I always think of "duration" being unsigned/non-negative. There's no negative time, no way to go backwards in time. I would expect the type of "timestamp1 - timestamp2" to be named something else, actually, e.g. a "difference", and that I would totally expect to be signed.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/924982/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor925087"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 3, 2023 15:34 UTC (Fri)
                               by <b>magi</b> (subscriber, #4051)
                              [<a href="/Articles/925087/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I guess that's why python calls it "timedelta" rather than "duration".<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925087/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor925382"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 7, 2023 5:20 UTC (Tue)
                               by <b>ssmith32</b> (subscriber, #72404)
                              [<a href="/Articles/925382/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Indeed. Duration indicates the amount of time, and an amount of time cannot be negative.<br>
<p>
<a href="https://www.merriam-webster.com/dictionary/duration">https://www.merriam-webster.com/dictionary/duration</a><br>
<p>
For the non-negative speaker: as sometimes happens, you're understanding of the language is more correct than, perhaps, some native English speakers ;)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925382/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor924991"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 2, 2023 23:42 UTC (Thu)
                               by <b>RogerOdle</b> (subscriber, #60791)
                              [<a href="/Articles/924991/">Link</a>] (11 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Stop using absolute types, just stop it.  Stop using multiple types for the same thing when they eventually have to be compared.  How many bugs do we have to create where signed and unsigned values are used?  There should only be one type for time in the kernel and it should be a relative time value so it should be signed.  And it should be 64 bits.<br>
<p>
Make time a signed 64 bit integer everywhere.  Do not use Duration, use Time.  Do not use Instant, use Time. Just pick one type please.  If you create more than one, may kitten will die,<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/924991/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor924999"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 3, 2023 0:48 UTC (Fri)
                               by <b>mathstuf</b> (subscriber, #69389)
                              [<a href="/Articles/924999/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; How many bugs do we have to create where signed and unsigned values are used?</span><br>
<p>
This is a C problem. Rust doesn't allow such comparisons. It has explicit casts, but they look "weird" and usually indicate that some API is missing.<br>
<p>
I wouldn't mind seeing `Duration&lt;Monotonic&gt;` and `Duration&lt;Wall&gt;` that are *not* comparable. Everything being the same type makes it too easy to mix them up and make nonsense differences.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/924999/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor925001"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 3, 2023 1:33 UTC (Fri)
                               by <b>NYKevin</b> (subscriber, #129325)
                              [<a href="/Articles/925001/">Link</a>] (8 responses)
      </p>
      
      </div>
      </summary>
      <p>Signed (or unsigned, for that matter) 64-bit integers do not allow for nanosecond precision to an acceptable range. They go to a reasonably large range, but I would argue that it's not really good enough:
<pre>
Python 3.10.9 (main, Dec  7 2022, 13:47:07) [GCC 12.2.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import datetime as dt
&gt;&gt;&gt; epoch = dt.datetime(1970, 1, 1, 0, 0, 0, tzinfo=dt.timezone.utc)
&gt;&gt;&gt; print(epoch)
1970-01-01 00:00:00+00:00
&gt;&gt;&gt; print(epoch + dt.timedelta(microseconds=(2**63 - 1) // 1000))
2262-04-11 23:47:16.854775+00:00
&gt;&gt;&gt; print(epoch - dt.timedelta(microseconds=(2**63) // 1000))
1677-09-21 00:12:43.145225+00:00
&gt;&gt;&gt; # For comparison:
&gt;&gt;&gt; print(epoch + dt.timedelta(seconds=(2**31 - 1)))
2038-01-19 03:14:07+00:00
&gt;&gt;&gt; print(epoch + dt.timedelta(seconds=(2**32 - 1)))
2106-02-07 06:28:15+00:00
&gt;&gt;&gt; print(epoch + dt.timedelta(seconds=(2**63 - 1)))
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
OverflowError: Python int too large to convert to C int
&gt;&gt;&gt; print(dt.datetime.max)
9999-12-31 23:59:59.999999
</pre>
<p>Sure, 2262 is a long time in the future. But it's not so absurdly far into the future that you won't eventually have compatibility problems (unlike the Python max datetime, which is thousands of years from now, or the 64-bit *second* rollover, which is multiple times the age of the universe). Realistically, if you want precision finer than 1 second increments, you should probably use some kind of struct. So now you have two time types, like it or not.
<p>Aside from that, the whole point of using multiple types is so that the type checker can catch invalid comparisons. Rust is not C, it does not let you just write nonsense and have it automagically coerce to the Wrong Thing.



      
          <div class="CommentReplyButton">
            <form action="/Articles/925001/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor925015"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 3, 2023 7:48 UTC (Fri)
                               by <b>Cyberax</b> (<b>&#x272D; supporter &#x272D;</b>, #52523)
                              [<a href="/Articles/925015/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; Signed (or unsigned, for that matter) 64-bit integers do not allow for nanosecond precision to an acceptable range</span><br>
<p>
This is actually a real problem already! My friends are working on software that processes Excel spreadsheets, and they had to abandon the standard Go timekeeping infrastructure, because it can't represent date differences that are used in actual spreadsheets that work with historical dates. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925015/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor925246"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 5, 2023 16:57 UTC (Sun)
                               by <b>Wol</b> (subscriber, #4433)
                              [<a href="/Articles/925246/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
As part of my "redesigning in my head" of the LGV system we use, I came across OpenQM's "Epoch" time type. Pick's "Day 1" is, iirc, 1 Jan 1967. "Epoch" counts in seconds from "00:00GMT 1 Jan 1967" then, and "time of day" is seconds from midnight. Which suddenly makes the maths for at least one of my problems simple.<br>
<p>
I've heard of it before, but it makes things SOOO much simpler if the 24hr clock doesn't force you to use times between 00:00 and 23:59. I'll be able to start shifts at the correct time of -5:00! Or we have shifts that are supposed to finish at 24:00, and I'll be able to correctly record drivers coming back to base and clocking off at 25:30, which I did on one occasion ...<br>
<p>
Cheers,<br>
Wol<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925246/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor925090"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 3, 2023 16:26 UTC (Fri)
                               by <b>rillian</b> (subscriber, #11344)
                              [<a href="/Articles/925090/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <p>Following this logic, the Rust std library <code>Duration</code> type is actually a <a href="https://doc.rust-lang.org/src/core/time.rs.html#86">96-bit struct</a>, so it has both nanosecond precision and the range of a 64-bit second counter.</p>

<p>This aligns with the general language philosophy of being correct by default. The downside is it's slower. Of course if that's an issue, one is free to make one's own types with smaller representations.</p>






      
          <div class="CommentReplyButton">
            <form action="/Articles/925090/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor925139"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 3, 2023 23:00 UTC (Fri)
                               by <b>NYKevin</b> (subscriber, #129325)
                              [<a href="/Articles/925139/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The only problem I have with this struct is that it does not implement div_duration_u64 and Rem&lt;Duration&gt;, both of which ought to exist and satisfy the following invariants:<br>
<p>
a == b * (a.div_duration_u64(b)) + (a % b)<br>
a % b &lt; b<br>
<p>
Where a and b are arbitrary durations, b is nonzero, and overflow does not occur (there might also need to be a checked variant). div_duration_u64 returns a u64. Implementing those correctly is not trivial, and library consumers ought not have to do it themselves. They are needed for answering questions such as "How many days, hours, minutes, and seconds is this duration?" without having to extract seconds into u64 and do all the math in untyped integers.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925139/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor925147"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 4, 2023 0:31 UTC (Sat)
                               by <b>rillian</b> (subscriber, #11344)
                              [<a href="/Articles/925147/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <p>Are there other use-cases? I agree converting a <code>Duration</code> to various calendar intervals isn't trivial, but does that support belong in the std library, rather than the library implementing the conversions? Wouldn't such a method further constrain the (currently private) representation?</p>

<p>The <code>time</code> and <code>chrono</code> libraries in fact both provide their own <code>Duration</code> types with methods for computing how many minutes, hours, weeks, etc. a given <code>Duration</code> represents. Amusingly for this discussion they both use signed integers internally.</p>


      
          <div class="CommentReplyButton">
            <form action="/Articles/925147/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor925150"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 4, 2023 1:24 UTC (Sat)
                               by <b>NYKevin</b> (subscriber, #129325)
                              [<a href="/Articles/925150/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
That's why I'm suggesting a generic division implementation, not a "how many days?" method. Want sidereal time? Just divide by a sidereal day. Want Gregorian average years? Divide by 365.2425 days. Julian years? 365.25 days. The whole point is that this is a general function that can be used for a wide variety of purposes, and doesn't force you into using a particular set of units.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925150/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor925151"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 4, 2023 1:25 UTC (Sat)
                               by <b>NYKevin</b> (subscriber, #129325)
                              [<a href="/Articles/925151/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
(Incidentally, a sidereal day is not a whole number of seconds, so you *can't* just use the "do the math in seconds" trick there.)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925151/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor925154"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 4, 2023 2:23 UTC (Sat)
                               by <b>rillian</b> (subscriber, #11344)
                              [<a href="/Articles/925154/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <p>I see what you mean. Thanks.</p>

<p>I suppose there's <code>pub const fn as_nanos(&amp;self) -&gt; u128</code>...</p>



      
          <div class="CommentReplyButton">
            <form action="/Articles/925154/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor925008"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 3, 2023 5:46 UTC (Fri)
                               by <b>josh</b> (subscriber, #17465)
                              [<a href="/Articles/925008/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <blockquote>Stop using multiple types for the same thing</blockquote>

<p>Absolute time and relative time are not the same thing. It's a good thing that:

<ul>
<li>Subtracting two absolute times gives a relative time.
<li>Adding a relative time to an absolute time, or subtracting a relative time from an absolute time, gives an absolute time.
<li>Adding or subtracting relative times gives relative times.
<li>Adding an absolute time to an absolute time *does not work*.
</ul>


      
          <div class="CommentReplyButton">
            <form action="/Articles/925008/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor924973"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 2, 2023 20:27 UTC (Thu)
                               by <b>iabervon</b> (subscriber, #722)
                              [<a href="/Articles/924973/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I thought get_ktime() was intended to reflect the fact that the kernel mostly doesn't care what time it is really, but wants some sort of increasing reference that really shouldn't be an absolute time. If you used to be wrong about the time when the system booted, and now you've got a better idea, the difference between the value you got from get_ktime() before the correction and the value you get now would still only reflect the passage of time, whereas any absolute times reported would be expected to draft towards the best possible agreement with external references.<br>
<p>
I think returning Durations might be a good cue that the caller should use these functions in order to have the difference between two return values best reflect the time that elapsed between those calls, and look elsewhere for the official current time. (But developers looking for time information should probably be reminded of the existence of what they probably really want.)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/924973/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor924993"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 2, 2023 23:42 UTC (Thu)
                               by <b>NYKevin</b> (subscriber, #129325)
                              [<a href="/Articles/924993/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
IMHO encoding the clock you used into the type still solves that problem, because if an API wants wall time (or some reasonable approximation thereof), it won't accept Instant&lt;ktime&gt; (or however they've decided to spell it), since ktime is the "wrong clock" for that purpose.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/924993/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor924997"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 3, 2023 0:12 UTC (Fri)
                               by <b>tglx</b> (subscriber, #31301)
                              [<a href="/Articles/924997/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The kernel very much cares about what time it is and all ktime_get*() variants return absolute time and some of them are very well related to external references (REALTIME/TAI). Even if MONOTONIC/BOOTTIME are not externally referenced they are absolute by definition.<br>
<p>
So in theory the return value for these functions could be unsigned. But C is patently bad about unsigned vs. signed math unless you are very carefully wrapping things with the required type casts. So we ended up with a signed data type.<br>
<p>
But that does not mean that ktime_get*()  will ever return a negative value. That would be clearly a bug.<br>
<p>
Now we are talking about interfaces for a proper type safe language and we really have to be very careful about these things and not just willy-nilly declare that the kernel does not care and timestamps are considered relative.<br>
<p>
There is a clear distinction between reading time, which is by definition absolute and the delta between two timestamps which is by definition relative. That's nothing which is defined by the kernel or by rust, it's a well understood fact.<br>
<p>
Making the sloppy abstraction of everything is a Duration is just thwarting the justification for Rust in the kernel.<br>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/924997/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor925009"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 3, 2023 6:07 UTC (Fri)
                               by <b>matthias</b> (subscriber, #94967)
                              [<a href="/Articles/925009/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; I thought get_ktime() was intended to reflect the fact that the kernel mostly doesn't care what time it is really, but wants some sort of increasing reference that really shouldn't be an absolute time. </span><br>
<p>
This somewhat misses the point. Of course this should be absolute times, in the sense that they refer to some point in time and not a duration, i.e. the difference between two points in time. However get_ktime() uses a different calendar, i.e., one that does not start with the birth of Christ as some other calendars. But the distinction between point in time (returned by get_ktime()) and duration (time that passed between two points in time) is still meaningful and important.<br>
<p>
Of course, if you want to store some point in time, you always have to store a difference to some arbitrary point in time that you fix as the 0 in your calendar. Be it birth of Christ, Unix epoch, or time of system boot. But there is always the clear distinction between a point in time (stored relative to the 0) and the duration between two points in time. And comparing one to another is most likely a big mistake that should be prevented by the type system.<br>
<p>
<span class="QuotedText">&gt; I think returning Durations might be a good cue that the caller should use these functions in order to have the difference between two return values best reflect the time that elapsed between those calls, and look elsewhere for the official current time. (But developers looking for time information should probably be reminded of the existence of what they probably really want.)</span><br>
<p>
No, as also discussed in the article, you can use different kinds of Instances instead. So you have Instant&lt;KTIME&gt;, Instant&lt;TAI&gt;, Instant&lt;WALL&gt;, etc. It would be an error to calculate a Duration from two Instances that come from different clocks. Which type of clock you want would be encoded in the concrete type. What is not that clear to me is whether Durations calculated from different clocks are different types. But in kernel space it probably makes sense, because the Duration between the same two points in time can depend on the clock used to record these points in time. Some clocks are monotonic while others are not.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925009/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor925017"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 3, 2023 9:51 UTC (Fri)
                               by <b>Wol</b> (subscriber, #4433)
                              [<a href="/Articles/925017/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
So basically we have two sorts of time, monotonic and wall, Monotonic time may have a wall-clock zero attached to them, or may be a plain timer. Wall clocks may have a calendar and time zone attached to them, or may just be a plain clock. Interval is a special case of monotonic, I'd think.<br>
<p>
That - I think - gives you everything you need to convert between them, but the rule would be any attempt to convert/compare either requires the information to do a valid operation or, if the information is not there, you can force the operation on bare values. What you cannot do is the operation where you have the clock definition but no conversion information.<br>
<p>
Cheers,<br>
Wol<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925017/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor924987"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 2, 2023 22:37 UTC (Thu)
                               by <b>amarao</b> (subscriber, #87073)
                              [<a href="/Articles/924987/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I really happy to see those discussions. Rusty programming usually brings clarity (even if it's not welcomed), and just discussion about proper types and their relations may yield unexpected discoveries about unsoundness.<br>
<p>
I find myself occasionally 'thinking in Rust' even if I write in soft-typed language.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/924987/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor924998"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 3, 2023 0:14 UTC (Fri)
                               by <b>tglx</b> (subscriber, #31301)
                              [<a href="/Articles/924998/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I can relate. My ADA history taught me a few things about correctness first :)<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/924998/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor925146"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 4, 2023 0:26 UTC (Sat)
                               by <b>edeloget</b> (subscriber, #88392)
                              [<a href="/Articles/925146/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Is there a chance that this work will also translate to cleaner C interface within the kernel? Given the fact that C is mostly (well, not always, but) strong typed, it should be able to get some benefits by using clearer and cleaner abstractions as well (for example, structure-based types instead of integers of various length and signedness). If you turn a ktime_t into a structure you won't be able to use it when you need another kind of duration. It would make the core a bit more clunky (no more direct addition or comparison) but that would make the intent clearer.<br>
<p>
Or maybe there is something I don't see?<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925146/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor925242"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Mar 5, 2023 16:01 UTC (Sun)
                               by <b>plugwash</b> (subscriber, #29694)
                              [<a href="/Articles/925242/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
C lacks any form of generics or overloading, so if you have different types you either have to duplicate all the code with different function names for each type or do a bunch of nasty typecasting.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/925242/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor929890"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 22, 2023 11:13 UTC (Sat)
                               by <b>charmitro</b> (subscriber, #164741)
                              [<a href="/Articles/929890/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
When are we expected to see modules implemented in Rust on the mainline?<br>
<p>
AFAIK there are only samples, but it's been a long time since last time I checked.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/929890/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor929892"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Kernel time APIs for Rust</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Apr 22, 2023 11:29 UTC (Sat)
                               by <b>rahulsundaram</b> (subscriber, #21946)
                              [<a href="/Articles/929892/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<p>
<span class="QuotedText">&gt; When are we expected to see modules implemented in Rust on the mainline?</span><br>
<p>
I haven't seen a specific timeline but here is what I have read<br>
<p>
<a href="https://www.heise.de/hintergrund/Three-Questions-and-Answers-Rust-for-Linux-7532262.html">https://www.heise.de/hintergrund/Three-Questions-and-Answ...</a><br>
<p>
"The first drivers (and the abstractions supporting them) that will start to be upstreamed are likely to be the Asahi Linux's GPU driver, Android's Binder and the NVMe driver. These are all non-trivial and will set the example for future Rust kernel abstractions and drivers."<br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/929892/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2023, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
