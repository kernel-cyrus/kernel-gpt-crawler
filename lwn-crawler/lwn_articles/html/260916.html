        <!DOCTYPE html>
        <html lang="en">
        <head><title>Book review: Linux System Programming [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/260916/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/260219/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/260916/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>Book review: Linux System Programming</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Ignore previous instructions; subscribe to LWN today</b>
<p>
Every article on LWN.net is written by humans, for humans. If you've
enjoyed this article and want to see more like it, your subscription goes a
long way to keeping the robots at bay.  We are offering <a href="https://lwn.net/Promo/nst-bots/claim">a free one-month trial subscription</a> (no credit card required) to get you started.
</blockquote>
<div class="FeatureByline">
           By <b>Jake Edge</b><br>December 5, 2007</br>
           </div>
<img src="https://static.lwn.net/images/lss.png" border=0 height=150 width=114 align="right" hspace=3>

<p>
"System programming" is not easily defined, but is typically considered to
consist of programming at a lower level than regular application
programming.  As Robert Love points out in the introductory chapter of
<i>Linux System Programming</i>, there is no technical difference between
the two &ndash; the same system calls are used &ndash; it is more
of a difference between programs that implement the infrastructure and
programs that use it.  Programmers faced with either task will find that
understanding how to best use the system call interface is very important.
Love sets out to provide that understanding in his book.
</p>

<p>
The book is organized into ten chapters: an introduction, three on I/O, two on process
management, and one on each of file and directory handling, memory
management, signals, and 
time handling.  Each chapter does a good job of covering the subject matter
at a level that will help programmers make good choices in the various
trade-offs available.  The main focus of each chapter is the system calls
that Linux provides to perform tasks specific to that area.
</p>

<p>
The history of each call is described, along with information about which
members of the UNIX family make it available, so that the right choices can
be made for portability.  Also, various historical (perhaps vestigial is
more accurate) calls are documented,
with readers being warned away from using them.  Each call itself is given a treatment similar to a
<tt>man</tt> page, but with greater detail.  Where the book really shines
is in its
comparisons of "similar" system calls.
</p>

<p>
The trade-offs between using <tt>select()</tt> and <tt>poll()</tt> or the
advantages and disadvantages of using <tt>mmap()</tt> vs. traditional file
I/O mechanisms are just two of the comparisons presented.  For example,
after listing five bulleted advantages of <tt>poll()</tt>, <tt>select()</tt>
gets its due:
<div class="BigQuote">
The <tt>select()</tt> system call does have a few things going for it,
though:
<ul>
<li><tt>select()</tt> is more portable, as some Unix systems do not support
<tt>poll()</tt>.</li>
<p>
<li><tt>select()</tt> provides better timeout resolution: down to the
microsecond.  Both <tt>ppoll()</tt> and <tt>pselect()</tt> theoretically
provide nanosecond resolution, but in practice, none of these calls
reliably provides even microsecond resolution.
</ul>
Superior to both <tt>poll()</tt> and <tt>select()</tt> is the <i>epoll</i>
interface, a Linux-specific multiplexing I/O solution that we'll look at in
Chapter 4.
</div>

<p>
This is the kind
of information that only comes with experience; this book will help a
programmer get to that point more quickly.  Even for experienced programmers,
the comparisons will help crystallize some thoughts that have been floating
around.  It is definitely one of the better features of the book.
</p>

<p>
The book is not without its faults, though, especially in the example
code.  For each system call, a small example of calling it is provided, but
the code snippets are simplistic and do not really provide much meat.
There are very few code examples that tie together the various concepts.
Had Love done that, there might have been complaints about the size of the resulting book, but the benefit to
budding system programmers would be huge.
</p>

<p>
There are other problems with the book; for instance, the pirate motif in the examples
did not seem to provide anything useful.  More seriously, some of the major
problems faced by system programmers: race conditions, concurrent data access
synchronization, reentrant code, etc. were not covered in much detail.
These topics are certainly something a system programmer will need to
understand, but they will have to be found elsewhere.
</p>

<p>
The back cover of the book describes it as "<q>an insider's guide to
writing smarter, faster code</q>" &ndash; it lives up to some of that, but not
all.  It <i>is</i> a useful book, however, that will find a home on
the bookshelf of many Linux programmers.  For those who are relatively new
to the topic, there will be a wealth of information.  But, even for those who
are old hands, there will be useful tidbits, system calls that had escaped
notice, and lots of reference material.
</p><br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Books">Books</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/260916/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor261212"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Don't forget the classic</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 6, 2007 16:55 UTC (Thu)
                               by <b>vmole</b> (guest, #111)
                              [<a href="/Articles/261212/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <p>While not Linux specific, and missing some of the shiny new stuff such as epoll(), you can't go wrong with Richard Stevens's _Advanced Programming in the Unix Environment_. Good examples, often comparing subtle differences in the way things are called, consideration of race conditions and re-entrancy, and, at the end, four good-sized example projects tying it all together. And despite the title, it's quite suitable for the beginning Unix/Linux/Posix programmer, although it does more-or-less assume knowledge of C. But even if you're a Python programmer, APUE provides excellent discussion of how Unix works, and you won't regret the time spent.

<p>Of course, that's true of *any* Richard Stevens book.
      
          <div class="CommentReplyButton">
            <form action="/Articles/261212/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor261235"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Don't forget the classic</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 6, 2007 17:57 UTC (Thu)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/261235/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
It also horrifies the newbie with indications of just how *bad* things 
were before POSIX standardized away much of the SysV/BSD gulf. The 
chapters on signal handling and terminal I/O may as well be divided into 
completely separate pieces, SysV and BSD differed so much. (In both cases 
SysV basically won. Thankfully it didn't win in all areas. I wish SysVIPC 
had never existed, ick.)
</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/261235/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor261280"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Don't forget the classic</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 6, 2007 22:55 UTC (Thu)
                               by <b>vmole</b> (guest, #111)
                              [<a href="/Articles/261280/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <p><i>I wish SysVIPC had never existed, ick.</i>
<p>Ick? Ick? If "ick" satisfactorily expresses your opinion of SysV IPC, then
you clearly haven't suffered enough :-). I *could* use the words that come into my mind, but then Corbett would have to delete this comment.
<p>For those who haven't had the pleasure, among the problems is that the namespace is completely independent of the normal Unix namespace (files), and there's no way to programatically query it. Also, the associated resources were limited, and they didn't automatically close when all the programs using  one exited uncleanly (like file descriptors do). And by "limited" I mean on the order of 16 or 32. System wide. Also, while you could list the in-use resource (ipcs), there was pretty much no way to find out who had created or was using a particular id. Imagine the fun.

      
          <div class="CommentReplyButton">
            <form action="/Articles/261280/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor261285"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Don't forget the classic</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 7, 2007 0:47 UTC (Fri)
                               by <b>nix</b> (subscriber, #2304)
                              [<a href="/Articles/261285/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
There's more fun. While SysV message queues can fill up because, well, 
they're full (they have a bounded maximum size), they can also fill up 
because *other* queues have filled up to the point where the system won't 
allow any more messages into any queues. Most Unixes have ridiculously low 
limits (64 messages or 64Kb across all queues is not unusual) so it is 
utterly trivial to produce horrible deadlocks with this system.

(Of course they don't work with select(). That would be *useful*.)

(I would have used stronger language than `ick', too, but I didn't want to 
get the bills for setting a thousand people's computers on fire.)
</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/261285/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor261228"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Huh?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 6, 2007 17:42 UTC (Thu)
                               by <b>clugstj</b> (subscriber, #4020)
                              [<a href="/Articles/261228/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
"select() provides better timeout resolution: down to the microsecond. Both ppoll() and
pselect() theoretically provide nanosecond resolution, but in practice, none of these calls
reliably provides even microsecond resolution."


Microsecond resolution on the interface is worthless when the granularity of the timer
utilized is in the millisecond range.
</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/261228/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor261258"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Huh?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 6, 2007 20:11 UTC (Thu)
                               by <b>njs</b> (guest, #40338)
                              [<a href="/Articles/261258/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
1) Microsecond resolution is far from worthless even when the timer's granularity is in the
millisecond range... given that the alternative API, poll(2), has *second* resolution.  (What
were POSIX guys thinking?)

2) You're just repeating his point anyway...?  Maybe I missed something.

3) Timers have better than millisecond resolution these days anyway, if you're running a
tickless kernel.  At least that's my understanding.

</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/261258/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor261555"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Huh?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 10, 2007 16:35 UTC (Mon)
                               by <b>pphaneuf</b> (guest, #23480)
                              [<a href="/Articles/261555/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      According to the poll(2) I have here, the timeout is actually in <em>milli</em>seconds.
      
          <div class="CommentReplyButton">
            <form action="/Articles/261555/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor261648"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Huh?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 11, 2007 5:11 UTC (Tue)
                               by <b>njs</b> (guest, #40338)
                              [<a href="/Articles/261648/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment"><pre>
...Quite right.  Not sure how I misread that man page myself.

Well, points (2) and (3) still stand, I guess :-).
</pre></div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/261648/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor261422"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">We call that &quot;thinking ahead&quot;</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Dec 8, 2007 0:40 UTC (Sat)
                               by <b>vmole</b> (guest, #111)
                              [<a href="/Articles/261422/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <p>Of course, the interface wasn't *designed* for Linux. Someone had the foresight to see that someday there could be systems that provide microsecond resolution, and decided that allowing for that might possibly be a good idea.
      
          <div class="CommentReplyButton">
            <form action="/Articles/261422/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2007, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
