        <!DOCTYPE html>
        <html lang="en">
        <head><title>Merging bcachefs [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/934692/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/934728/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/934692/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>Merging bcachefs</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>Please consider subscribing to LWN</b>
<p>
Subscriptions are the lifeblood of LWN.net.  If you appreciate this
content and would like to see more of it, your subscription will
help to ensure that LWN continues to thrive.  Please visit
<a href="/Promo/nst-nag1/subscribe">this page</a> to join up and keep LWN on
the net.
</blockquote>
<div class="FeatureByline">
           By <b>Jake Edge</b><br>June 16, 2023</br>
           <hr>
<a href="/Articles/lsfmmbpf2023">LSFMM+BPF</a>
</div>
<p>
The <a href="https://bcachefs.org/">bcachefs filesystem</a>, and the
process for getting it upstream, were the topics
of a session led remotely by 
Kent Overstreet, creator of bcachefs, at the 
<a href="/Articles/lsfmmbpf2023">2023 Linux Storage, Filesystem,
Memory-Management and BPF Summit</a>.  He has also discussed bcachefs in
previous editions of the summit, <a href="/Articles/755276/">first
in&nbsp;2018</a> and <a href="/Articles/895266/">at last year's event</a>;
in both of those cases, the question of getting bcachefs merged
into the mainline kernel came up, but that merge has not happened yet.
This time 
around, though, Overstreet seemed 
closer than ever to being ready to actually start that process.
</p>

<p>
He began his talk by noting that he had been saying bcachefs is almost
ready for merging for some time now; "now I'm saying, let's finally do
it".  He wanted to report on the status of the filesystem and on why it is
ready now for upstreaming, but he wanted to use the bulk of the session to
discuss 
the process of doing so.  "It's a massive, 90,000-lines-of-code
beast" that needs to get reviewed, so there is a need to figure out the
process to do that review.
</p>

<p>
His goal with bcachefs is to have the "performance, reliability,
scalability, and robustness of XFS with modern features".  That's a high
bar, and one that bcachefs has not yet reached, but "I think we're pretty
far along". People are running bcachefs on 100TB filesystems "without any
issues or complaints"; he is waiting for the first 1PB filesystem.
"Snapshots scale beautifully", which is not true for Btrfs, based on user
complaints, 
he said.
</p>

<h4>Status</h4>

<p>
In the last year, there has been a lot of scalability work done, much of
which required deep rewrites, including for the allocator, which dates back
to <a href="https://bcache.evilpiepirate.org/">bcache</a>. There is a new
"no copy-on-write" (nocow) mode and snapshots have been implemented. People
are using the snapshots to do backups of MySQL databases, he said, which is
a test of the robustness of the feature.
</p>

<a href="/Articles/934695/">
<img src="https://static.lwn.net/images/2023/lsfmb-overstreet-sm.png" border=0 hspace=5 align="left"
alt="[Kent Overstreet]" title="Kent Overstreet" width=260 height=237>
</a>

<p>
<a href="https://en.wikipedia.org/wiki/Erasure_code">Erasure coding</a> is
the last really big feature that he would like to get into bcachefs before
upstreaming it.  But he thinks "it's time to draw a line in the sand", so
that can wait for a bit.  There is still a lot of work to do, but "the big
feature work is lessening"; he will be able to work on being a maintainer
without having to disappear for a month to work on something, as he did for
snapshots, for example.
</p>

<p>
The bcachefs team is growing; Brian Foster at Red Hat has been doing a lot
of great work on bug fixes, Overstreet said.  Eric Sandeen has helped in
attracting interest in bcachefs at Red Hat as well.  There is a bi-weekly
call on bcachefs development.  There is automated testing infrastructure
that has been added and it is "making my life much easier", Overstreet
said.  The test system runs in about half an hour and includes multiple
runs of fstests as well as the "huge test suite" for bcachefs.
</p>

<p>
Rust is something that he has been evangelizing about to "anyone who will
listen"; he thinks "writing code in C, when we finally have a better option
available, is madness".  He loves to write code, but not to debug it;
writing in Rust "just means a lot less time debugging". He intends to
slowly rewrite bcachefs in Rust, which will be a ten-plus-year project, but
the use of Rust in bcachefs has already started.  Some of the user-space
tools have been rewritten in Rust and someone is looking at moving some of
that work into the kernel.
</p>

<h4>Upstreaming</h4>

<p>
That morning he had <a
href="/ml/linux-fsdevel/20230509165657.1735798-1-kent.overstreet@linux.dev/">posted</a>&nbsp;32
preliminary patches adding infrastructure that bcachefs will need; those
patches were already being reviewed, he said.  The 
rest is&nbsp;90,000 lines of code in&nbsp;2,500 patches that he did not
post; he did include a link to his <a
href="https://evilpiepirate.org/git/bcachefs.git">Git repository</a>, where
those patches live in a <a
href="https://evilpiepirate.org/git/bcachefs.git/log/?h=bcachefs-for-upstream">bcachefs-for-upstream
branch</a>.  He then opened up the floor to discuss how those patches would
be reviewed and, eventually, merged.
</p>

<p>
Josef Bacik said that he thinks the response will be much the same as last
year; filesystem developers are "really excited" to see bcachefs get
merged.  He does not plan to review the implementation of the filesystem
itself and suspects that is generally true.  The people who are working on
it will review it; "trust yourselves for that part".  The "generic stuff is
what we need to review", once that is done, the rest of the filesystem code
can be merged as far as he is concerned.  That is, of course, up to Linus
Torvalds. 
</p>

<p>
Overstreet said that one of his questions is: "what do we take to Linus?"
He has spent the last year on process and infrastructure, getting a team
together, working with Red Hat, putting together an automated test suite,
and so on.  Mike Snitzer remotely pointed out that a patch set that had
recently been rejected contained two enormous patches that were essentially
impossible to review;  he contrasted that with the 2,500 fine-grained
patches that make up bcachefs, which is much easier to digest.
</p>  

<p>
While Snitzer is
not sure that having everyone go through them one-by-one in review is the right
approach, the obvious effort that went into that patch series makes it
easier to trust the code and the process that went into developing it.
"You've done the heavy lifting by doing all of that work to split up
patches."  Overstreet said that it was a lot of work to rebase nearly the
entire history, but that it came in handy around six months ago when Red
Hat noticed some big performance regressions.  He was able to use that
history to do automated bisection and got almost all of the performance back.
</p>

<p>
Bacik said that Torvalds is the "maintainer" responsible for merging a new
filesystem, so it will be up to him to decide if he is willing to pull the
full history into the mainline.  It would be Bacik's preference to do so,
because the history is "super useful", but that is not something that the
people in the room can decide.  He suggested that the pull request be more
of a question about whether the full history was acceptable and, if not,
what would be.
</p>

<p>
One concern is that once bcachefs gets merged, it will be difficult for
anyone besides Overstreet to deal with the bug reports, Amir Goldstein
said.  It is important that it be explained in the pull request; "I want to
merge this and I have a team that can support this".   Getting more help
was one of the criteria before upstreaming, Overstreet said.  He knew that
if it was a one-man show and he got deluged with bug reports, he would "go
insane and run away to South America"; Foster has been "a huge help", which
is one of the things that makes him feel comfortable about merging at this
point. 
</p>

<p>
Paradoxically, the recent <a href="/Articles/886708/">push to remove some
filesystems</a> (e.g. ReiserFS) 
from the kernel is actually going to make it easier to add new ones, Ted
Ts'o said.  He can remember Hans Reiser being enthusiastic about his new
filesystem, with a team to support it, but that all fell into disrepair
over the years.  The kernel project now has a path for removing filesystems
after a deprecation cycle.  The idea that "accepting a filesystem isn't
forever, makes it a whole lot easier" to merge new ones.
</p>

<p>
He also suggested breaking up the patch series into smaller, more reviewable
chunks that collect up a small number of related patches. That would make
it easier 
for people to review, say, all of the lockdep patches in one chunk.  It
would mean relaxing the general guideline about not merging infrastructure
until 
its first caller is merged, which he is in favor of; he would amend that
guideline to allow merging 
when it includes a pointer to the Git tree of the first caller.
</p>

<p>
Overstreet thinks that the preliminaries that he posted earlier that day
will not be too controversial and other than perhaps one or two "will just
sail through".  He noted that Christoph Hellwig had objected to the <a
href="/ml/linux-fsdevel/20230509165657.1735798-8-kent.overstreet@linux.dev/"><tt>vmalloc_exec()</tt>
patch</a>, though that functionality is needed for bcachefs, Overstreet
said. Since the 
talk, Mike Rapoport has <a 
href="/Articles/933867/">proposed the JIT allocator</a>, which would
solve the 
underlying problem.
</p>

<p>
A remote participant said that Foster's experience had shown that the code
base is approachable; once bcachefs is available, interested developers will be
able to come up to speed and start working on it with few difficulties.
Christian Brauner asked that there be a clear delineation for who else
could step in and merge patches if Overstreet is unavailable.  Brauner noted
that the NTFS/NTFS3 maintainer disappeared and, even though there were people
who were contributing to the filesystem, it was not clear "who could route
patches upstream".  Overstreet said that he would trust Foster in that role
if "he is willing to step up to that". 
</p>

<p>
Brauner said that he thinks bcachefs is in "excellent shape to be
upstreamed", but he is concerned with the number of filesystems in the
kernel;  he is glad to see that there are efforts to remove some of them.
Changes that impact all of the filesystems in the tree "get painful very
very fast" and, in some cases, there is no one available to review the
changes.  He would like the acceptance process to be more conservative;
accepting NTFS/NTFS3 was "a huge mistake", for example.  Brauner said that
none of that was directed at bcachefs, but was a more general concern;
filesystem acceptance and deprecation
was taken up in a lightning talk  (<a
href="https://www.youtube.com/watch?v=-fpgPrTnX2g">YouTube video</a>) later
that day.
</p>

<p>
Darrick Wong said that he had already started doing what Ts'o suggested in
his <a
href="https://lwn.net/ml/linux-fsdevel/20230526000020.GJ11620@frogsfrogsfrogs/">patches</a>
for <a href="/Articles/934561/">XFS online repair</a>.  He has a collection
of infrastructure patches that refer to callers that are coming soon; he
has convinced Dave Chinner that there is value in reviewing the
infrastructure pieces while also looking at the bigger picture of where it
is all leading.  That helps him because he can stop "rebasing things
repeatedly and having to play code golf, like moving small helper functions
up and down in the patch set".  Putting all of that stuff in a separate set
of infrastructure patches helped him, though it did cause some complaints
from reviewers, but there is now some precedent for that approach, he said.
</p>

<p>
Overstreet said that he is not particularly concerned about the&nbsp;30 or
so "relatively uncomplicated" infrastructure patches that he needs to
land.  He is going to wait for the Acked-by and Reviewed-by tags to come
in, but if they do not, then he will use the suggested approach "as a Plan
B".  With that, the 
session came to a close.
</p><br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Filesystems-bcachefs">Filesystems/bcachefs</a></td></tr>
            <tr><td><a href="/Archives/ConferenceIndex/">Conference</a></td><td><a href="/Archives/ConferenceIndex/#Storage_Filesystem_Memory-Management_and_BPF_Summit-2023">Storage, Filesystem, Memory-Management and BPF Summit/2023</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/934692/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor934965"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 16, 2023 21:23 UTC (Fri)
                               by <b>zdzichu</b> (subscriber, #17118)
                              [<a href="/Articles/934965/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Bcachefs came from bcache, which is solely focused on speeding up HDDs by using NVMe or SATA SSD as a cache layer. Is this functionality still relevant? Solid state drives are affordable in multi-TB range now.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/934965/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor934973"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 17, 2023 0:41 UTC (Sat)
                               by <b>flussence</b> (guest, #85566)
                              [<a href="/Articles/934973/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It's definitely still relevant as long as storage devices on a single system can differ in latency/throughput by orders of magnitude. Whether it'll still be maintained is another question, but there's always the possibility of extending fscache+cachefilesd to support local filesystems if not.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/934973/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor934981"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 17, 2023 7:03 UTC (Sat)
                               by <b>Kangie</b> (guest, #161139)
                              [<a href="/Articles/934981/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Yes. I'm currently running an ~100TB bcachefs pool consisting of 90tb SAS spinning rust and 24tb SATA SSDs.<br>
<p>
Any use case between 'wanting a decent CoW file system on a single disk / partition' to 'combining two disks in a desktop better than btrfs in a way that will be mainlined' and frankly anything short of true multi-tiered mass storage is where this is going to be most useful.<br>
<p>
It's incredibly promising - better than btrfs with no CoW write hole and actually able to be mainlined unlike zfs. It's also possible to easily resize, unlike a running zfs system.<br>
<p>
Seriously, exciting stuff all around.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/934981/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor934989"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 17, 2023 9:45 UTC (Sat)
                               by <b>jengelh</b> (subscriber, #33263)
                              [<a href="/Articles/934989/">Link</a>] (7 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt;Rust is something that he has been evangelizing about to "anyone who will listen"</span><br>
<p>
I'd wish developers would spend less on (fanatically) evangelizing the toolchains used, and rather push a project on own merit (e.g. features).<br>
<p>
Just because you made a painting with a $10k horsehair brush and golden paint does not necessarily make it great art.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/934989/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor934990"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 17, 2023 11:15 UTC (Sat)
                               by <b>tux3</b> (subscriber, #101245)
                              [<a href="/Articles/934990/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I'd think that sword ought to cut both ways.<br>
<p>
If the brush does not matter, and the art is not to your liking, then criticize the art. If the brush doesn't make it good, then the brush also doesn't make it bad.<br>
<p>
No one's saying it's good because of the new lang. Symmetrically, new lang evangelism oughtn't be a reason to dismiss it.<br>
There's an entire new filesystem's worth of artwork to critize on its own merit here, if you please<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/934990/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor935000"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 17, 2023 14:20 UTC (Sat)
                               by <b>koverstreet</b> (subscriber, #4296)
                              [<a href="/Articles/935000/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
You seem to be under the mistaken impression that tools are just fads, or something of no consequence.<br>
<p>
A good craftsman cares about his tools. Listen to woodworkers who get together, they'll be talking about their tools just as much as the actual work. We're interacting with these tools every day, and the quality of the tool very much affects the quality of the work.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935000/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935003"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 17, 2023 14:25 UTC (Sat)
                               by <b>jengelh</b> (subscriber, #33263)
                              [<a href="/Articles/935003/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Even a pencil gets a good artist a long way, that's my point.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935003/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935004"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 17, 2023 14:44 UTC (Sat)
                               by <b>koverstreet</b> (subscriber, #4296)
                              [<a href="/Articles/935004/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Conferences are for programmers to talk to other programmers. I don't think you have a point.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935004/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor935011"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 17, 2023 20:48 UTC (Sat)
                               by <b>flussence</b> (guest, #85566)
                              [<a href="/Articles/935011/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Ooh, a tortured analogy. Let's flog it to death and put it out of its misery.<br>
<p>
A crayon scribble may satisfy a lot of people, but the rest of us don't really accept that VFAT and NTFS written in a pre-C99 toolchain are the limit of what's possible.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935011/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor935026"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 18, 2023 1:42 UTC (Sun)
                               by <b>dvdeug</b> (guest, #10998)
                              [<a href="/Articles/935026/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
But artists don't generally do final drafts in pencil, and if you take a Star Wars, or a Toy Story, there's thousands of artists working with the best equipment that can be found to produce the final result.<br>
<p>
And Linux is more like engineering than art. The Hyatt Regency Hotel in Kansas City had the most elegant walkways, until they collapsed and killed 114. Sometimes it matters how you do things, and handwaves at artistry isn't going to recover the lost data.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935026/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor935032"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 18, 2023 3:48 UTC (Sun)
                               by <b>rsidd</b> (subscriber, #2582)
                              [<a href="/Articles/935032/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
As the article says, bcachefs is not currently written in rust, apart from a few userspace tools. It would be a 10 year project to rewrite it in rust. He is pushing it on his merits not on the language. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935032/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor935028"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 18, 2023 1:43 UTC (Sun)
                               by <b>developer122</b> (guest, #152928)
                              [<a href="/Articles/935028/">Link</a>] (38 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Is there a possibility that bcachefs may get ported elsewhere, or is this implementation 100% GPL'd? (no GPL-BSD/MIT dual licencing?)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935028/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935054"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 18, 2023 17:10 UTC (Sun)
                               by <b>ballombe</b> (subscriber, #9523)
                              [<a href="/Articles/935054/">Link</a>] (33 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
"elsewhere" meaning GPL-hostile OS ?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935054/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935070"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 18, 2023 20:36 UTC (Sun)
                               by <b>developer122</b> (guest, #152928)
                              [<a href="/Articles/935070/">Link</a>] (32 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Hard to call it "GPL hostile" when any work from BSD etc can get stolen by linux but never contributed back.<br>
<p>
If you want to be rude like that.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935070/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935074"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 18, 2023 20:43 UTC (Sun)
                               by <b>developer122</b> (guest, #152928)
                              [<a href="/Articles/935074/">Link</a>] (29 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I am of course talking about FreeBSD/OpenBSD/OpenSolaris, who all share their ZFS code with linux through OpenZFS.<br>
<p>
You could always say "just use linux" but it's a pretty useful feature for a filesystem to be portable across OSs. There are even experimental windows and macOS drivers, if you really, really need to access the data there for some reason.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935074/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935078"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 18, 2023 22:18 UTC (Sun)
                               by <b>ballombe</b> (subscriber, #9523)
                              [<a href="/Articles/935078/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
There is nothing that prevent BSD OS to run a GPL filesystem driver, really.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935078/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor935081"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 18, 2023 23:35 UTC (Sun)
                               by <b>khim</b> (subscriber, #9252)
                              [<a href="/Articles/935081/">Link</a>] (27 responses)
      </p>
      
      </div>
      </summary>
      <font class="QuotedText">You could always say "just use linux" but it's a pretty useful feature for a filesystem to be portable across OSs.</font>

<p>Yet ZFS was made non-portable on-purpose. It's an open question whether ZFS license <b>actually</b> makes it's impossible to merge it into Linux, but it was designed to make that impossible and Linux developers and users generally respect wishes of ZFS principal authors.</p>

<p>FreeBSD/OpenBSD couldn't even claim that license stops bcachefs from being merged, because it's well-known fact that GPL is fully compatible with BSD license.</p>

<p>And they couldn't claim that they only accept filesystems with non-copyleft licenses, because AFAIK none of ZFS versions are released under non-copyleft licenses.

<p>It's really their own decision whether they want to use it or not.</p>



      
          <div class="CommentReplyButton">
            <form action="/Articles/935081/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935089"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 1:22 UTC (Mon)
                               by <b>developer122</b> (guest, #152928)
                              [<a href="/Articles/935089/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt;Yet ZFS was made non-portable on-purpose. It's an open question whether ZFS license actually makes it's impossible to merge it into Linux, but it was designed to make that impossible and Linux developers and users generally respect wishes of ZFS principal authors.</span><br>
<p>
<span class="QuotedText">&gt;And they couldn't claim that they only accept filesystems with non-copyleft licenses, because AFAIK none of ZFS versions are released under non-copyleft licenses.</span><br>
<p>
<span class="QuotedText">&gt;It's really their own decision whether they want to use it or not.</span><br>
<p>
This again? You realise this decision was made something like 20 years ago, right?<br>
<p>
You might was well get a shovel, because Sun Microsystems has been dead for over a decade. If you have beef with the specific format in which Sun's legal department gave away their entire operating system Free to the world, you better start digging.<br>
<p>
The modern steward of OpenZFS isn't Sun and it isn't Oracle. They're an independent project that forked the codebase.<br>
<p>
ZFS is in fact very portable, currently actively supported by it's principal authors on three (3) OSs, with two (2) more on the way. All facilitated by the CDDL.<br>
<p>
The CDDL is a weak per-file Free Software Copyleft licence, as recognized by the FSF.*<br>
<p>
It fits just fine with BSD etc because the CDDL doesn't impose any restrictions on the other files in a codebase, and neither does the BSD licence. Furthermore, the CDDL doesn't impose restrictions on the licence of the resulting binary that gets distributed. Thus, so long as you aren't trying to merge ZFS into the FreeBSD codebase there's no issue, and TBH that would kinda defeat the spirit of sharing the OpenZFS codebase and it's ongoing new feature development across 4 different operating systems. (OpenSolaris (now illumos) doesn't have any problems because of course it's CDDL too.)<br>
<p>
Unfortunately, while the CDDL doesn't have *any* problems with the GPL (and both licences carry the same spirit), various analysts believe the reverse isn't true due to subtle incompatibilities between the terms. So ZFS is stuck as a non-GPL kernel module. Sorry.<br>
<p>
*<a href="https://www.gnu.org/licenses/license-list.en.html#CDDL">https://www.gnu.org/licenses/license-list.en.html#CDDL</a><br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935089/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935097"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 8:07 UTC (Mon)
                               by <b>ballombe</b> (subscriber, #9523)
                              [<a href="/Articles/935097/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; This again? You realise this decision was made something like 20 years ago, right?</span><br>
<p>
The BSD has used gcc for compiling for 20 years. They are not as hostile to the GPL as you imply.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935097/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935104"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 10:44 UTC (Mon)
                               by <b>khim</b> (subscriber, #9252)
                              [<a href="/Articles/935104/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <p>The BSD folks hate GPL with passion. They used GCC because it was “the only game in town” and switched to Clang when it became usable. Same thing as Apple or Google.</p>

<p>For some reason BSD folks like when their code is used by SONY or other companies who contribute nothing back, but hate it when their code is used in GPLed projects and demand that GPLed projects would allow them to get stuff and give it to other proprietary companies on a silver plate. But it's unclear why <tt>bcachefs </tt> developers have to facilitate that.</p>

<p>And as much as I don't like “freedom fighters” who try to kill proprietary software and hurt end user instead I have even less sympathy for people who try to take free software and turn it proprietary.</p>

<p>Proprietary companies have lots of money and lots of developers. Let them write what they want or need themselves if they don't want to play by rules.</p>


      
          <div class="CommentReplyButton">
            <form action="/Articles/935104/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor935102"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 9:41 UTC (Mon)
                               by <b>paulj</b> (subscriber, #341)
                              [<a href="/Articles/935102/">Link</a>] (23 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Again... having worked in a team where the senior engineer on it was one of the people involved in the internal "which licence should we use?", and having heard some of his perspective on how those discussions went, and piecing that together with things I've read from authoritative sources (Sun people who were actually there, e.g. Phipps):<br>
<p>
1. Sun management wanted GPL. Schwarz was a big fan of the GPL.<br>
<p>
2. A *lot* of the influential Sun engineering were _BSD_ people. They hated the GPL. They wanted OpenSolaris to be _BSD_ licensed. <br>
<p>
3. BSD was never going to work for the business/management/legal side. <br>
<p>
4. So engineering (as represented by a cade of the most senior/influential Solaris engineers) rejected what management wanted (with threats of leaving Sun if Solaris were GPLed); and management rejected what engineering wanted.<br>
<p>
My view, based on the above - which is the closest to the facts of the matter available to me - is that management then chose the CDDL as a sort of  compromise. A copyleft licence (as management wanted), but which was "It's definitely not the GPL!" so as to get it past the BSD-influenced GPL-hatred in engineering. <br>
<p>
Additional factors (which I don't have specific evidence for, and I could not say are facts) may be that legal corporate people tend to view the GPL as problematically worded (IMLE). And also that Sun engineering people perhaps could see the writing on the wall for Sun, and they wanted to 'extract' the Solaris code (which they truly _loved_ and believed was the best Unix) out from Sun and have it available in "open source" form post-Sun, for them to continue to work and build on - and they really wanted it BSD. Given Schwartz and others in management also wanted (at last) to open-source Solaris...<br>
<p>
I can't say it for sure, but my own sense is that it was a faction of Sun *engineering* that basically ensured Solaris ended up with this not-GPL-compatible copyleft licence, thwarting Suns' management, for largely irrational reasons related to long-standing BSD-v-GPL tribalism and dislike of GPL. I think they shot themselves in the foot by doing so. I think OpenSolaris would have been a lot more relevant if engineering had gone "Well, we can't get management to agree to BSD; if it has to be copyleft, GPL compatible is best".<br>
<p>
But hey.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935102/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935103"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 9:49 UTC (Mon)
                               by <b>paulj</b> (subscriber, #341)
                              [<a href="/Articles/935103/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Management then had legal /draught/ a suitable copyleft licence.. bit more than choose. There was fairly wide consultation on this internally with Solaris engineering, cause I remember Fred Zlotnick - acting Director of Solaris Engineering then - visiting and making a point of asking me my opinions about the licence Sun were writing and considering for Solaris. Clearly part of deliberate wide internal consultation, given I was just an ordinary MTS/3 then (though, was known for working on external open-source stuff) - didn't usually talk to directors. ;)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935103/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor935105"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 10:56 UTC (Mon)
                               by <b>khim</b> (subscriber, #9252)
                              [<a href="/Articles/935105/">Link</a>] (21 responses)
      </p>
      
      </div>
      </summary>
      <font class="QuotedText">&gt; I can't say it for sure, but my own sense is that it was a faction of Sun *engineering* that basically ensured Solaris ended up with this not-GPL-compatible copyleft licence, thwarting Suns' management, for largely irrational reasons related to long-standing BSD-v-GPL tribalism and dislike of GPL.</font>

<p>That matches what I know about BSD people. I just wanted to point out that what we are discussing here is nothing more than that same <i>long-standing BSD-v-GPL tribalism and dislike of GPL</i>.</p>

<p>Probably wasn't explicit enough.</p>

<p>Licensing doesn't prevent adoption of <b>bcachefs</b> by BSDs. And if OpenSolaris guys wanted it they could have asked for a special exception (easy to grant given how few people contributed to <b>bcachefs</b> so far).</p>

<p>Instead they demand that <b>bcachefs</b> developers should drop GPL and make it easily available for Apple, SONY, Microsoft or any other proprietary OS to “embrace and extinguish”. Why should they do so?</p>


      
          <div class="CommentReplyButton">
            <form action="/Articles/935105/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935130"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 13:46 UTC (Mon)
                               by <b>Wol</b> (subscriber, #4433)
                              [<a href="/Articles/935130/">Link</a>] (20 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; Instead they demand that bcachefs developers should drop GPL and make it easily available for Apple, SONY, Microsoft or any other proprietary OS to “embrace and extinguish”. Why should they do so?</span><br>
<p>
Because they want to make money off other peoples' work?<br>
<p>
I don't take sides in the GPL/BSD wars (my favourite system, Scarlet, the *practical* difference is bugger-all ...), but it is, as always, down to your definition of "freedom".<br>
<p>
The BSD licence protects the SOFTWARE ENGINEER guys, the GPL protects the END USER guys.<br>
<p>
Cheers,<br>
Wol<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935130/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935190"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 14:55 UTC (Mon)
                               by <b>paulj</b> (subscriber, #341)
                              [<a href="/Articles/935190/">Link</a>] (13 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
My own view, based on my /feelings/ of having been in Sun and - as a GPL guy (was hired for my work on GPL software) - trying to understand why much of Sun engineering had a _deep_ *hatred* of the GPL, and a favourable view of the BSD licence, is that they view it as a freedom thing. <br>
<p>
I could never get a cogent argument as to how the BSD licence protected software freedom better than the GPL. So ultimately, the only cogent argument that *I* can construct (as said GPL guy), in the context of the engineers I knew, is that they want the code they write for an employer to be BSDed so that - if they ever leave, or the company goes under or gets bought  - these engineers have the 'freedom' to continue to use the code they are familiar with at their next employer, regardless of their next employers' attitude to open-sourcing their software.<br>
<p>
My main evidence for this is that the push to open-source Solaris (which needed a) engineering approval, and b) significant engineering led due diligence, and a little bit of code cleanup) only really came about when Sun had sunk into deep trouble, and the future didn't look great.<br>
<p>
As you say, to protect the engineers. Specifically, ability to keep using code they've written for one employer at the next.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935190/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935196"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 16:44 UTC (Mon)
                               by <b>rahulsundaram</b> (subscriber, #21946)
                              [<a href="/Articles/935196/">Link</a>] (12 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt;  As you say, to protect the engineers. Specifically, ability to keep using code they've written for one employer at the next.</span><br>
<p>
Worth noting other projects like Samba have managed to solve this problem by having contributors negotiate an agreement to retain the copyrights as described in <br>
<p>
<a href="https://www.samba.org/samba/devel/copyright-policy.html">https://www.samba.org/samba/devel/copyright-policy.html</a><br>
<p>
Distributing the copyright like this prevents a single entity from unilaterally changing the license and contributors can carry on their work regardless of their commercial employment.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935196/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935206"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 17:20 UTC (Mon)
                               by <b>khim</b> (subscriber, #9252)
                              [<a href="/Articles/935206/">Link</a>] (11 responses)
      </p>
      
      </div>
      </summary>
      <font class="QuotedText">&gt; Worth noting other projects like Samba have managed to solve this problem by having contributors negotiate an agreement to retain the copyrights</font>

<p>This haven't solved the problem at all. Samba is not in the Android phones because of GPLv3 and it's very inconvenient to transfer files from/to Android phone because of that. BSD license would have solved that problem.</p>

<p>And yes, it explains why people who work for some company which is just about ready to “go under” may prefer BSD. But it doesn't explain why they would go as far as to demand that <b>someone else</b> have to go from GPL to BSD for their sake.</p>

<p>It's not their code, what right have they to demand that someone else have to provide it for them even if they want to go work for someone who would close it up and do that classic “embrace, extends, extinguish” trick?</p>

<p>It's one thing to fight for your own code, it's entirely other to demand that <b>someone else</b> have to give their code for your to misappropriate.</p>


      
          <div class="CommentReplyButton">
            <form action="/Articles/935206/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935228"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 19:32 UTC (Mon)
                               by <b>rahulsundaram</b> (subscriber, #21946)
                              [<a href="/Articles/935228/">Link</a>] (10 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt;This haven't solved the problem at all. Samba is not in the Android phones because of GPLv3 and it's very inconvenient to transfer files from/to Android phone because of that. BSD license would have solved that problem.</span><br>
<p>
This is a different issue.  The problem I was responding to, was specifically about engineers ability to continue working on the code regardless of their employer.  Samba developers demonstrably have that in practice.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935228/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935241"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 20:46 UTC (Mon)
                               by <b>khim</b> (subscriber, #9252)
                              [<a href="/Articles/935241/">Link</a>] (8 responses)
      </p>
      
      </div>
      </summary>
      <font class="QuotedText">&gt; Samba developers demonstrably have that in practice.</font>

<p>How can they do that?</p>

<font class="QuotedText">&gt; The problem I was responding to, was specifically about engineers ability to continue working on the code regardless of their employer.</font>

<p>Obviously they want to use it for their work, not just as a hobby. For hobby you don't need much thought about licensing. But for work… you need to clear licensing issues.</p>

<p>And GPL, very often, is rejected by employers thus engineers lose the ability to use their own code if it's released under GPL.</p>

<p>You may argue it's not rational and they should have thought about that when they wrote code for their current employer… but I can understand their reasoning: they have already sunk tons of effort into that code, they want to continue to use it with a new employer when they change workplace… GPL doesn't give that to them.</p>

<p>But that's for their own code. Which <b>they</b> wrote. And want to use in a new place.</p>

<p>GPL gives you the different way of using your own code: not for the new employer, but for yourself, personally — when someone else improves it.</p>

<p>That's <b>also</b> valuable ability and one which some people prefer.</p>

<p>That's why I say that I can understand people who release code under BSD or Apache license (heck, I did that for that exact same reason). But demanding that <b>someone else have to give up their own wishes</b> and put their desires ahed of their own… sorry, guys, that goes beyond what I'm ready to accept.</p>



      
          <div class="CommentReplyButton">
            <form action="/Articles/935241/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935245"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 21:18 UTC (Mon)
                               by <b>rahulsundaram</b> (subscriber, #21946)
                              [<a href="/Articles/935245/">Link</a>] (7 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; How can they do that?</span><br>
<p>
I already explained this.  They do that by retaining copyrights.  Affiliations are listed in <a href="https://www.samba.org/samba/team/">https://www.samba.org/samba/team/</a>.  All these organizations are fine with GPLv3 obviously.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935245/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935318"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 20, 2023 10:01 UTC (Tue)
                               by <b>paulj</b> (subscriber, #341)
                              [<a href="/Articles/935318/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
They /prefer/ contributing developers to retain copyright personally. However that is simply not an option for the vast majority of salaried engineers. Hence why the Samba contribution processes you've pointed to also have a path for corporate owned contributions.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935318/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor935366"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 20, 2023 13:38 UTC (Tue)
                               by <b>khim</b> (subscriber, #9252)
                              [<a href="/Articles/935366/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <font class="QuotedText">&gt; All these organizations are fine with GPLv3 obviously.</font>

<p>Let me see. Facebook. No. Apple. Never. Amazon. Not there. Netflix. Of course not. Google. Obviously no.</p>

<p>Sorry, but that's failure in my book. It puts you into a stark bind: either you avoid most desirable (and most lucrative!) employers or you can use the code you wrote. Otherwise someone else would be able to use and not you.</p>

<p>I can see why these people would hate GPL: it's, quite literally, forces them to choose between their own code and “dream job”.</p>

<p>Not good, not good at all.</p>

<p>Now, for <b>other people</b> who <b>already made that decision</b> and are <b>not</b> interested in joining FAANG-style companies… for <b>these</b> GPL is desirable and trade-offs are fine.</p>


      
          <div class="CommentReplyButton">
            <form action="/Articles/935366/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935373"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 20, 2023 14:17 UTC (Tue)
                               by <b>rahulsundaram</b> (subscriber, #21946)
                              [<a href="/Articles/935373/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; Sorry, but that's failure in my book. </span><br>
<p>
That's fine, do you have any evidence that it is failure in the book of Samba developers?  Because that's the only part that matters to this discussion.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935373/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935407"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 20, 2023 18:38 UTC (Tue)
                               by <b>Cyberax</b> (<b>&#x272D; supporter &#x272D;</b>, #52523)
                              [<a href="/Articles/935407/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; That's fine, do you have any evidence that it is failure in the book of Samba developers?</span><br>
<p>
There's a presentation from one of the Samba developers about how GPLv3 failed to bring better compliance and is not helping at all.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935407/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor935424"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 20, 2023 20:50 UTC (Tue)
                               by <b>khim</b> (subscriber, #9252)
                              [<a href="/Articles/935424/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <font class="QuotedText">&gt; Because that's the only part that matters to this discussion.</font>

<p>Wow. Just… wow. have you already forgotten that it was <b>you</b> who <a href="https://lwn.net/Articles/935190/">joined discussion</a> about <b>Sun engineers</b> and promised some mythical solution to <b>their worries</b>.</p>

<p>And now you turn around and say that what they think is irrelevant and only ones who support FSFs <a href="https://www.gnu.org/philosophy/why-free.html">jihad</a> matter?</p>

<p>I'm starting to understand why people may dislike GPL. Once upon time FSF did a lot help people dealing with their practical issues: GNU software for Solaris and, later, Linux, then CygWin and many such things helped to solve many practical problems.</p>

<p>But with friends like these… who proclaim opinions of other people just don't matter if they refuse to join their <a href="https://www.gnu.org/education/resisting-proprietary-software.html">holy jihad</a>… who needs enemies?</p>

<p>And not everyone is wise enough, like Linus, and can separate GPLv2 (really superb hack on top of copyright system) from people who invented that hack (and then eventually ruined GPL with introduction of GPLv3) and who are, today, more of bane then an asset.</p>




      
          <div class="CommentReplyButton">
            <form action="/Articles/935424/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor935741"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 22, 2023 8:04 UTC (Thu)
                               by <b>nim-nim</b> (subscriber, #34454)
                              [<a href="/Articles/935741/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; Sorry, but that's failure in my book. It puts you into a stark bind: either you avoid most desirable (and most lucrative!) employers or you can use the code you wrote. </span><br>
<p>
Once upon a time listing all the companies that made and sold BSD-based appliances was a who’s who of the industry.<br>
<p>
Once upon a time Java was the future and the whole big data stack was built on Open Source (*not* Free Software) Java bits (Hadoop, etc). Now Python (definitely not Free-Software hostile) stole the big data show.<br>
<p>
All those ecosystems have dramatically shrunk, the companies that remain mostly release Linux and Free-Software based products.<br>
<p>
Open Source (as opposed to Free software) is a dead end that gets repeatedly estinguished by the greed of companies that insist on it. So maybe it pays more short term. Long term it condemns its participants to the anguish of being replaced by something else whose proponents share more with one another.<br>
<p>
The corporations themselves do not care overmuch one way or another. Change of tech, change of techies. The only ones fooling themselves OSS vs Free Software matters for business are those techies. In the end money talks (Google’s awowed distaste for the GPL won’t make it dump Linux in GCP or Android as long as it makes them money; Microsoft has seen the *lucrative* side of cancerous GPLed Linux a long time ago).<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935741/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935914"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 22, 2023 20:05 UTC (Thu)
                               by <b>Cyberax</b> (<b>&#x272D; supporter &#x272D;</b>, #52523)
                              [<a href="/Articles/935914/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; Now Python (definitely not Free-Software hostile) stole the big data show.</span><br>
<p>
Uh... Whut? Python is quite explicitly OpenSource, not Free Software. It has a permissive license, and there's nary a GPL-ed package in sight. All the recent AI work is built on permissively licensed packages.<br>
<p>
<span class="QuotedText">&gt; Open Source (as opposed to Free software) is a dead end that gets repeatedly estinguished by the greed of companies that insist on it. So maybe it pays more short term. </span><br>
<p>
What you're saying is completely false. It's Open Source that wins long-term because it's a superior development model. Proprietary forks (and models like "open core") can exist for a while, but they eventually either become obsolete and die off, or get integrated into the open code.<br>
<p>
This is doubly so when the software gets complicated. You can't really develop a meaningful proprietary fork of Kubernetes, simply because your  "secret sauce" changes will likely be insignificant compared to the overall functionality. And if they are significant, you'll have to keep up with the firehose of new functionality that is released for each new official version.<br>
<p>
And finally, Open Source allows companies to collaborate on non-core functionality. My previous company worked in the solar industry, and we as hell wouldn't release our proprietary simulation algorithms, but we contributed quite a few patches to miscellaneous projects (because why not?).<br>
<p>
To paraphrase an old Soviet joke, the goal of FSF is to make sure that there's no proprietary software, the goal of Open Source is to make all software open sourced.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935914/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
<a name="CommAnchor935315"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 20, 2023 9:56 UTC (Tue)
                               by <b>paulj</b> (subscriber, #341)
                              [<a href="/Articles/935315/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Their new employer might not want to allow GPL code in their products - or at least, strongly discourage incorporating any /further/ GPL code into their products. You can see this with Google and Android, and others.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935315/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
<a name="CommAnchor935203"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 17:10 UTC (Mon)
                               by <b>khim</b> (subscriber, #9252)
                              [<a href="/Articles/935203/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <font class="QuotedText">&gt; The BSD licence protects the SOFTWARE ENGINEER guys, the GPL protects the END USER guys.</font>

<p>Isn't it the other way around? GPL ensures that software engineer may tinker with the code, BSD doesn't have such guarantees. GPL ensures that if someone would use your code they couldn't take it and kick out the actual author using patents, BSD doesn't have such guarantees.</p>

<p>On the other hand GPL makes it inconvenient to use your code which means it may not be available as widely which makes it less convenient for non-developers… and non-developers wouldn't care about source code availability since end users wouldn't know what to do with it, anyway.</p>

<p>I can easily understand people who are using BSD or Apache license to ensure that more people would benefit from their code even if they may lose the ability to use it freely… but to demand that someone else have to do that… that goes beyond hubris.</p>


      
          <div class="CommentReplyButton">
            <form action="/Articles/935203/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935205"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 17:18 UTC (Mon)
                               by <b>Wol</b> (subscriber, #4433)
                              [<a href="/Articles/935205/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I look at it as the Software Engineer can take any BSD code, and doesn't have to worry about pretty much anything.<br>
<p>
It is possible to be in breach of the licence, but it's rather hard ... although AT&amp;T did manage it.<br>
<p>
The GPL on the other hand - if I as an end user decide to use a GPL program, I am entitled to the source code and have the right to maintain it myself. I may not be able to, for all sorts of reasons, but nobody can come up to me and say "you can't do that".<br>
<p>
So software engineers are free to do what matters to them with BSD code (modify it, sell product), end users are free to do what matters to them with GPL code (run it, fix problems).<br>
<p>
(And if, as an END USER, you only use Open Source code, then you don't notice any practical difference between the two.)<br>
<p>
Cheers,<br>
Wol<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935205/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935211"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 17:31 UTC (Mon)
                               by <b>khim</b> (subscriber, #9252)
                              [<a href="/Articles/935211/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <p>I think we have wildly different ideas about who “end users” are.</p>

<p>In today's world if you can fix your program you are an engineer, not end user.</p>

<p>The majority of end users don't have skills needed to fix anything.</p>

<p>So you are talking about engineers in both cases. Just BSD protects engineer from their own management and GPL protects engineer from management of other companies.</p>

<p>Frankly, I'm not sure I like BSD <b>at all</b> after that explanation.</p>

<p>Sometimes engineers are forced to work for companies known by their toxic culture, but the proper solution in that case is to leave them when possible, not trick them into adopting BSD to salvage that piece of code you worked on.</p>

<p>And while the desire to use BSD to salvage <b>your own code</b> may be justified, but to demand that others would give up their code for you to misappropriate just because you dislike that GPL puts you in the conflict with managers just makes no sense at all.</p>

<p>It's <b>their</b> code, what right do you have to demand that they would surrender it to your managers (and unreasonable, FOSS-hostile managers at that) just to make your life a tiny bit easier?</p>



      
          <div class="CommentReplyButton">
            <form action="/Articles/935211/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935250"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 22:08 UTC (Mon)
                               by <b>Wol</b> (subscriber, #4433)
                              [<a href="/Articles/935250/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; In today's world if you can fix your program you are an engineer, not end user.</span><br>
<p>
They're not exclusive. True, PEOPLE end users are rarely engineers, but company end users can employ engineers. And it's difficult to be an engineer without being an end user too. You personally, do you work on all the software you use? I doubt it. For MOST of the software you use, you are an END USER. How many people USE gcc? How many people HACK on gcc? If you use but don't hack, you are an END USER.<br>
<p>
<span class="QuotedText">&gt; The majority of end users don't have skills needed to fix anything.</span><br>
<p>
But that's not what the GPL is about. They have the RIGHT to fix it, they have the SOURCE to fix it, and they have the TOOLS to fix it. The fact that they don't personally have a clue HOW to fix it is their problem, and it is IN THEIR POWER to solve.<br>
<p>
Whereas the thing with BSD is that, if you spot a nifty hack in someone else's code, you can just lift and use it without worrying. Both licences have their place. They target different problems, and provide different solutions. BSD is especially good for sample code or code in standards documents.<br>
<p>
The problem with the FSF and the GPL is that some software costs a lot of money to maintain, with legal issues etc etc. If you insist on GPL, this sort of software will never get written. That's why I have a problem with the FSF - they think I should not have the freedom to buy a commercial product!<br>
<p>
Personally, I'd like to see a license that's a sort of half-way house along the lines of "if you use my code in your product, you have to provide your customer with your source and build system". Give customers the GPL freedoms to study the source and fix their own problems, but still protect the supplier's source code as trade secret or whatever. The freedom to share may be nice, but freedoms often conflict. And if you IMPOSE YOUR CHOICE of freedoms on me, you are making me your slave! Americans seem to have difficulty grasping the fact that other people value different freedoms than they do. Even Sun engineers prefering BSD! and refusing to allow other people to choose GPL!<br>
<p>
Cheers,<br>
Wol<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935250/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935439"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 20, 2023 22:34 UTC (Tue)
                               by <b>khim</b> (subscriber, #9252)
                              [<a href="/Articles/935439/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <font class="QuotedText">&gt; If you use but don't hack, you are an END USER.</font>

<p>Yes, and I'm <b>acting</b> like end user, too.</p>

<font class="QuotedText">&gt; You personally, do you work on all the software you use?</font>

<p>No, but all the software that I'm just using is a black box to me. Modern software is just too complex to try to change it.</p>

<p>In theory I can get source for gcc or rust compiler or rust analyzer and change something there. In practice it's just too time consuming to contemplate.</p>

<p>In an era where most software was <b>simple</b> and had <b>lots of bugs</b> changing something into it made sense.</p>

<p>But then… “<a href="https://www.dreamsongs.com/WorseIsBetter.html">Worse Is Better</a>” won.</p>

<p>As Tony Hoare <a href="https://wiki.haskell.org/Hoare_Property">once wrote</a>: <i>There are two ways to write code: write code so simple there are obviously no bugs in it, or write code so complex that there are no obvious bugs in it.</i></p>

<p>And today's software have no obvious bugs in it and as a result it's so incredibly complex that fixing remaining non-obvious bugs quickly becomes full-time job.</p>

<font class="QuotedText">&gt; They have the RIGHT to fix it, they have the SOURCE to fix it, and they have the TOOLS to fix it.</font>

<p>And all that doesn't matter because they <b>don't want</b> to fix it. Including me, for aforementioned reasons. That's why GPL is much less valuable for me today… even if I can understand people who are using it.</p>

<font class="QuotedText">&gt; Americans seem to have difficulty grasping the fact that other people value different freedoms than they do. Even Sun engineers prefering BSD! and refusing to allow other people to choose GPL!</font>

<p>Yup. That's the country where congressman say, literally, <a href="https://twitter.com/i/web/status/1670484052237770752">the following</a>: <i>If China behaves as aggressively as Russia, then we will deprive them of their main trading partner in the face of the EU. Europe will impose crushing sanctions</i>. Note that no one plans to deprive US of anything and they plan to make <b>someone else</b> to do the work for them.</p>

<p>How is that any different from Sun engineer's position?</p>



      
          <div class="CommentReplyButton">
            <form action="/Articles/935439/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor936618"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2023 6:16 UTC (Wed)
                               by <b>timofonic</b> (guest, #165836)
                              [<a href="/Articles/936618/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Why so much offtopic? Sincerely. I would prefer more direct discussion about Bcachefs. Despite the nice threading, it's noisy and a wasted effort.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/936618/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
</details>
</details>
</details>
</details>
</details>
</details>
<a name="CommAnchor935113"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 12:37 UTC (Mon)
                               by <b>rahulsundaram</b> (subscriber, #21946)
                              [<a href="/Articles/935113/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt;  Hard to call it "GPL hostile" when any work from BSD etc can get stolen by linux but never contributed back.</span><br>
<span class="QuotedText">&gt;  If you want to be rude like that.</span><br>
<p>
Let's stick to facts even if one wants to be rude. Nothing has been "stolen" by anyone because no free and open source license requires anyone to contribute anything back, especially permissive BSD licenses.  The strong copyleft licenses can only mandate the changes be made public under the same license.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935113/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935370"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 20, 2023 14:00 UTC (Tue)
                               by <b>Baughn</b> (subscriber, #124425)
                              [<a href="/Articles/935370/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The whole point of BSD / MIT licenses is, you're saying you're okay with people taking your stuff and giving nothing back. If you don't want that to happen, put it in the license! Which, um, that's what the GPL license *does*.<br>
<p>
I simply don't understand people who license their work BSD, and then go "No, we meant for you to act as though it's GPL!"<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935370/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor935091"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 1:30 UTC (Mon)
                               by <b>developer122</b> (guest, #152928)
                              [<a href="/Articles/935091/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I really don't think it's that unreasonable to want to be able to detach a hard drive from one computer and be able to attach it to another. Portability of filesystems, especially good ones, across different OSs is really helpful.<br>
<p>
Yes, saying "welp, sucks to be them" is an option, but I like to believe we're adults here and can at least discuss the possibility. The GPL-supremacy and Sun/Oracle-Hate fuelled comments above are very disappointing.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935091/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935092"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 2:22 UTC (Mon)
                               by <b>mjg59</b> (subscriber, #23239)
                              [<a href="/Articles/935092/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Oracle, the company that attempted to assert that reimplementation of APIs was copyright infringement? I think it's pretty legitimate for the free software community to have negative feelings towards Oracle.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935092/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor935115"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 19, 2023 13:01 UTC (Mon)
                               by <b>rahulsundaram</b> (subscriber, #21946)
                              [<a href="/Articles/935115/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<span class="QuotedText">&gt; Portability of filesystems, especially good ones, across different OSs is really helpful.</span><br>
<p>
GPL license doesn't prevent portability and nothing is stopping any BSD based system from making it available for their OS.  Many of them ship with Linux compatibility layers to aid with this. <br>
<p>
<span class="QuotedText">&gt;  The GPL-supremacy and Sun/Oracle-Hate fuelled comments above are very disappointing.</span><br>
<p>
Many BSD proponents won't even accept that GPL and AGPL are free and open source licenses and insist that only permissive licenses are truly free, so this goes both ways.  Sun and Oracle aren't the same thing in this context.  The licensing decisions for OpenSolaris were exclusively done by Sun (and several Sun people readily acknowledge that the engineers there were GPL hostile). However independent of all of this, Oracle's history towards other open source projects (Java lawsuit, silently canceling OpenSolaris, Hudson governance etc) has enough there to explain the hostility. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935115/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor935312"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 20, 2023 9:23 UTC (Tue)
                               by <b>paulj</b> (subscriber, #341)
                              [<a href="/Articles/935312/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Not sure if there's much Sun hatred. FWIW, I loved working at Sun, it was a great great company.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935312/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor935029"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 18, 2023 1:45 UTC (Sun)
                               by <b>developer122</b> (guest, #152928)
                              [<a href="/Articles/935029/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
What is bcachefs' handling of metadata corruption like? There's plenty of mention of data checksumming and erasure coding for repair, but what about online detection and repair of corruption/issues with the filesystem's datastructures and book-keeping?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935029/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935052"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 18, 2023 16:09 UTC (Sun)
                               by <b>koverstreet</b> (subscriber, #4296)
                              [<a href="/Articles/935052/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
We don't yet have online fsck like xfs is getting soon, but we'll detect issues at runtime and by default go emergency read only, like other filesystems.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935052/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935071"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 18, 2023 20:37 UTC (Sun)
                               by <b>developer122</b> (guest, #152928)
                              [<a href="/Articles/935071/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Is the metatata protected by checksums or other integrity checks?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935071/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935072"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 18, 2023 20:39 UTC (Sun)
                               by <b>developer122</b> (guest, #152928)
                              [<a href="/Articles/935072/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Side note: I think ZFS solves this problem by checksumming their metadata structures and always maintaining at least one duplicate of every table/list/node/etc structure?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935072/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor936616"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2023 0:31 UTC (Wed)
                               by <b>timofonic</b> (guest, #165836)
                              [<a href="/Articles/936616/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Any plans for it? What's the priority for that feature? How difficult is to implement it and make it ready to use?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/936616/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor935038"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Encryption </h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 18, 2023 9:24 UTC (Sun)
                               by <b>GhePeU</b> (subscriber, #56133)
                              [<a href="/Articles/935038/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I am curious about the state of filesystem encryption, the website mentions that bcachefs supports only whole filesystem encryption but suggests not relying on it because it has not been externally audited, is it still true?<br>
<p>
From a rapid check it also seems that the design and implementation of encryption predates the introduction of snapshots and subvolumes, is there any plan to add subvolume-level encryption? That would be an useful feature.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935038/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor935051"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Encryption </h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 18, 2023 16:08 UTC (Sun)
                               by <b>koverstreet</b> (subscriber, #4296)
                              [<a href="/Articles/935051/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It's been pretty well audited, I need to update the website.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/935051/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor936617"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Encryption </h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 28, 2023 0:31 UTC (Wed)
                               by <b>timofonic</b> (guest, #165836)
                              [<a href="/Articles/936617/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Are there a bcachefs blog?<br>
<p>
Maybe you need a documentation maintainer too. You must be quite busy with coding and management already.<br>
<p>
Just my humble opinion.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/936617/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
<a name="CommAnchor936773"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jun 29, 2023 10:15 UTC (Thu)
                               by <b>dxin</b> (guest, #136611)
                              [<a href="/Articles/936773/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I hope android could someday support bcachefs. Right now there's a big performance gap between internal emmc/ufs and external micro-sd card. <br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/936773/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor937060"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Merging bcachefs</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Jul 1, 2023 11:38 UTC (Sat)
                               by <b>georgh-cat</b> (guest, #158897)
                              [<a href="/Articles/937060/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I'm glad to see progress on this filesystem, it looks it might even get better than ZFS eventually, as it's a much modern design that learns and improves from all previous COW filesystems.<br>
<p>
But it will take a while until the userspace is as friendly as ZFS's, and also getting feature parity.<br>
<p>
I've been using ZFS at home since 2008, and it's saved me from silent corruption when I had a problem in one of the disks' connector. The system never crashed or panicked, it's been extremely stable.<br>
<p>
There's a fantastic project, znapzend, which provides an easy way to automate snapshot creation and deletion as well as sending to a backup system. And all the configuration lives directly within the ZFS pool. Would something like that be possible with bcachefs?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/937060/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2023, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
