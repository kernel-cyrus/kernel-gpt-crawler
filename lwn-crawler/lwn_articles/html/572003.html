        <!DOCTYPE html>
        <html lang="en">
        <head><title>The kernel maintainer gap [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/572003/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/571556/">Return to the Front page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/572003/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>The kernel maintainer gap</h1>
</div>
<div class="ArticleText">
<blockquote class="ad">
<b>We're bad at marketing</b>
<p>
We can admit it, marketing is not our strong suit. Our strength is
writing the kind of articles that developers, administrators, and
free-software supporters depend on to know what is going on in the
Linux world. Please <a href="/Promo/nsn-bad/subscribe">subscribe today</a> to help us keep doing that, and so
we don’t have to get good at marketing.
</blockquote>
<div class="FeatureByline">
           By <b>Jake Edge</b><br>October 30, 2013</br>
           <hr>
<a href="https://lwn.net/Archives/ConferenceByYear/#2013-Embedded_Linux_Conference_Europe">ELC Europe</a>
</div>
<p>
Wolfram Sang is worried that the number of kernel maintainers is not
scaling with the number of patches flowing into the mainline.  He has
collected some statistics to quantify the problem and he reported those
findings at the 2013 <a
href="http://events.linuxfoundation.org/events/embedded-linux-conference-europe">Embedded
Linux Conference Europe</a>.   There is not an imminent collapse in the
cards, according to his data, but he does show that the problem is already
present and he forecasts that it will only get worse.
</p>

<a href="/Articles/572040/">
<img src="https://static.lwn.net/images/2013/elce-sang-sm.jpg" border=0 hspace=5 width=125
height=150 alt="[Wolfram Sang]" align="left">
</a>

<p>
Sang's <a
href="http://events.linuxfoundation.org/sites/events/files/slides/ELCE2013_WolframSang_WeHaveAScalingProblem.pdf">slides
[PDF]</a> had numerous graphs (some of which are reproduced here). The
first simply showed the number of patches that went into each kernel from
3.0 to 3.10.  As one would guess, the trend is an increase in the number of
patches.  Companies are working more with the upstream kernel than they
have in the past, he said, which is great, but leads to more patches.
</p>

<p>
There are also, unsurprisingly, more contributors.  Using the tags in Git
commits, Sang counted the number of authors and contrasted that with the
number of "reviewers" (using the "Committer" tag) in his second graph.
Over the 3.0–3.10 period, the number of authors rose by around 200, which
is, coincidentally, roughly the (largely static) number of reviewers. That
means that the gap between authors and reviewers is getting larger over
time, which is a basic outline of the scaling problem, he said.  If we want
to maintain Linux with the quality we have come to expect, it is a problem
we need to pay attention to.
</p>

<p>
His statistics are based on accepted patches and don't include superseded
patches or bogus patches that might require a lengthy explanation to the
author.  There is also a fair amount of education that maintainers often do
for new developers.  All of that takes additional time beyond what
a raw number patches will show, he said.  While his graphs start at 3.0, he
does not want to give the impression that the maintainer workload was in a
good state at that time, "it was challenging already" and it is getting worse. 
</p>

<p>
Trond Myklebust gave the best <a href="http://lists.linux-foundation.org/pipermail/ksummit-2012-discuss/2012-June/000066.html">definition of a maintainer</a> that Sang 
knows of.  According to that definition, the job is made of five separate
roles: software 
architect, software developer, patch reviewer, patch committer, and
software maintainer.  It is not easy to rip out any of those tasks to
distribute them to other people. The "number one rule is to get more
maintainers who like to do all of these jobs at once".  
</p>

<a href="/Articles/572041/">
<img src="https://static.lwn.net/images/2013/elce-people-stats-sm.png" border=0 hspace=5
width=300 
height=225 alt="[Authors vs. others graph]" align="right">
</a>

<p>
The right maintainer will enjoy all of those jobs, which makes good candidates
fairly
rare.  Sang suggested that developers remember that maintainers have all
those roles when interacting with them.  He doesn't mean that developers
should  obey maintainers all
the time, he said, but they should keep in mind that the maintainer may be
wearing their 
architect hat so they may be looking beyond the direct problem the
developer is trying to solve.
</p>

<p>
The "Reviewed-By" and "Tested-By" tags are quite helpful to him as a maintainer
because they indicate that the patch is useful to others beyond just its
author.  That led him to look at the stats for those tags.  He plotted the
number of reviewers and testers who were not also committers to try to
gauge that pool.  That graph appears above at right, and shows that there
are around 200 reviewers and 200 testers for each kernel cycle as well.
The trend is much like that of maintainers, so there is still an increasing
gap.  The reviewers and testers "are doing great work", but more of them
are needed as well.
</p>

<p>
Using a diagram of the different pieces in a typical ARM system on chip
(SoC), Sang showed that there are many different subsystems that go into a
kernel for a particular SoC.  He wanted to look at those subsystems to see
how well they are functioning in terms of how quickly patches are being
merged.  He also wanted to compare the i2c subsystem that he maintains to
see how it measured up.
</p>

<a href="/Articles/572042/">
<img src="https://static.lwn.net/images/2013/elce-latency-all-sm.png" border=0 hspace=5
width=300 
height=225 alt="[Subsystem latency graph]" align="right">
</a>

<p>
Using the "AuthorDate" and "CommitDate" tags on patches from 3.0 to 3.10, he
measured the latency of patches for several different subsystems (the
combined graph is shown at right).  That metric can be inaccurate as
a true measure of latency if there are a lot of merge commits (as the
CommitDate may not reflect when the maintainer added the patch), but that
was not really a problem for the subsystems he looked at, he said.

<p>
He started with the
<tt>drivers/net/ethernet</tt> subsystem, which had some 5000 patches over the
kernel releases measured.  It has a fairly low latency, with 85% of the
patches being merged within 28 days.  This is what developers want, he
said, a prompt response to their patches.  In fact, 70% of patches were
merged within one week for that subsystem.
</p>

<p>
Looking at the <tt>mtd</tt> subsystem shows a different story.  Sang was
careful to point out that he was not "bashing" any subsystem or maintainer
as they all do "great work" and do what they can to maintain their trees.
After 28 days, <tt>mtd</tt> had merged just over 50% of its patches.  Those
might be more complicated patches so they take more review time, he said.
That is difficult to measure.  After one three-month kernel cycle, about
80% of the patches were merged.
</p>

<p>
Someone from the audience spoke up to say that many of the network driver
patches get merged without much review because there is no dedicated
maintainer. That makes the latency lower, but things get merged with lots
of bugs.  Sang said that is one way to deal with a lack of reviewers: if
the network driver patch looks "halfway reasonable" and no one complains,
it will often just be merged.  If anyone is unhappy with that state of
affairs, they should volunteer to help, another audience member suggested.
Sang agreed, and said that taking on the maintenance of a single driver is
a good way to learn.
</p>

<p>
His subsystem is somewhere in between <tt>net/ethernet</tt> and
<tt>mtd</tt>.  That is "not bad", he said, for someone doing the
maintenance in their spare time.  But for a vendor trying to get SoC
support upstream, it may not be quick enough.
</p>

<p>
The dream, he said, would be for all subsystems to be more like the
Ethernet drivers without accepting junk patches.  His belief is that over
time the latency in most subsystems is getting worse.  In fact, his
"weather forecast" is that we will see more and more problems over time,
either with increased latency or questionable patches going into the trees.
</p>

<p>
So, what can be done to help out maintainers?  For users, by which he means
people who are building kernels for customers, not developers, necessarily,
or regular users, he recommends giving more feedback to subsystem
maintainers. Commenting on patches, testing them, and describing any
problems found will help.  Add a Tested-By tag if you have done
that, as well. If there is no reaction to a patch on the mailing list and
seemingly no interest, it makes his job of deciding whether the
patch is worthwhile difficult.  If you are using a patch that hasn't been merged,
consider resending it, but check to see if there are open issues from when
the patch was posted.  Sometimes there are simple style changes needed that
can be easily fixed.
</p>

<p>
For developers, he recommends trying to get the patch right the first time
and thus reducing the number of superseded patches.  Not knowing the subsystem and
making mistakes that way is reasonable, but sloppy patches are not.  In
addition, if you know a patch is a suboptimal solution to the problem, be
honest about it.  Don't try to sell him something that you know is bad.
Sometimes a lesser solution is good enough, but a straight explanation
should accompany it.
</p>

<p>
He also recommends that developers take part in the patch QA process by
reviewing other patches.  In fact, he said, you should also review your own
patches as if they came from someone else—it is surprising what can be
found that way.  Taking part in the mailing list discussions, especially
those that are about the architecture of the subsystem, is important as
well.  It is difficult to determine which way to go, at times, without
people stating their opinions.
</p>

<p>
Maintainers should not necessarily work harder, Sang said, as most are
working hard already.  It is important to watch out for burnout as no one
wins if that happens.  SoC vendors are "constantly pressing the
fast-forward button" by releasing hardware faster and faster, so you may reach a
point where you simply can't keep up.  That may be time to look for a
co-maintainer. 
</p>

<p>
Having the right tools is an important part of being a maintainer.  There
is no "ready-made toolbox" that is handed out to new maintainers, but if
you talk to other maintainers, they may have useful tools.  Keyboard
shortcuts, Git hooks for doing auto-testing, tools to handle and send out
email, and so on are all time savers. "Pay attention to the boring and
repetitive tasks" and try to automate them.
</p>

<p>
Organizations like the Linux Foundation (LF), Linaro, SoC makers, and others
have a role to play as well.  If they already have developers, it is
important to allow those developers to review patches and otherwise
participate in kernel QA.  That will improve the developers' skills, which
will help the organization, and it will improve the kernel too.
</p>

<p>
It is important to educate new kernel developers internally about the
basics of kernel submissions. He is much more lenient with someone who he
knows is working on his own than he is with those working at companies
where there are multiple folks who already know about submitting patches
and could have passed the knowledge on.
</p>

<p>
Increasing the number of maintainers would help as well.  It might be
easier for people to take on maintainer responsibilities if it were part or
all of their job to do so.  Sang believes that being a maintainer should
ideally be a full-time paid position, but that is often not the case.  He
does it on his own time, as do others, and some do it as part, but usually not
all, of their job.  A neutral party like the LF might be desirable as the
employer of (more) maintainers, but other organizations or companies could
also help out.  In his mind, it is the single most important step that
could be taken to improve the kernel maintainer situation. 
</p>

<p>
He went back to the SoC diagram he showed early on, but this time colored
the different subsystems based on whether the maintainer was being paid to do
that work.  Red meant that the maintainer was doing it in their spare time,
and there were quite a few subsystems in that state.  That is somewhat risky for
SoC vendors trying to get their code upstream.  Ideally, most or all of the
diagram would be green (maintainer paid to do it) or yellow (part of the
maintenance time is paid for).  Sang ended by saying that having full-time
maintainers was really something whose time had come and he is optimistic
that more of that will be happening soon.
</p>

<p>
</p>

<p>
</p>

<p>
</p>

<p>
</p>

<p>
</p>

<p>
</p>

<p>
</p>


<p>
[I would like to thank the Linux Foundation for travel assistance to
 Edinburgh for the Embedded Linux Conference Europe.]<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Development_model-Maintainers">Development model/Maintainers</a></td></tr>
            <tr><td><a href="/Archives/ConferenceIndex/">Conference</a></td><td><a href="/Archives/ConferenceIndex/#Embedded_Linux_Conference_Europe-2013">Embedded Linux Conference Europe/2013</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/572003/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor572445"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Methodology</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Oct 31, 2013 3:39 UTC (Thu)
                               by <b>bnorris</b> (subscriber, #92090)
                              [<a href="/Articles/572445/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Wolfram's data is skewed by those subsystems which make heavy use of rebasing, as this changes the CommitDate. For instance, I have first-hand knowledge of the MTD subsystem (called out by Wolfram), where a submaintainer typically queues up mostly-good patches in an initial git tree. The head maintainer typically passes over this set of commits and fixes anything up that needs it, which includes a rebase for adding his sign-off. (Essentially, MTD treats the initial git tree like patchwork.)<br>
<p>
So effectively, most MTD commits have commit dates that are within a week or two of the merge window. Now, suppose MTD has a uniformly-random distribution of patch authorship dates which are committed after a fixed latency, then are all rebased at a given time within the 3 month release cycle. Then this resetting of the CommitDates would add on average an extra 45 days of latency to the measurement, which would account for much of the difference between MTD and the other systems (assuming the other subsystems' CommitDates reflect the true acceptance date).<br>
<p>
Now, there is likely some part of the theory above that doesn't match reality. And I'd be the first to admit that MTD often does have periods of unfortunately high latency.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/572445/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor572768"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Methodology</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 4, 2013 17:45 UTC (Mon)
                               by <b>BenHutchings</b> (subscriber, #37955)
                              [<a href="/Articles/572768/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
There are also cases where the subsystem maintainer is pulling rather than applying patches from the mailing list.  Then, the measured latency reflects delays in the submitter's organisation.  As an extreme example, the changes to the sfc network driver that went into 3.12 will have a measured latency of up to 11 months (developed against simulated hardware but needed testing against the real thing before submission) whereas the real latency of netdev and David Miller is usually under a week.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/572768/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2013, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
