        <!DOCTYPE html>
        <html lang="en">
        <head><title>The sad story of the em28xx driver [LWN.net]</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="robots" CONTENT="noai, noimageai">
        <link rel="icon" href="https://static.lwn.net/images/favicon.png"
              type="image/png">
        <link rel="alternate" type="application/rss+xml" title="LWN.net headlines" href="https://lwn.net/headlines/rss">
<link rel="alternate" type="application/rss+xml" title="Comments posted to this article" href="https://lwn.net/headlines/306601/">
        <link rel="stylesheet" href="/CSS/lwn">
<link rel="stylesheet" href="/CSS/nosub">

        
<script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>
<script type="text/javascript">
var ados_keywords = ados_keywords || [];
if( location.protocol=='https:' ) {
        ados_keywords.push('T:SSL');
} else {
        ados_keywords.push('T:HTTP');
}

var ados = ados || {};
ados.run = ados.run || [];
ados.run.push(function() {

ados_add_placement(4669, 20979, "azk13321_leaderboard", 4).setZone(16026);

ados_add_placement(4669, 20979, "azk93271_right_zone", [5,10,6]).setZone(16027);

ados_add_placement(4669, 20979, "azk31017_tracking", 20).setZone(20995);



ados_setKeywords(ados_keywords.join(', ')); 
ados_load();
});</script>

        </head>
        <body>
        <a name="t"></a>
<div id="menu"><a href="/"><img src="https://static.lwn.net/images/logo/barepenguin-70.png" class="logo"
                 border="0" alt="LWN.net Logo">
           <span class="logo">LWN<br>.net</span>
           <span class="logobl">News from the source</span></a>
           <a href="/"><img src="https://static.lwn.net/images/lcorner-ss.png" class="sslogo"
                 border="0" alt="LWN"></a><div class="navmenu-container">
           <ul class="navmenu">
        <li><a class="navmenu" href="#t"><b>Content</b></a><ul><li><a href="/current/">Weekly Edition</a></li><li><a href="/Archives/">Archives</a></li><li><a href="/Search/">Search</a></li><li><a href="/Kernel/">Kernel</a></li><li><a href="/Security/">Security</a></li><li><a href="/Calendar/">Events calendar</a></li><li><a href="/Comments/unread">Unread comments</a></li><li><hr></li><li><a href="/op/FAQ.lwn">LWN FAQ</a></li><li><a href="/op/AuthorGuide.lwn">Write for us</a></li></ul></li>
<li><a class="navmenu" href="#t"><b>Edition</b></a><ul><li><a href="/Articles/306169/">Return to the Kernel page</a></li></ul></li>
</ul></div>
</div> <!-- menu -->
<div class="not-handset"
            	     style="margin-left: 10.5em; display: block;">
                   <div class="not-print"> <div id="azk13321_leaderboard"></div> </div>
                </div>
            <div class="topnav-container">
<div class="not-handset"><form action="https://lwn.net/Login/" method="post" name="loginform"
                 class="loginform">
        <label><b>User:</b> <input type="text" name="uname" value="" size="8" id="uc" /></label> 
		<label><b>Password:</b> <input type="password" name="pword" size="8" id="pc" /></label> <input type="hidden" name="target" value="/Articles/306601/" /> <input type="submit" name="submit" value="Log in" /></form> |
           <form action="https://lwn.net/subscribe/" method="post" class="loginform">
           <input type="submit" name="submit" value="Subscribe" />
           </form> |
           <form action="https://lwn.net/Login/newaccount" method="post" class="loginform">
           <input type="submit" name="submit" value="Register" />
           </form>
        </div>
               <div class="handset-only">
               <a href="/subscribe/"><b>Subscribe</b></a> /
               <a href="/Login/"><b>Log in</b></a> /
               <a href="/Login/newaccount"><b>New account</b></a>
               </div>
               </div><div class="maincolumn flexcol">
<div class="middlecolumn">
<div class="PageHeadline">
<h1>The sad story of the em28xx driver</h1>
</div>
<div class="ArticleText">
<div class="FeatureByline">
           By <b>Jonathan Corbet</b><br>November 11, 2008</br>
           </div>
Over the last year or two, the kernel development process has been changed
in a deliberate attempt to make the addition of new drivers easier.  It has
become clear that out-of-tree drivers often do not get any better until
they are merged; meanwhile, users want those drivers and distributors are
shipping them.  So it would seem that everybody's interests are served by
getting those drivers into the mainline tree.  Experience with drivers
merged under this policy has generally been positive; once those drivers
head for the mainline, they get more attention and tend to improve
quickly.
<p>

Given that, one might well wonder why Markus Rechberger's recently
submitted "empia" driver series is encountering so much resistance.  This
driver works with a number of video acquisition devices based on Empia
chips; many of those are not supported by the kernel now.  As an Empia
Technology employee, Markus has access to the relevant data sheets and is,
thus, well placed to write a fully-functional driver.  There are users who
will attest that the drivers work, and that Markus provides good support
for them.  But, as things stand now, it would appear that this driver is
not headed for the mainline.

<p>
What we have here is a classic story of an impedance mismatch between a
developer and the development community.  In the process, this long story
has helped to give the Video4Linux development community a bit of a
reputation as a dysfunctional family - a perception which
those developers are only now beginning to overcome.  The sad truth would seem
to be that, while working with the community is something that a couple
thousand developers do with little trouble every year, there will always be
a few who have difficulties.
<p>
A quick review of some of the history is in order here.
Markus was one of the authors of the original em28xx driver, first merged
for the 2.6.15 kernel.  His efforts to enhance that driver quickly ran into
trouble, though, when he tried to make substantial changes to the low-level
tuner interface - changes which affected a number of other drivers.  These
changes were not popular in the Video4Linux community, and there were fears
that they could break unrelated drivers.  So this code was not merged.
<p><blockquote class="ad">
<b><tt>$ sudo subscribe today</tt></b>
<p>
Subscribe today and elevate your LWN privileges. You’ll have
access to all of LWN’s high-quality articles as soon as they’re
published, and help support LWN in the process.  <a href="https://lwn.net/Promo/nst-sudo/claim">Act now</a> and you can start with a free trial subscription.
</blockquote>
<p>
In response to this rejection, Markus <a href="/Articles/306603/">claimed
ownership of the em28xx driver</a> and asked that it be removed from the
mainline kernel.  He then continued development of the code, hosting it on
<a href="http://mcentral.de/wiki/index.php5/Main_Page">his own server</a>.
There was even a period where the code was relicensed to the MPL, apparently as
part of <a href="/Articles/306604/">an attempt to prevent it from being
taken into the mainline</a>.  


Eventually, Markus came back with <a
href="http://lwn.net/Articles/245527/">a new approach</a> which moved much
of the tuner code into user space.  That solution, too, failed to pass
review; nobody else could really see much advantage in moving that much
driver code out of the kernel.  The fact that Markus clearly intended to
have some of that code appear in the form of binary-only blobs did not help
his case.  So the user-space approach, like its predecessor, was not
merged.

<p>
While Markus was working on his own version of the code, others were
putting patches into the mainline em28xx driver.  At times, Markus tried to
block those changes.  The tone of the discussion is, perhaps, best seen
from <a href="/Articles/306605/">this note</a> sent to Video4Linux
maintainer Mauro Carvalho Chehab:
<p>
<div class="BigQuote">
	Best would be to replace you as a maintainer since you don't have
	any respect of others work either.  Companies should be aware that
	if they try to submit any code to you they will loose the authority
	over _their_ work.
</div>
<p>
Of course, losing "authority" over code is inherent in releasing that code
under a license like the GPL.  This attempt to exercise control over
freely-licensed code was <a href="/Articles/306606/">slapped down</a> by
Andrew Morton and others, but it left unpleasant memories behind.
<p>
Now Markus is back with a driver that, to all appearances, duplicates the
functionality of a driver which is already in the mainline kernel.  It is
not hard to see this submission as an attempt to retake control of that
driver and, perhaps, restart the discussions from past years.  So it is not
entirely surprising that this driver has not been received with a great
deal of enthusiasm.  In short, Markus has been told to go away until he is
prepared to submit his work in the form of a series of small patches to the
in-tree em28xx driver.
<p>

The advantages of improving the current driver, rather than duplicating
some of its functionality 
in a new code base, are clear.  It would avoid the confusion which can
come from having two drivers for the same hardware in the tree, and it
would minimize the risk of losing important fixes which have been applied
to the in-tree code.  This is, also, the way that kernel developers are
normally expected to do their work.
On the other hand, video developer Hans Verkuil <a
href="/Articles/306621/">reviewed the new driver</a> and concluded:
<p>
<div class="BigQuote">
	In my opinion it's pretty much hopeless trying to convert the
	current em28xx driver into what you have. It's a huge amount of
	work that no one wants to do and (in this case) with very little
	benefit.
</div>
<p>
This review notwithstanding, Mauro has <a
href="/Articles/306687/">indicated</a> that he is not interested in
accepting this patch.  
But rejecting Markus's new driver out of hand might just be a mistake.  There
seems to be little doubt that it has developed well beyond the in-tree
driver; it supports a wider range of devices.  Failure to merge it risks
losing the work that has been done, and, perhaps, losing the future work of
a developer who, for all his faults, is clearly trying to provide a better
experience for Video4Linux users.
<p>
Having multiple drivers for the same hardware in the kernel is not an ideal
situation, but it is also not without precedent.
The IDE and parallel ATA subsystems provide
redundant support for a wide range of hardware.  The e1000 and e1000e
drivers had overlapping coverage for some time.  In such cases, the
long-term goal is usually to work toward the removal of one of the
drivers.
<p>
So one could make the case for merging the new driver and, eventually,
removing the older one.  In the process, the new driver could receive some
much-needed attention from other developers.  It has coding style and
copyright attribution problems; a quick review has also left your editor
wondering about locking issues.  But such problems are common to drivers
which have spent a lot of time out of tree; they are simply something to
fix.  Meanwhile, this driver contains the result of years of work and
access to the relevant data sheets; freezing it out may not be in the best
interests of kernel developers or users.<br clear="all"><table class="IndexEntries">
           <tr><th colspan=2>Index entries for this article</th></tr>
           <tr><td><a href="/Kernel/Index">Kernel</a></td><td><a href="/Kernel/Index#Development_model-Driver_merging">Development model/Driver merging</a></td></tr>
            </table><br clear="all">
<hr width="60%%" align="left">
            <form action="/Login/" method="post">
            <input type="hidden" name="target" value="/Articles/306601/" />
            <input type="submit" name="login" value="Log in" /> to post comments
            <p>
        
</div> <!-- ArticleText -->
<p><a name="Comments"></a>
<a name="CommAnchor306728"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The sad story of the em28xx driver</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 11, 2008 23:24 UTC (Tue)
                               by <b>Hanno</b> (guest, #41730)
                              [<a href="/Articles/306728/">Link</a>] (6 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
So nothing has changed since over a year?<br>
<p>
<a href="http://www.linuxtv.org/pipermail/linux-dvb/2007-July/018882.html">http://www.linuxtv.org/pipermail/linux-dvb/2007-July/0188...</a><br>
<p>
Sad. As a user, it's unbelievable to me that these guys have so much time on their hand for childish flamewars.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/306728/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor306730"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The sad story of the em28xx driver</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 12, 2008 0:45 UTC (Wed)
                               by <b>JoeF</b> (guest, #4486)
                              [<a href="/Articles/306730/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Well, politics and clashes of personalities happen in every organization, even in a loosely organized community like an open source development group.<br>
It is up to the leaders/steering group/maintainers to handle these kinds of situations. Obviously, this hasn't worked out very well in this instance.<br>
Maybe Jon's article can be the crystallization point for everybody to take a step back and go on a path of compromise instead of confrontation (hope springs eternal, I know...)<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/306730/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor306759"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The sad story of the em28xx driver</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 12, 2008 13:07 UTC (Wed)
                               by <b>mrec</b> (guest, #41847)
                              [<a href="/Articles/306759/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Oh I'm able to reply here great :-)<br>
<p>
First of all let's start at the beginning and not in the middle of everything.<br>
<p>
I agree with Jonathan that many things finally went that way BUT there's some kind of reason for it.<br>
<p>
First of all some clarification:<br>
The ownership of the em28xx driver, I have a couple of devices here and I know what's required to get those things work, there are also some requirements about backward compatibility. I don't want to own the em28xx driver, I would like to maintain it since I did that for 3 years already, accepting useful patches giving reviews etc. It could easily be that this was mistaken though.<br>
<p>
The userspace driver attempt .. there we go it start's right in the middle of the whole story not taking into account what happened before.<br>
<p>
So let's start and add it here:<br>
<p>
The whole driver started at the end of 2005, I started to reverse engineer the protocol and worked on it with Luca Risolia(hope I got the name right). We got video, tuning and audio work. At that time nothing was a problem because there were only analog devices available.<br>
At the beginning of 2006 hybrid devices came up and I continued to work on the driver. At this time I faced the problem that the analog and digital TV framework was separated, and there was certainly also some flamewar going on between v4l and the dvb people.<br>
<p>
There have been a couple of approaches to solve the technical problem to share 1 component between analog and digital TV (the tuner) back then. My first approach was limited to a specific parameter setting which only allowed to receive some TV channels, I realized that and started over again digging further into the V4L and DVB framework.<br>
I came up with the idea to refactor the tuner stuff in order to be able to use the same tuner code between both v4l and dvb, to make the story short this was declined. During the time while working on it the driver already started supported more and more devices, and that small gap at the beginning became as a base for the entire code, everytime I tried to rework some bits in it it broke alot devices.<br>
<p>
So at that point there was already a large codebase depending on it, and a merge request has been sent.<br>
<a rel="nofollow" href="http://mcentral.de/v4l-dvb/">http://mcentral.de/v4l-dvb/</a><br>
(note this has nothing to do with userspace drivers).<br>
<p>
At that stage device node locking, preventing dvb appications to use the nodes while analog TV was in use was already implemented, and I also worked out alot other PCI devices (some are still not merged with mainline). Also quite a few bugs have been fixed in the kernelframework (eg tuner-core) it cost alot time all together and the work didn't get valued at all. So at the end the code basically just got left behind and also during the development noone of those people who were against it was interested to join the core development - I asked several time on IRC, the ML posts didn't get further anyway either.<br>
<p>
Just one, I have to write that Michael Krufky was also involved into why it turned bad. When I once asked him about joining that stuff he just told me well but you have it already done.. I wanted to do it.<br>
The whole issues at that time gave him the opportunity to work on his own stuff even more to let the existing em28xx code left behind.<br>
<p>
Finally his stuff got merged, bringing my code totally out of sync, and patches which got into mainstream were mostly derived from my code too.<br>
If someone looks at the audio driver, and the patches for the audio driver it's the code I've written, bugfixes to read() for the videoframes the same story but never taking into account all the devices which were supported by the em28xx driver which I worked on constantly.<br>
<p>
So now the userspace stuff comes in thinking about how to open up that project again so that work can be used with the existing kernel.<br>
I got around i2c-dev which allows the access of those shared components in userland, the only outstanding gap in order to remain compatible with existing tv apps was to add a small wrapper to resubmit the controls to userspace (sick isn't it?) well partly there are projects out there for BSD which do tuning in userspace. Another point here could be what is a kernelspace driver worth which requires firmware and doesn't come with firmware. At that time there was no single binary driver available from my side anyway, everything has always been opensource (this also has to be considered).<br>
<p>
Now continue reading with the article ontop of it.<br>
<p>
Markus Rechberger<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/306759/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor306861"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The sad story of the em28xx driver</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 12, 2008 22:30 UTC (Wed)
                               by <b>liljencrantz</b> (guest, #28458)
                              [<a href="/Articles/306861/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I mean no offense, but it would seem to me from this message that the good old language barrier is likely to be a significant factor in the problems described - I found your post extremely hard to understand, and I suspect I'm not alone in this.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/306861/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor306867"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The sad story of the em28xx driver</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 12, 2008 23:57 UTC (Wed)
                               by <b>mrec</b> (guest, #41847)
                              [<a href="/Articles/306867/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
The main problem is that the whole story is much longer, even though what I wrote right there it's just a small piece of what was going on before. I just want to avoid spending hours on it again.<br>
<p>
Someone could dig into the whole topic at least for a week (fulltime).<br>
Jonathan's article is overall ok, but it starts right after the bad things happened when the mood of everyone was already below something good.<br>
<p>
Markus<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/306867/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor306872"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The sad story of the em28xx driver</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2008 1:35 UTC (Thu)
                               by <b>JoeF</b> (guest, #4486)
                              [<a href="/Articles/306872/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Well, let the past be the past. There is no point really to rehash all the old stuff, and to blame person a or person b or person c. I am sure the other people involved have their own recollections which may differ from your's (and memory fades, anyway.)<br>
That's all water under the bridge. Some time, some sociologist may want to use that material in a thesis about group dynamics in open source development... (no offense to sociologists)<br>
<p>
Let's just agree that you guys disagreed, and move forward.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/306872/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
<a name="CommAnchor307275"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The sad story of the em28xx driver</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 14, 2008 23:30 UTC (Fri)
                               by <b>giraffedata</b> (guest, #1954)
                              [<a href="/Articles/307275/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <blockquote>
... it's unbelievable to me that these guys have so much time on their hand for childish flamewars.
</blockquote>
<p>
It takes very little time to conduct a childish flamewar.  In the referenced posting, you suggest that time could be used better to fix bugs.  I'll bet they couldn't fix 5% of a device driver bug in the time it takes to write a series of childish flames.
<p>
So I think your real objection isn't to the developers' allocation of their time, but to the way they choose to conduct their lives.

      
          <div class="CommentReplyButton">
            <form action="/Articles/307275/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor306738"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The sad story of the em28xx driver</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 12, 2008 6:34 UTC (Wed)
                               by <b>cjayachandran</b> (subscriber, #45677)
                              [<a href="/Articles/306738/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Is there an issue in having two drivers for the same device? <br>
<p>
I distinctly remember many devices having legacy as well as newer drivers supporting more devices, it does not hurt anybody to get his new driver in as an alternate driver and give the choice to the user.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/306738/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor306747"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">It's same as with Reiser4</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 12, 2008 9:11 UTC (Wed)
                               by <b>khim</b> (subscriber, #9252)
                              [<a href="/Articles/306747/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <p>If you are abusing developers's and users's trust it becomes suddenly 
much harder to integrate code in kernel. Take look on the story with 
Reiserfs and Reiser4: Hans promised to work with the community on Reiserfs 
and so after long deliberation it was included in kernel. After few years 
he started to close bugs and feature requests with "use reiser4" 
(effectively abandoning users) and stopped reiserfs support (when something 
went wring he pointed out that the same thing worked perfectly with 
previous version of kernel and basically refused to debug and fix problems 
thus abandoning developers). This made inclusion of reiser4 more-or-less 
impossible: since it was pretty clear that reiser4 will be abandoned once 
it'll be included all problems which usually don't act as merge blockers 
(because kernel developers know they can be fixed later) were declared as 
such (because it was not clear if Hans and his command will try to fix them 
after merge and history showed that he'll probably not bother).</p>

<p>And in most cases newer drivers support more hardware, not less. Kernel 
developers are quite reluctant to include driver which works on subset of 
hardware just because driver developer is not interested with community 
work. If there are technical reasons to have two drivers it's Ok, but if 
the reasons are political... it's different story. Multiple drivers are 
easily accepted as temporary solution, but then someone must merge support 
for other hardware - and then we have "reiserfs situation" where developer 
works for it's own feature and against all others...</p>
      
          <div class="CommentReplyButton">
            <form action="/Articles/306747/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor307267"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">It's same as with Reiser4</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 14, 2008 23:25 UTC (Fri)
                               by <b>giraffedata</b> (guest, #1954)
                              [<a href="/Articles/307267/">Link</a>] (2 responses)
      </p>
      
      </div>
      </summary>
      If I follow your analogy, you're saying that it would be bad to include Markus's new driver alongside the existing one because Markus would eventually abandon it in favor of working on yet another new driver.
<p>
Is it actually a requirement for driver inclusion that future support be lined up?  That seems to be the opposite of the open source process.  Rather, a developer puts code into the mainline so that the whole rest of the world can maintain it.  In particular, users of the code &mdash; people with a material interest in it &mdash; maintain it.  If the code doesn't get maintained and becomes unusable, we just drop it back out.
<p>
The article mentions the confusion factor of having two similar drivers.  I can think of another drawback: division of development and test effort.  All of these are weak.
<p>
Mauro doesn't explain his reason for not wanting both.  He just says:

<blockquote>
Both upstream and the 4 duplicated drivers have similar functionality. Also,
the upstream driver is actively maintained. So, there's no sense on accepting
those duplicated drivers.
</blockquote>

<p>That's non sequitur to me.

      
          <div class="CommentReplyButton">
            <form action="/Articles/307267/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor307277"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">It's same as with Reiser4</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 14, 2008 23:32 UTC (Fri)
                               by <b>dlang</b> (guest, #313)
                              [<a href="/Articles/307277/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I read it not as an analogy, but as another example of a developer who had trouble working with people and therefor had trouble getting code merged.<br>
<p>
there have been many examples of alternate drivers for hardwar being in the kernel, very few of them have worked out well in the long run, so kernel devs don't want to do more of it.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/307277/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor307299"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">It's same as with Reiser4</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 15, 2008 5:30 UTC (Sat)
                               by <b>mrec</b> (guest, #41847)
                              [<a href="/Articles/307299/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
It's not about a developer having problem to work together with people.<br>
It's about that this code has been available for years<br>
<p>
<a rel="nofollow" href="http://mcentral.de/hg/~mrec/em28xx-new/shortlog">http://mcentral.de/hg/~mrec/em28xx-new/shortlog</a><br>
<p>
just check the list of contributors, and the maintainer hard fights against it now. The reason for the big patch has always been that the code had to be rebased because the maintainer basically didn't care about anything there.<br>
<p>
Another example<br>
<p>
<a rel="nofollow" href="http://linuxtv.org/hg/v4l-dvb/rev/dc22320bb695">http://linuxtv.org/hg/v4l-dvb/rev/dc22320bb695</a><br>
<p>
I don't see any pull request on the mailinglist, Mauro does it offlist excluding everyone else from it. Ok I acknowledge that is what's wanted and how it should be done.<br>
<p>
Markus<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/307299/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
<a name="CommAnchor306751"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The sad story of the em28xx driver</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 12, 2008 9:26 UTC (Wed)
                               by <b>hverkuil</b> (subscriber, #41056)
                              [<a href="/Articles/306751/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
I'd like to clarify my position on the empia driver since the quote from <br>
my review in this article is a bit misleading.<br>
<p>
I am *not* in favor of adding the empia driver as-is to the kernel as the <br>
out-of-context quote suggests. As I mentioned in my review the empia <br>
driver *first* needs to be converted to use the current tuner drivers and <br>
infrastructure. Only then would I be in favor of merging the empia <br>
driver. Until now I have seen no attempts to make these changes, alas.<br>
<p>
It's all a very sad story, especially compared with the success stories <br>
in v4l in the recent years: ivtv, gpsca, uvcvideo just to name a few were <br>
all added without any problem and in good harmony. v4l-dvb is now the <br>
third-largest driver subsystem (after scsi and net) in the linux kernel <br>
which is all thanks to the hard work of the many dedicated v4l-dvb <br>
developers.<br>
<p>
Hans Verkuil<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/306751/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor306935"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The sad story of the em28xx driver</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2008 11:22 UTC (Thu)
                               by <b>mjcoder</b> (guest, #54432)
                              [<a href="/Articles/306935/">Link</a>] (5 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
One huge problem is that the V4L community is not willing to advance (or rewrite) their API to ease driver development (just take a look at the DVB-S(2) mess). <br>
<p>
They fight for (at least) three years now and they still don't have a useful infrastructure to support DVB-S2 devices.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/306935/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor307033"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The sad story of the em28xx driver</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 13, 2008 18:35 UTC (Thu)
                               by <b>mrec</b> (guest, #41847)
                              [<a href="/Articles/307033/">Link</a>] (4 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
that's over since Mauro took over some people didn't agree either, one maintainer stopped to support his project too because of that, the competitive S2 API got merged already.<br>
<p>
<a rel="nofollow" href="http://www.mail-archive.com/vdr@linuxtv.org/msg07539.html">http://www.mail-archive.com/vdr@linuxtv.org/msg07539.html</a><br>
<p>
although guess what one argument for not taking my code was we should first get multiproto in before taking my first patches. It's all connected, including multiple flamewars. Now one group (the v4l group) has taken over without taking other dvb people who managed the project before as a small group before... although this group wasn't defined either.<br>
<p>
It's all about friendship there, A likes B instead of C even if C has better stuff and supporters, so A will wait till B completes his stuff, and C will be pushed away as long as possible without clean reviews or something else, this is just the way how it works out. Basically there are too many good people involved already. The project is moreover looking for lower skilled people who can be taught what to do (do it as A or B says otherwise they'll run against C). It's not a project for innovative people to work on own ideas that for other open operating systems are better in that case.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/307033/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor307360"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The sad story of the em28xx driver</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 16, 2008 10:17 UTC (Sun)
                               by <b>Ze</b> (guest, #54182)
                              [<a href="/Articles/307360/">Link</a>] (3 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
When friendship rules over code quality then that's a sad state of affairs but not an uncommon one. <br>
<p>
Cliques are a hard problem to beat and generally impossible , we can see so many examples of this screwing projects over.<br>
<p>
In this case it's bloody disgusting that code was put on the backburner in favour of waiting for somebody else to complete their alternative solution just because A liked B better than C.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/307360/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor307527"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The sad story of the em28xx driver</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 17, 2008 20:35 UTC (Mon)
                               by <b>cde</b> (guest, #46554)
                              [<a href="/Articles/307527/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
This story reminds me of the Con Kolivas scheduler melodrama. Here we have again one guy against a supposed "clique" of kernel developers. Reality is probably a bit more complex though.<br>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/307527/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
<a name="CommAnchor308683"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The sad story of the em28xx driver</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 26, 2008 18:30 UTC (Wed)
                               by <b>makomk</b> (guest, #51493)
                              [<a href="/Articles/308683/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
As I recall, it was more complicated than that (though this was a while<br>
ago). There was some prolonged feuding relating to changes to the core<br>
code. They ended with Markus submitting some code which made non-backwards<br>
compatible changes to that code (something some of the other developers<br>
didn't like); one of them proposed a simple change that would add better<br>
backwards compatibility, but Markus basically said "take it as it is or<br>
leave it". <br>
<p>
What happened next was that Marcus developed his own (partially user-space)<br>
replacement for a large chunk of the Video4Linux/DVB framework, including<br>
forking a driver or two that hadn't been written by him, had been in-kernel<br>
for a while, and was used by other cards. Meanwhile, the other developer<br>
added the main required feature (support for hybrid analog-digital tuners)<br>
to the Video4Linux code in roughly the same way as they'd proposed earlier,<br>
but written from scratch, and this was accepted. (It also eventually lead<br>
to some nice code cleanups.)<br>
<p>
Well, Marcus' userspace stuff was rejected, due to (a) duplicating existing<br>
code in a way that'd make life difficult for developers and (b) the only<br>
real "benefit" being the ability to have closed-source blobs in drivers.<br>
(Messages to me from Markus threatening to take his code closed-source if<br>
he didn't get his way didn't exactly encourage me to support it either.)<br>
There were code quality issues too, of course, but I'm not sure anyone got<br>
as far as looking at those.<br>
<p>
In the end, some of the developers decided to just improve the version of<br>
the driver currently in-kernel rather than continuing to deal with Markus.<br>
Only after this effort was well underway did Markus begin developing yet<br>
another in-kernel driver. (This one also seemed to fail to meet kernel code<br>
quality standards last time I checked, mainly due to incorporating large<br>
chunks of third-party code.)<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/308683/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor308784"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The sad story of the em28xx driver</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 27, 2008 15:39 UTC (Thu)
                               by <b>mrec</b> (guest, #41847)
                              [<a href="/Articles/308784/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
(b) the only real "benefit" being the ability to have closed-source blobs in drivers.<br>
<p>
This was one possibility yes, but I also pointed out that the already available i2c-dev infrastructure could directly be used with the driver for setting up chips.<br>
<p>
<a rel="nofollow" href="http://mcentral.de/mrec/analogscan.png">http://mcentral.de/mrec/analogscan.png</a><br>
<p>
This player parses the sysfs tree and opens the corresponding i2c device directly without any additional module. It can do some setup steps which the API currently cannot handle.<br>
<p>
So in order to avoid that someone has to disallow the usbfs and i2c-dev interface. Back then Greg Kroah pointed out that binary drivers could use that interface, it was accepted because he basically didn't clash with another developer. So binary drivers here or there is basically the same.<br>
This was basically my try to make development liberal and not driven by one single person.<br>
<p>
The userspace drivers used a couple of self written drivers. The drivers which everything was about are still not available in the kernel, it basically was about Micronas chips back then.<br>
The approach aimed to have some compatibility level to the available BSD tuning modules.<br>
<p>
Building a virtual front between developers who actually supported linux for a long time isn't healthy. But well that way I don't see any chance in officially supporting and telling people to use video on linux unless they want to depend on the video4linux Maintainer. This will be my last comment about everything unless someone starts to think clear about the whole situation. <br>
<p>
I never dropped off anyone contributing to that project, rather helped them to get further into it and the code authors as well as the support mailinglist are a proof of that.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/308784/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
</details>
</details>
</details>
<a name="CommAnchor308027"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The sad story of the em28xx driver</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 20, 2008 18:19 UTC (Thu)
                               by <b>donbarry</b> (guest, #10485)
                              [<a href="/Articles/308027/">Link</a>] (1 responses)
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Reminds one of that person who went by the nom de plume of "Nemosoft".<br>
<p>
No possibility they are the same person, is it?<br>
<p>
Same disagreements, same tone, same part of the kernel..<br>
<p>
<p>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/308027/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    <a name="CommAnchor308270"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">The sad story of the em28xx driver</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 24, 2008 10:19 UTC (Mon)
                               by <b>zor</b> (guest, #55304)
                              [<a href="/Articles/308270/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
Or could it be, different people, same unresolved management problem ?<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/308270/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</details>
<a name="CommAnchor308391"></a>
    <details class="CommentBox" open>
      <summary><h3 class="CommentTitle">Can't a higher-up maintainer intervene?</h3>
      <div class="AnnLine">
      <p class="CommentPoster"> Posted Nov 24, 2008 20:02 UTC (Mon)
                               by <b>nicodoggie</b> (guest, #55309)
                              [<a href="/Articles/308391/">Link</a>] 
      </p>
      
      </div>
      </summary>
      <div class="FormattedComment">
<p>
I'm not really clear about the kernel development process, but when it comes to a popularity vs a quality-of-code vote, can't a higher-up maintainer just evaluate, make decision and put his foot down? <br>
<p>
It's might be quite a problem for Linux as a platform when developers with such access to the hardware specs as Markus can't even properly contribute to the mainline kernel driver.<br>
</div>

      
          <div class="CommentReplyButton">
            <form action="/Articles/308391/comment" method="post">
            <input type="submit" value="Reply to this comment">
            </form>
          </div>
        
     <p>
     
    </details>
</div> <!-- middlecolumn -->
<div class="rightcol not-print">
<div id="azk93271_right_zone"></div>
</div>
</div> <!-- maincolumn -->

            <br clear="all">
            <center>
            <P>
            <span class="ReallySmall">
            Copyright &copy; 2008, Eklektix, Inc.<BR>
            This article may be redistributed under the terms of the
              <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons CC BY-SA 4.0</a> license<br>
            Comments and public postings are copyrighted by their creators.<br>
            Linux  is a registered trademark of Linus Torvalds<br>
            </span>
            </center>
            
            </body></html>
